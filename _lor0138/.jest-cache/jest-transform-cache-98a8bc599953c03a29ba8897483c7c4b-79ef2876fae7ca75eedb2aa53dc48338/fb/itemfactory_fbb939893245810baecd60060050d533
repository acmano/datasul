8d5680097a5268abc79af9470d107bc1
"use strict";
// tests/factories/item.factory.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.expectedErrors = exports.testItemCodigos = void 0;
exports.createItemMasterQueryResult = createItemMasterQueryResult;
exports.createItemEstabQueryResult = createItemEstabQueryResult;
exports.createItemEstabelecimento = createItemEstabelecimento;
exports.createInformacoesGerais = createInformacoesGerais;
exports.createMultipleEstabelecimentos = createMultipleEstabelecimentos;
exports.createItemSemEstabelecimentos = createItemSemEstabelecimentos;
exports.createItemComEstabObsoleto = createItemComEstabObsoleto;
exports.createItemComMuitosEstabs = createItemComMuitosEstabs;
/**
 * Factory para criar dados de teste do Item
 */
// ========================================
// ITEM MASTER (Resultado da Query)
// ========================================
function createItemMasterQueryResult(overrides) {
    return {
        itemCodigo: '7530110',
        itemDescricao: 'VALVULA DE ESFERA 1/2" BRONZE',
        itemUnidade: 'UN',
        ...overrides,
    };
}
// ========================================
// ESTABELECIMENTO (Resultado da Query)
// ========================================
function createItemEstabQueryResult(overrides) {
    return {
        itemCodigo: '7530110',
        estabCodigo: '01.01',
        estabNome: 'CD São Paulo',
        codObsoleto: 0,
        ...overrides,
    };
}
// ========================================
// ESTABELECIMENTO (Response DTO)
// ========================================
function createItemEstabelecimento(overrides) {
    return {
        itemCodigo: '7530110',
        estabCodigo: '01.01',
        estabNome: 'CD São Paulo',
        statusIndex: 1, // 0 = ativo (1), outros = inativo (2)
        ...overrides,
    };
}
// ========================================
// INFORMAÇÕES GERAIS (Response DTO Completo)
// ========================================
function createInformacoesGerais(overrides) {
    return {
        identificacaoItemCodigo: '7530110',
        identificacaoItemDescricao: 'VALVULA DE ESFERA 1/2" BRONZE',
        identificacaoItemUnidade: 'UN',
        identificacaoItensEstabelecimentos: [
            createItemEstabelecimento(),
            createItemEstabelecimento({
                estabCodigo: '02.01',
                estabNome: 'Fábrica Joinville',
                statusIndex: 2,
            }),
        ],
        ...overrides,
    };
}
// ========================================
// ARRAYS DE TESTE (múltiplos itens)
// ========================================
function createMultipleEstabelecimentos(count, baseOverrides) {
    return Array.from({ length: count }, (_, i) => createItemEstabelecimento({
        estabCodigo: `0${i + 1}.01`,
        estabNome: `Estabelecimento ${i + 1}`,
        statusIndex: i % 2 === 0 ? 1 : 2, // Alterna entre ativo/inativo
        ...baseOverrides,
    }));
}
// ========================================
// CASOS ESPECIAIS
// ========================================
/**
 * Item sem estabelecimentos
 */
function createItemSemEstabelecimentos() {
    return createInformacoesGerais({
        identificacaoItensEstabelecimentos: [],
    });
}
/**
 * Item com estabelecimento obsoleto
 */
function createItemComEstabObsoleto() {
    return createInformacoesGerais({
        identificacaoItensEstabelecimentos: [
            createItemEstabelecimento({
                statusIndex: 2, // Obsoleto
            }),
        ],
    });
}
/**
 * Item com múltiplos estabelecimentos (10)
 */
function createItemComMuitosEstabs() {
    return createInformacoesGerais({
        identificacaoItensEstabelecimentos: createMultipleEstabelecimentos(10),
    });
}
/**
 * Códigos de item para testes de validação
 */
exports.testItemCodigos = {
    valid: [
        '7530110',
        'ABC123',
        'ITEM001',
        '1',
        'A',
        '1234567890123456', // 16 caracteres (máximo)
    ],
    invalid: [
        '', // Vazio
        '   ', // Só espaços
        '12345678901234567', // 17 caracteres (excede máximo)
        'SELECT * FROM item', // SQL Injection
        '../../../etc/passwd', // Path Traversal
        '<script>alert(1)</script>', // XSS
        'item; DROP TABLE item;--', // SQL Injection com ;
        'item\'--', // SQL Injection com '
        'item|ls', // Command Injection
        'item&&whoami', // Command Injection
        'item$USER', // Variable Injection
    ],
    sanitized: [
        { input: '  7530110  ', expected: '7530110' }, // Remove espaços
        { input: 'ABC-123', expected: 'ABC123' }, // Remove hífen
        { input: 'item"test', expected: 'itemtest' }, // Remove aspas
        { input: 'item;test', expected: 'itemtest' }, // Remove ponto e vírgula
    ],
};
/**
 * Mensagens de erro esperadas
 */
exports.expectedErrors = {
    itemNotFound: (codigo) => `Item ${codigo} não encontrado`,
    validationError: 'Código do item é obrigatório',
    invalidFormat: 'Código do item contém caracteres inválidos. Use apenas letras, números e caracteres básicos',
    maxLength: 'Código do item não pode ter mais de 16 caracteres',
    sqlInjection: 'Código do item contém padrões não permitidos',
    commandInjection: 'Código do item contém caracteres não permitidos',
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvbWFuby9wcm9qZXRvcy9kYXRhc3VsL2xvcjAxMzgvdGVzdHMvZmFjdG9yaWVzL2l0ZW0uZmFjdG9yeS50cyIsIm1hcHBpbmdzIjoiO0FBQUEsa0NBQWtDOzs7QUFnQmxDLGtFQVNDO0FBS0QsZ0VBVUM7QUFLRCw4REFVQztBQUtELDBEQWlCQztBQUtELHdFQVlDO0FBU0Qsc0VBSUM7QUFLRCxnRUFRQztBQUtELDhEQUlDO0FBeEhEOztHQUVHO0FBRUgsMkNBQTJDO0FBQzNDLG1DQUFtQztBQUNuQywyQ0FBMkM7QUFDM0MsU0FBZ0IsMkJBQTJCLENBQ3pDLFNBQTBDO0lBRTFDLE9BQU87UUFDTCxVQUFVLEVBQUUsU0FBUztRQUNyQixhQUFhLEVBQUUsK0JBQStCO1FBQzlDLFdBQVcsRUFBRSxJQUFJO1FBQ2pCLEdBQUcsU0FBUztLQUNiLENBQUM7QUFDSixDQUFDO0FBRUQsMkNBQTJDO0FBQzNDLHVDQUF1QztBQUN2QywyQ0FBMkM7QUFDM0MsU0FBZ0IsMEJBQTBCLENBQ3hDLFNBQXlDO0lBRXpDLE9BQU87UUFDTCxVQUFVLEVBQUUsU0FBUztRQUNyQixXQUFXLEVBQUUsT0FBTztRQUNwQixTQUFTLEVBQUUsY0FBYztRQUN6QixXQUFXLEVBQUUsQ0FBQztRQUNkLEdBQUcsU0FBUztLQUNiLENBQUM7QUFDSixDQUFDO0FBRUQsMkNBQTJDO0FBQzNDLGlDQUFpQztBQUNqQywyQ0FBMkM7QUFDM0MsU0FBZ0IseUJBQXlCLENBQ3ZDLFNBQXlEO0lBRXpELE9BQU87UUFDTCxVQUFVLEVBQUUsU0FBUztRQUNyQixXQUFXLEVBQUUsT0FBTztRQUNwQixTQUFTLEVBQUUsY0FBYztRQUN6QixXQUFXLEVBQUUsQ0FBQyxFQUFFLHNDQUFzQztRQUN0RCxHQUFHLFNBQVM7S0FDYixDQUFDO0FBQ0osQ0FBQztBQUVELDJDQUEyQztBQUMzQyw2Q0FBNkM7QUFDN0MsMkNBQTJDO0FBQzNDLFNBQWdCLHVCQUF1QixDQUNyQyxTQUEwQztJQUUxQyxPQUFPO1FBQ0wsdUJBQXVCLEVBQUUsU0FBUztR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QUMsUUFBUSxNQUFNLGlCQUFpQjtJQUNqRSxlQUFlLEVBQUUsOEJBQThCO0lBQy9DLGFBQWEsRUFBRSw2RkFBNkY7SUFDNUcsU0FBUyxFQUFFLG1EQUFtRDtJQUM5RCxZQUFZLEVBQUUsOENBQThDO0lBQzVELGdCQUFnQixFQUFFLGlEQUFpRDtDQUNwRSxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL21hbm8vcHJvamV0b3MvZGF0YXN1bC9sb3IwMTM4L3Rlc3RzL2ZhY3Rvcmllcy9pdGVtLmZhY3RvcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGVzdHMvZmFjdG9yaWVzL2l0ZW0uZmFjdG9yeS50c1xuXG5pbXBvcnQge1xuICBJdGVtTWFzdGVyUXVlcnlSZXN1bHQsXG4gIEl0ZW1Fc3RhYlF1ZXJ5UmVzdWx0LFxuICBJdGVtSW5mb3JtYWNvZXNHZXJhaXMsXG4gIEl0ZW1JbmZvcm1hY29lc0dlcmFpc0VzdGFiZWxlY2ltZW50byxcbn0gZnJvbSAnQGFwaS9sb3IwMTM4L2l0ZW0vZGFkb3NDYWRhc3RyYWlzL2luZm9ybWFjb2VzR2VyYWlzL3R5cGVzL2luZm9ybWFjb2VzR2VyYWlzLnR5cGVzJztcblxuLyoqXG4gKiBGYWN0b3J5IHBhcmEgY3JpYXIgZGFkb3MgZGUgdGVzdGUgZG8gSXRlbVxuICovXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIElURU0gTUFTVEVSIChSZXN1bHRhZG8gZGEgUXVlcnkpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSXRlbU1hc3RlclF1ZXJ5UmVzdWx0KFxuICBvdmVycmlkZXM/OiBQYXJ0aWFsPEl0ZW1NYXN0ZXJRdWVyeVJlc3VsdD5cbik6IEl0ZW1NYXN0ZXJRdWVyeVJlc3VsdCB7XG4gIHJldHVybiB7XG4gICAgaXRlbUNvZGlnbzogJzc1MzAxMTAnLFxuICAgIGl0ZW1EZXNjcmljYW86ICdWQUxWVUxBIERFIEVTRkVSQSAxLzJcIiBCUk9OWkUnLFxuICAgIGl0ZW1VbmlkYWRlOiAnVU4nLFxuICAgIC4uLm92ZXJyaWRlcyxcbiAgfTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRVNUQUJFTEVDSU1FTlRPIChSZXN1bHRhZG8gZGEgUXVlcnkpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSXRlbUVzdGFiUXVlcnlSZXN1bHQoXG4gIG92ZXJyaWRlcz86IFBhcnRpYWw8SXRlbUVzdGFiUXVlcnlSZXN1bHQ+XG4pOiBJdGVtRXN0YWJRdWVyeVJlc3VsdCB7XG4gIHJldHVybiB7XG4gICAgaXRlbUNvZGlnbzogJzc1MzAxMTAnLFxuICAgIGVzdGFiQ29kaWdvOiAnMDEuMDEnLFxuICAgIGVzdGFiTm9tZTogJ0NEIFPDo28gUGF1bG8nLFxuICAgIGNvZE9ic29sZXRvOiAwLFxuICAgIC4uLm92ZXJyaWRlcyxcbiAgfTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRVNUQUJFTEVDSU1FTlRPIChSZXNwb25zZSBEVE8pXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSXRlbUVzdGFiZWxlY2ltZW50byhcbiAgb3ZlcnJpZGVzPzogUGFydGlhbDxJdGVtSW5mb3JtYWNvZXNHZXJhaXNFc3RhYmVsZWNpbWVudG8+XG4pOiBJdGVtSW5mb3JtYWNvZXNHZXJhaXNFc3RhYmVsZWNpbWVudG8ge1xuICByZXR1cm4ge1xuICAgIGl0ZW1Db2RpZ286ICc3NTMwMTEwJyxcbiAgICBlc3RhYkNvZGlnbzogJzAxLjAxJyxcbiAgICBlc3RhYk5vbWU6ICdDRCBTw6NvIFBhdWxvJyxcbiAgICBzdGF0dXNJbmRleDogMSwgLy8gMCA9IGF0aXZvICgxKSwgb3V0cm9zID0gaW5hdGl2byAoMilcbiAgICAuLi5vdmVycmlkZXMsXG4gIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIElORk9STUHDh8OVRVMgR0VSQUlTIChSZXNwb25zZSBEVE8gQ29tcGxldG8pXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5mb3JtYWNvZXNHZXJhaXMoXG4gIG92ZXJyaWRlcz86IFBhcnRpYWw8SXRlbUluZm9ybWFjb2VzR2VyYWlzPlxuKTogSXRlbUluZm9ybWFjb2VzR2VyYWlzIHtcbiAgcmV0dXJuIHtcbiAgICBpZGVudGlmaWNhY2FvSXRlbUNvZGlnbzogJzc1MzAxMTAnLFxuICAgIGlkZW50aWZpY2FjYW9JdGVtRGVzY3JpY2FvOiAnVkFMVlVMQSBERSBFU0ZFUkEgMS8yXCIgQlJPTlpFJyxcbiAgICBpZGVudGlmaWNhY2FvSXRlbVVuaWRhZGU6ICdVTicsXG4gICAgaWRlbnRpZmljYWNhb0l0ZW5zRXN0YWJlbGVjaW1lbnRvczogW1xuICAgICAgY3JlYXRlSXRlbUVzdGFiZWxlY2ltZW50bygpLFxuICAgICAgY3JlYXRlSXRlbUVzdGFiZWxlY2ltZW50byh7XG4gICAgICAgIGVzdGFiQ29kaWdvOiAnMDIuMDEnLFxuICAgICAgICBlc3RhYk5vbWU6ICdGw6FicmljYSBKb2ludmlsbGUnLFxuICAgICAgICBzdGF0dXNJbmRleDogMixcbiAgICAgIH0pLFxuICAgIF0sXG4gICAgLi4ub3ZlcnJpZGVzLFxuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBUlJBWVMgREUgVEVTVEUgKG3Dumx0aXBsb3MgaXRlbnMpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTXVsdGlwbGVFc3RhYmVsZWNpbWVudG9zKFxuICBjb3VudDogbnVtYmVyLFxuICBiYXNlT3ZlcnJpZGVzPzogUGFydGlhbDxJdGVtSW5mb3JtYWNvZXNHZXJhaXNFc3RhYmVsZWNpbWVudG8+XG4pOiBJdGVtSW5mb3JtYWNvZXNHZXJhaXNFc3RhYmVsZWNpbWVudG9bXSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjb3VudCB9LCAoXywgaSkgPT5cbiAgICBjcmVhdGVJdGVtRXN0YWJlbGVjaW1lbnRvKHtcbiAgICAgIGVzdGFiQ29kaWdvOiBgMCR7aSArIDF9LjAxYCxcbiAgICAgIGVzdGFiTm9tZTogYEVzdGFiZWxlY2ltZW50byAke2kgKyAxfWAsXG4gICAgICBzdGF0dXNJbmRleDogaSAlIDIgPT09IDAgPyAxIDogMiwgLy8gQWx0ZXJuYSBlbnRyZSBhdGl2by9pbmF0aXZvXG4gICAgICAuLi5iYXNlT3ZlcnJpZGVzLFxuICAgIH0pXG4gICk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENBU09TIEVTUEVDSUFJU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEl0ZW0gc2VtIGVzdGFiZWxlY2ltZW50b3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1TZW1Fc3RhYmVsZWNpbWVudG9zKCk6IEl0ZW1JbmZvcm1hY29lc0dlcmFpcyB7XG4gIHJldHVybiBjcmVhdGVJbmZvcm1hY29lc0dlcmFpcyh7XG4gICAgaWRlbnRpZmljYWNhb0l0ZW5zRXN0YWJlbGVjaW1lbnRvczogW10sXG4gIH0pO1xufVxuXG4vKipcbiAqIEl0ZW0gY29tIGVzdGFiZWxlY2ltZW50byBvYnNvbGV0b1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSXRlbUNvbUVzdGFiT2Jzb2xldG8oKTogSXRlbUluZm9ybWFjb2VzR2VyYWlzIHtcbiAgcmV0dXJuIGNyZWF0ZUluZm9ybWFjb2VzR2VyYWlzKHtcbiAgICBpZGVudGlmaWNhY2FvSXRlbnNFc3RhYmVsZWNpbWVudG9zOiBbXG4gICAgICBjcmVhdGVJdGVtRXN0YWJlbGVjaW1lbnRvKHtcbiAgICAgICAgc3RhdHVzSW5kZXg6IDIsIC8vIE9ic29sZXRvXG4gICAgICB9KSxcbiAgICBdLFxuICB9KTtcbn1cblxuLyoqXG4gKiBJdGVtIGNvbSBtw7psdGlwbG9zIGVzdGFiZWxlY2ltZW50b3MgKDEwKVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSXRlbUNvbU11aXRvc0VzdGFicygpOiBJdGVtSW5mb3JtYWNvZXNHZXJhaXMge1xuICByZXR1cm4gY3JlYXRlSW5mb3JtYWNvZXNHZXJhaXMoe1xuICAgIGlkZW50aWZpY2FjYW9JdGVuc0VzdGFiZWxlY2ltZW50b3M6IGNyZWF0ZU11bHRpcGxlRXN0YWJlbGVjaW1lbnRvcygxMCksXG4gIH0pO1xufVxuXG4vKipcbiAqIEPDs2RpZ29zIGRlIGl0ZW0gcGFyYSB0ZXN0ZXMgZGUgdmFsaWRhw6fDo29cbiAqL1xuZXhwb3J0IGNvbnN0IHRlc3RJdGVtQ29kaWdvcyA9IHtcbiAgdmFsaWQ6IFtcbiAgICAnNzUzMDExMCcsXG4gICAgJ0FCQzEyMycsXG4gICAgJ0lURU0wMDEnLFxuICAgICcxJyxcbiAgICAnQScsXG4gICAgJzEyMzQ1Njc4OTAxMjM0NTYnLCAvLyAxNiBjYXJhY3RlcmVzIChtw6F4aW1vKVxuICBdLFxuICBcbiAgaW52YWxpZDogW1xuICAgICcnLCAvLyBWYXppb1xuICAgICcgICAnLCAvLyBTw7MgZXNwYcOnb3NcbiAgICAnMTIzNDU2Nzg5MDEyMzQ1NjcnLCAvLyAxNyBjYXJhY3RlcmVzIChleGNlZGUgbcOheGltbylcbiAgICAnU0VMRUNUICogRlJPTSBpdGVtJywgLy8gU1FMIEluamVjdGlvblxuICAgICcuLi8uLi8uLi9ldGMvcGFzc3dkJywgLy8gUGF0aCBUcmF2ZXJzYWxcbiAgICAnPHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0PicsIC8vIFhTU1xuICAgICdpdGVtOyBEUk9QIFRBQkxFIGl0ZW07LS0nLCAvLyBTUUwgSW5qZWN0aW9uIGNvbSA7XG4gICAgJ2l0ZW1cXCctLScsIC8vIFNRTCBJbmplY3Rpb24gY29tICdcbiAgICAnaXRlbXxscycsIC8vIENvbW1hbmQgSW5qZWN0aW9uXG4gICAgJ2l0ZW0mJndob2FtaScsIC8vIENvbW1hbmQgSW5qZWN0aW9uXG4gICAgJ2l0ZW0kVVNFUicsIC8vIFZhcmlhYmxlIEluamVjdGlvblxuICBdLFxuXG4gIHNhbml0aXplZDogW1xuICAgIHsgaW5wdXQ6ICcgIDc1MzAxMTAgICcsIGV4cGVjdGVkOiAnNzUzMDExMCcgfSwgLy8gUmVtb3ZlIGVzcGHDp29zXG4gICAgeyBpbnB1dDogJ0FCQy0xMjMnLCBleHBlY3RlZDogJ0FCQzEyMycgfSwgLy8gUmVtb3ZlIGjDrWZlblxuICAgIHsgaW5wdXQ6ICdpdGVtXCJ0ZXN0JywgZXhwZWN0ZWQ6ICdpdGVtdGVzdCcgfSwgLy8gUmVtb3ZlIGFzcGFzXG4gICAgeyBpbnB1dDogJ2l0ZW07dGVzdCcsIGV4cGVjdGVkOiAnaXRlbXRlc3QnIH0sIC8vIFJlbW92ZSBwb250byBlIHbDrXJndWxhXG4gIF0sXG59O1xuXG4vKipcbiAqIE1lbnNhZ2VucyBkZSBlcnJvIGVzcGVyYWRhc1xuICovXG5leHBvcnQgY29uc3QgZXhwZWN0ZWRFcnJvcnMgPSB7XG4gIGl0ZW1Ob3RGb3VuZDogKGNvZGlnbzogc3RyaW5nKSA9PiBgSXRlbSAke2NvZGlnb30gbsOjbyBlbmNvbnRyYWRvYCxcbiAgdmFsaWRhdGlvbkVycm9yOiAnQ8OzZGlnbyBkbyBpdGVtIMOpIG9icmlnYXTDs3JpbycsXG4gIGludmFsaWRGb3JtYXQ6ICdDw7NkaWdvIGRvIGl0ZW0gY29udMOpbSBjYXJhY3RlcmVzIGludsOhbGlkb3MuIFVzZSBhcGVuYXMgbGV0cmFzLCBuw7ptZXJvcyBlIGNhcmFjdGVyZXMgYsOhc2ljb3MnLFxuICBtYXhMZW5ndGg6ICdDw7NkaWdvIGRvIGl0ZW0gbsOjbyBwb2RlIHRlciBtYWlzIGRlIDE2IGNhcmFjdGVyZXMnLFxuICBzcWxJbmplY3Rpb246ICdDw7NkaWdvIGRvIGl0ZW0gY29udMOpbSBwYWRyw7VlcyBuw6NvIHBlcm1pdGlkb3MnLFxuICBjb21tYW5kSW5qZWN0aW9uOiAnQ8OzZGlnbyBkbyBpdGVtIGNvbnTDqW0gY2FyYWN0ZXJlcyBuw6NvIHBlcm1pdGlkb3MnLFxufTsiXSwidmVyc2lvbiI6M30=