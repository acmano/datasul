{"file":"/home/mano/projetos/datasul/lor0138/src/shared/types/apiKey.types.ts","mappings":";AAAA,mCAAmC;;;AAEnC,IAAY,QAKX;AALD,WAAY,QAAQ;IAClB,yBAAa,CAAA;IACb,+BAAmB,CAAA;IACnB,qCAAyB,CAAA;IACzB,2BAAe,CAAA;AACjB,CAAC,EALW,QAAQ,wBAAR,QAAQ,QAKnB;AAuBY,QAAA,kBAAkB,GAAsC;IACnE,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;QACf,IAAI,EAAE,QAAQ,CAAC,IAAI;QACnB,MAAM,EAAE;YACN,SAAS,EAAE,EAAE;YACb,OAAO,EAAE,GAAG;YACZ,MAAM,EAAE,IAAI;SACb;QACD,cAAc,EAAE,CAAC;KAClB;IACD,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;QAClB,IAAI,EAAE,QAAQ,CAAC,OAAO;QACtB,MAAM,EAAE;YACN,SAAS,EAAE,EAAE;YACb,OAAO,EAAE,IAAI;YACb,MAAM,EAAE,KAAK;SACd;QACD,cAAc,EAAE,EAAE;KACnB;IACD,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;QACrB,IAAI,EAAE,QAAQ,CAAC,UAAU;QACzB,MAAM,EAAE;YACN,SAAS,EAAE,GAAG;YACd,OAAO,EAAE,KAAK;YACd,MAAM,EAAE,MAAM;SACf;QACD,cAAc,EAAE,GAAG;KACpB;IACD,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;QAChB,IAAI,EAAE,QAAQ,CAAC,KAAK;QACpB,MAAM,EAAE;YACN,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,KAAK;YACd,MAAM,EAAE,OAAO;SAChB;QACD,cAAc,EAAE,GAAG;KACpB;CACF,CAAC","names":[],"sources":["/home/mano/projetos/datasul/lor0138/src/shared/types/apiKey.types.ts"],"sourcesContent":["// src/shared/types/apiKey.types.ts\n\nexport enum UserTier {\n  FREE = 'free',\n  PREMIUM = 'premium',\n  ENTERPRISE = 'enterprise',\n  ADMIN = 'admin'\n}\n\nexport interface ApiKeyConfig {\n  key: string;\n  userId: string;\n  userName: string;\n  tier: UserTier;\n  active: boolean;\n  createdAt: Date;\n  expiresAt?: Date;\n  metadata?: Record<string, any>;\n}\n\nexport interface RateLimitConfig {\n  tier: UserTier;\n  limits: {\n    perMinute: number;\n    perHour: number;\n    perDay: number;\n  };\n  burstAllowance?: number; // Permite burst acima do limite\n}\n\nexport const RATE_LIMIT_CONFIGS: Record<UserTier, RateLimitConfig> = {\n  [UserTier.FREE]: {\n    tier: UserTier.FREE,\n    limits: {\n      perMinute: 10,\n      perHour: 100,\n      perDay: 1000\n    },\n    burstAllowance: 5\n  },\n  [UserTier.PREMIUM]: {\n    tier: UserTier.PREMIUM,\n    limits: {\n      perMinute: 60,\n      perHour: 1000,\n      perDay: 10000\n    },\n    burstAllowance: 20\n  },\n  [UserTier.ENTERPRISE]: {\n    tier: UserTier.ENTERPRISE,\n    limits: {\n      perMinute: 300,\n      perHour: 10000,\n      perDay: 100000\n    },\n    burstAllowance: 100\n  },\n  [UserTier.ADMIN]: {\n    tier: UserTier.ADMIN,\n    limits: {\n      perMinute: 1000,\n      perHour: 50000,\n      perDay: 1000000\n    },\n    burstAllowance: 500\n  }\n};\n\n// Extender Request do Express\ndeclare global {\n  namespace Express {\n    interface Request {\n      apiKey?: ApiKeyConfig;\n      user?: {\n        id: string;\n        name: string;\n        tier: UserTier;\n      };\n    }\n  }\n}"],"version":3}