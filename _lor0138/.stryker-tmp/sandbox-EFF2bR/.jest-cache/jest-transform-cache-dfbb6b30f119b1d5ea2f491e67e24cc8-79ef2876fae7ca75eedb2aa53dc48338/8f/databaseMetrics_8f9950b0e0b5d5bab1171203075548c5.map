{"file":"/home/mano/projetos/datasul/lor0138/.stryker-tmp/sandbox-EFF2bR/src/infrastructure/metrics/helpers/databaseMetrics.ts","mappings":"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","names":[],"sources":["/home/mano/projetos/datasul/lor0138/.stryker-tmp/sandbox-EFF2bR/src/infrastructure/metrics/helpers/databaseMetrics.ts"],"sourcesContent":["// @ts-nocheck\n// src/infrastructure/metrics/helpers/databaseMetrics.ts\nfunction stryNS_9fa48() {\n  var g = typeof globalThis === 'object' && globalThis && globalThis.Math === Math && globalThis || new Function(\"return this\")();\n  var ns = g.__stryker__ || (g.__stryker__ = {});\n  if (ns.activeMutant === undefined && g.process && g.process.env && g.process.env.__STRYKER_ACTIVE_MUTANT__) {\n    ns.activeMutant = g.process.env.__STRYKER_ACTIVE_MUTANT__;\n  }\n  function retrieveNS() {\n    return ns;\n  }\n  stryNS_9fa48 = retrieveNS;\n  return retrieveNS();\n}\nstryNS_9fa48();\nfunction stryCov_9fa48() {\n  var ns = stryNS_9fa48();\n  var cov = ns.mutantCoverage || (ns.mutantCoverage = {\n    static: {},\n    perTest: {}\n  });\n  function cover() {\n    var c = cov.static;\n    if (ns.currentTestId) {\n      c = cov.perTest[ns.currentTestId] = cov.perTest[ns.currentTestId] || {};\n    }\n    var a = arguments;\n    for (var i = 0; i < a.length; i++) {\n      c[a[i]] = (c[a[i]] || 0) + 1;\n    }\n  }\n  stryCov_9fa48 = cover;\n  cover.apply(null, arguments);\n}\nfunction stryMutAct_9fa48(id) {\n  var ns = stryNS_9fa48();\n  function isActive(id) {\n    if (ns.activeMutant === id) {\n      if (ns.hitCount !== void 0 && ++ns.hitCount > ns.hitLimit) {\n        throw new Error('Stryker: Hit count limit reached (' + ns.hitCount + ')');\n      }\n      return true;\n    }\n    return false;\n  }\n  stryMutAct_9fa48 = isActive;\n  return isActive(id);\n}\nimport { metricsManager } from '../MetricsManager';\nexport type DatabaseType = 'EMP' | 'MULT';\nexport type QueryOperation = 'select' | 'insert' | 'update' | 'delete' | 'other';\n\n/**\n * Helper para instrumentar queries e coletar métricas de banco de dados\n */\nexport class DatabaseMetricsHelper {\n  /**\n   * Detecta o tipo de operação SQL\n   */\n  private static detectOperation(sql: string): QueryOperation {\n    if (stryMutAct_9fa48(\"2090\")) {\n      {}\n    } else {\n      stryCov_9fa48(\"2090\");\n      const normalizedSql = stryMutAct_9fa48(\"2092\") ? sql.toUpperCase() : stryMutAct_9fa48(\"2091\") ? sql.trim().toLowerCase() : (stryCov_9fa48(\"2091\", \"2092\"), sql.trim().toUpperCase());\n      if (stryMutAct_9fa48(\"2095\") ? normalizedSql.endsWith('SELECT') : stryMutAct_9fa48(\"2094\") ? false : stryMutAct_9fa48(\"2093\") ? true : (stryCov_9fa48(\"2093\", \"2094\", \"2095\"), normalizedSql.startsWith(stryMutAct_9fa48(\"2096\") ? \"\" : (stryCov_9fa48(\"2096\"), 'SELECT')))) return stryMutAct_9fa48(\"2097\") ? \"\" : (stryCov_9fa48(\"2097\"), 'select');\n      if (stryMutAct_9fa48(\"2100\") ? normalizedSql.endsWith('INSERT') : stryMutAct_9fa48(\"2099\") ? false : stryMutAct_9fa48(\"2098\") ? true : (stryCov_9fa48(\"2098\", \"2099\", \"2100\"), normalizedSql.startsWith(stryMutAct_9fa48(\"2101\") ? \"\" : (stryCov_9fa48(\"2101\"), 'INSERT')))) return stryMutAct_9fa48(\"2102\") ? \"\" : (stryCov_9fa48(\"2102\"), 'insert');\n      if (stryMutAct_9fa48(\"2105\") ? normalizedSql.endsWith('UPDATE') : stryMutAct_9fa48(\"2104\") ? false : stryMutAct_9fa48(\"2103\") ? true : (stryCov_9fa48(\"2103\", \"2104\", \"2105\"), normalizedSql.startsWith(stryMutAct_9fa48(\"2106\") ? \"\" : (stryCov_9fa48(\"2106\"), 'UPDATE')))) return stryMutAct_9fa48(\"2107\") ? \"\" : (stryCov_9fa48(\"2107\"), 'update');\n      if (stryMutAct_9fa48(\"2110\") ? normalizedSql.endsWith('DELETE') : stryMutAct_9fa48(\"2109\") ? false : stryMutAct_9fa48(\"2108\") ? true : (stryCov_9fa48(\"2108\", \"2109\", \"2110\"), normalizedSql.startsWith(stryMutAct_9fa48(\"2111\") ? \"\" : (stryCov_9fa48(\"2111\"), 'DELETE')))) return stryMutAct_9fa48(\"2112\") ? \"\" : (stryCov_9fa48(\"2112\"), 'delete');\n      return stryMutAct_9fa48(\"2113\") ? \"\" : (stryCov_9fa48(\"2113\"), 'other');\n    }\n  }\n\n  /**\n   * Executa uma query e coleta métricas automaticamente\n   */\n  static async instrumentQuery<T>(database: DatabaseType, sql: string, queryFn: () => Promise<T>): Promise<T> {\n    if (stryMutAct_9fa48(\"2114\")) {\n      {}\n    } else {\n      stryCov_9fa48(\"2114\");\n      const operation = this.detectOperation(sql);\n      const startTime = Date.now();\n\n      // Incrementa queries em progresso\n      metricsManager.dbQueriesInProgress.inc(stryMutAct_9fa48(\"2115\") ? {} : (stryCov_9fa48(\"2115\"), {\n        database\n      }));\n      try {\n        if (stryMutAct_9fa48(\"2116\")) {\n          {}\n        } else {\n          stryCov_9fa48(\"2116\");\n          const result = await queryFn();\n\n          // Sucesso - registra métricas\n          const duration = stryMutAct_9fa48(\"2117\") ? (Date.now() - startTime) * 1000 : (stryCov_9fa48(\"2117\"), (stryMutAct_9fa48(\"2118\") ? Date.now() + startTime : (stryCov_9fa48(\"2118\"), Date.now() - startTime)) / 1000); // segundos\n\n          metricsManager.dbQueriesTotal.inc(stryMutAct_9fa48(\"2119\") ? {} : (stryCov_9fa48(\"2119\"), {\n            database,\n            operation\n          }));\n          metricsManager.dbQueryDuration.observe(stryMutAct_9fa48(\"2120\") ? {} : (stryCov_9fa48(\"2120\"), {\n            database,\n            operation\n          }), duration);\n          return result;\n        }\n      } catch (error) {\n        if (stryMutAct_9fa48(\"2121\")) {\n          {}\n        } else {\n          stryCov_9fa48(\"2121\");\n          // Erro - registra métrica de erro\n          const errorType = this.classifyError(error);\n          metricsManager.dbQueryErrors.inc(stryMutAct_9fa48(\"2122\") ? {} : (stryCov_9fa48(\"2122\"), {\n            database,\n            error_type: errorType\n          }));\n          throw error;\n        }\n      } finally {\n        if (stryMutAct_9fa48(\"2123\")) {\n          {}\n        } else {\n          stryCov_9fa48(\"2123\");\n          // Decrementa queries em progresso\n          metricsManager.dbQueriesInProgress.dec(stryMutAct_9fa48(\"2124\") ? {} : (stryCov_9fa48(\"2124\"), {\n            database\n          }));\n        }\n      }\n    }\n  }\n\n  /**\n   * Classifica o tipo de erro\n   */\n  private static classifyError(error: any): string {\n    if (stryMutAct_9fa48(\"2125\")) {\n      {}\n    } else {\n      stryCov_9fa48(\"2125\");\n      const message = stryMutAct_9fa48(\"2128\") ? error?.message?.toLowerCase() && '' : stryMutAct_9fa48(\"2127\") ? false : stryMutAct_9fa48(\"2126\") ? true : (stryCov_9fa48(\"2126\", \"2127\", \"2128\"), (stryMutAct_9fa48(\"2131\") ? error.message?.toLowerCase() : stryMutAct_9fa48(\"2130\") ? error?.message.toLowerCase() : stryMutAct_9fa48(\"2129\") ? error?.message?.toUpperCase() : (stryCov_9fa48(\"2129\", \"2130\", \"2131\"), error?.message?.toLowerCase())) || (stryMutAct_9fa48(\"2132\") ? \"Stryker was here!\" : (stryCov_9fa48(\"2132\"), '')));\n      if (stryMutAct_9fa48(\"2134\") ? false : stryMutAct_9fa48(\"2133\") ? true : (stryCov_9fa48(\"2133\", \"2134\"), message.includes(stryMutAct_9fa48(\"2135\") ? \"\" : (stryCov_9fa48(\"2135\"), 'timeout')))) return stryMutAct_9fa48(\"2136\") ? \"\" : (stryCov_9fa48(\"2136\"), 'timeout');\n      if (stryMutAct_9fa48(\"2138\") ? false : stryMutAct_9fa48(\"2137\") ? true : (stryCov_9fa48(\"2137\", \"2138\"), message.includes(stryMutAct_9fa48(\"2139\") ? \"\" : (stryCov_9fa48(\"2139\"), 'connection')))) return stryMutAct_9fa48(\"2140\") ? \"\" : (stryCov_9fa48(\"2140\"), 'connection');\n      if (stryMutAct_9fa48(\"2142\") ? false : stryMutAct_9fa48(\"2141\") ? true : (stryCov_9fa48(\"2141\", \"2142\"), message.includes(stryMutAct_9fa48(\"2143\") ? \"\" : (stryCov_9fa48(\"2143\"), 'syntax')))) return stryMutAct_9fa48(\"2144\") ? \"\" : (stryCov_9fa48(\"2144\"), 'syntax');\n      if (stryMutAct_9fa48(\"2147\") ? message.includes('permission') && message.includes('denied') : stryMutAct_9fa48(\"2146\") ? false : stryMutAct_9fa48(\"2145\") ? true : (stryCov_9fa48(\"2145\", \"2146\", \"2147\"), message.includes(stryMutAct_9fa48(\"2148\") ? \"\" : (stryCov_9fa48(\"2148\"), 'permission')) || message.includes(stryMutAct_9fa48(\"2149\") ? \"\" : (stryCov_9fa48(\"2149\"), 'denied')))) return stryMutAct_9fa48(\"2150\") ? \"\" : (stryCov_9fa48(\"2150\"), 'permission');\n      if (stryMutAct_9fa48(\"2152\") ? false : stryMutAct_9fa48(\"2151\") ? true : (stryCov_9fa48(\"2151\", \"2152\"), message.includes(stryMutAct_9fa48(\"2153\") ? \"\" : (stryCov_9fa48(\"2153\"), 'deadlock')))) return stryMutAct_9fa48(\"2154\") ? \"\" : (stryCov_9fa48(\"2154\"), 'deadlock');\n      return stryMutAct_9fa48(\"2155\") ? \"\" : (stryCov_9fa48(\"2155\"), 'unknown');\n    }\n  }\n\n  /**\n   * Registra erro de conexão\n   */\n  static recordConnectionError(database: DatabaseType, error: any): void {\n    if (stryMutAct_9fa48(\"2156\")) {\n      {}\n    } else {\n      stryCov_9fa48(\"2156\");\n      const errorType = this.classifyError(error);\n      metricsManager.dbConnectionErrors.inc(stryMutAct_9fa48(\"2157\") ? {} : (stryCov_9fa48(\"2157\"), {\n        database,\n        error_type: errorType\n      }));\n    }\n  }\n\n  /**\n   * Atualiza o gauge de conexões ativas\n   */\n  static setActiveConnections(database: DatabaseType, count: number): void {\n    if (stryMutAct_9fa48(\"2158\")) {\n      {}\n    } else {\n      stryCov_9fa48(\"2158\");\n      metricsManager.dbConnectionsActive.set(stryMutAct_9fa48(\"2159\") ? {} : (stryCov_9fa48(\"2159\"), {\n        database\n      }), count);\n    }\n  }\n}"],"version":3}