{"file":"/home/mano/projetos/datasul/lor0138/src/config/swagger.config.ts","mappings":"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","names":[],"sources":["/home/mano/projetos/datasul/lor0138/src/config/swagger.config.ts"],"sourcesContent":["// src/config/swagger.config.ts\nimport swaggerJsdoc from 'swagger-jsdoc';\nimport { SwaggerOptions } from 'swagger-ui-express';\n\nconst options: swaggerJsdoc.Options = {\n  definition: {\n    openapi: '3.0.0',\n    info: {\n      title: 'Datasul API - Documentação',\n      version: '1.0.0',\n      description: `\n        API para centralização de consultas de dados do ERP Totvs Datasul.\n        \n        ## Características\n        - Consulta de dados cadastrais de itens\n        - Suporte a múltiplas bases de dados (SQL Server, ODBC)\n        - Rate limiting e proteção contra ataques\n        - Logs estruturados e rastreamento de requisições\n        \n        ## Autenticação\n        Atualmente a API não requer autenticação. (Implementar em produção!)\n      `,\n      contact: {\n        name: 'Equipe de Desenvolvimento',\n        email: 'dev@empresa.com'\n      },\n      license: {\n        name: 'MIT',\n        url: 'https://opensource.org/licenses/MIT'\n      }\n    },\n    servers: [\n      {\n        url: 'http://localhost:3000',\n        description: 'Servidor de Desenvolvimento'\n      },\n      {\n        url: 'https://api.empresa.com',\n        description: 'Servidor de Produção'\n      }\n    ],\n    tags: [\n      {\n        name: 'Health',\n        description: 'Endpoints de saúde e monitoramento'\n      },\n      {\n        name: 'Itens - Dados Cadastrais',\n        description: 'Informações cadastrais de itens'\n      },\n      {\n        name: 'Itens - Classificações',\n        description: 'Classificações e hierarquias de itens'\n      }\n    ],\n    components: {\n      schemas: {\n        Error: {\n          type: 'object',\n          properties: {\n            error: {\n              type: 'string',\n              example: 'Erro ao processar requisição'\n            },\n            message: {\n              type: 'string',\n              example: 'Detalhes do erro'\n            },\n            timestamp: {\n              type: 'string',\n              format: 'date-time',\n              example: '2025-10-04T12:00:00.000Z'\n            },\n            path: {\n              type: 'string',\n              example: '/api/lor0138/item/123/dados-cadastrais/informacoes-gerais'\n            },\n            requestId: {\n              type: 'string',\n              format: 'uuid',\n              example: '550e8400-e29b-41d4-a716-446655440000'\n            }\n          }\n        },\n        HealthCheck: {\n          type: 'object',\n          properties: {\n            status: {\n              type: 'string',\n              enum: ['healthy', 'degraded', 'unhealthy'],\n              example: 'healthy'\n            },\n            timestamp: {\n              type: 'string',\n              format: 'date-time'\n            },\n            uptime: {\n              type: 'number',\n              description: 'Tempo de atividade em segundos',\n              example: 3600\n            },\n            database: {\n              type: 'object',\n              properties: {\n                connected: {\n                  type: 'boolean',\n                  example: true\n                },\n                responseTime: {\n                  type: 'number',\n                  description: 'Tempo de resposta em ms',\n                  example: 15\n                },\n                type: {\n                  type: 'string',\n                  example: 'SQL Server'\n                }\n              }\n            },\n            memory: {\n              type: 'object',\n              properties: {\n                used: {\n                  type: 'number',\n                  description: 'Memória usada em MB',\n                  example: 120.5\n                },\n                total: {\n                  type: 'number',\n                  description: 'Memória total em MB',\n                  example: 512\n                },\n                percentage: {\n                  type: 'number',\n                  description: 'Percentual de uso',\n                  example: 23.5\n                }\n              }\n            }\n          }\n        },\n        ItemIdentificacao: {\n          type: 'object',\n          properties: {\n            codigo: {\n              type: 'string',\n              description: 'Código do item',\n              example: 'ITEM001',\n              maxLength: 16\n            },\n            descricao: {\n              type: 'string',\n              description: 'Descrição completa do item',\n              example: 'Parafuso M6 x 20mm',\n              maxLength: 120\n            },\n            descricaoReduzida: {\n              type: 'string',\n              description: 'Descrição resumida',\n              example: 'Parafuso M6',\n              maxLength: 40\n            },\n            nomeTecnico: {\n              type: 'string',\n              description: 'Nome técnico do produto',\n              example: 'Parafuso sextavado M6x20',\n              maxLength: 80\n            },\n            dataCadastro: {\n              type: 'string',\n              format: 'date',\n              description: 'Data de cadastro do item',\n              example: '2025-01-15'\n            },\n            situacao: {\n              type: 'string',\n              enum: ['Ativo', 'Inativo', 'Bloqueado', 'Obsoleto'],\n              description: 'Situação atual do item',\n              example: 'Ativo'\n            }\n          },\n          required: ['codigo', 'descricao']\n        },\n        ItemUnidades: {\n          type: 'object',\n          properties: {\n            unidadeMedidaPrincipal: {\n              type: 'string',\n              description: 'Unidade de medida principal',\n              example: 'PC',\n              maxLength: 2\n            },\n            unidadeMedidaCompra: {\n              type: 'string',\n              description: 'Unidade de medida para compras',\n              example: 'CX',\n              maxLength: 2\n            },\n            unidadeMedidaVenda: {\n              type: 'string',\n              description: 'Unidade de medida para vendas',\n              example: 'UN',\n              maxLength: 2\n            },\n            fatorConversaoCompra: {\n              type: 'number',\n              format: 'float',\n              description: 'Fator de conversão UM compra para UM principal',\n              example: 100\n            },\n            fatorConversaoVenda: {\n              type: 'number',\n              format: 'float',\n              description: 'Fator de conversão UM venda para UM principal',\n              example: 1\n            }\n          }\n        },\n        ItemCaracteristicasFisicas: {\n          type: 'object',\n          properties: {\n            pesoLiquido: {\n              type: 'number',\n              format: 'float',\n              description: 'Peso líquido em kg',\n              example: 0.025\n            },\n            pesoBruto: {\n              type: 'number',\n              format: 'float',\n              description: 'Peso bruto em kg',\n              example: 0.030\n            },\n            volume: {\n              type: 'number',\n              format: 'float',\n              description: 'Volume em m³',\n              example: 0.00001\n            },\n            altura: {\n              type: 'number',\n              format: 'float',\n              description: 'Altura em cm',\n              example: 2.0\n            },\n            largura: {\n              type: 'number',\n              format: 'float',\n              description: 'Largura em cm',\n              example: 0.6\n            },\n            comprimento: {\n              type: 'number',\n              format: 'float',\n              description: 'Comprimento em cm',\n              example: 0.6\n            }\n          }\n        },\n        InformacoesGerais: {\n          type: 'object',\n          properties: {\n            identificacao: {\n              $ref: '#/components/schemas/ItemIdentificacao'\n            },\n            unidades: {\n              $ref: '#/components/schemas/ItemUnidades'\n            },\n            caracteristicasFisicas: {\n              $ref: '#/components/schemas/ItemCaracteristicasFisicas'\n            }\n          }\n        }\n      },\n      responses: {\n        BadRequest: {\n          description: 'Requisição inválida',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error'\n              },\n              example: {\n                error: 'Validação falhou',\n                message: 'Código do item é obrigatório',\n                timestamp: '2025-10-04T12:00:00.000Z',\n                path: '/api/lor0138/item//dados-cadastrais/informacoes-gerais',\n                requestId: '550e8400-e29b-41d4-a716-446655440000'\n              }\n            }\n          }\n        },\n        NotFound: {\n          description: 'Recurso não encontrado',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error'\n              },\n              example: {\n                error: 'Item não encontrado',\n                message: 'O item ITEM999 não existe no sistema',\n                timestamp: '2025-10-04T12:00:00.000Z',\n                path: '/api/lor0138/item/ITEM999/dados-cadastrais/informacoes-gerais',\n                requestId: '550e8400-e29b-41d4-a716-446655440000'\n              }\n            }\n          }\n        },\n        InternalError: {\n          description: 'Erro interno do servidor',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error'\n              },\n              example: {\n                error: 'Erro interno',\n                message: 'Erro ao conectar com o banco de dados',\n                timestamp: '2025-10-04T12:00:00.000Z',\n                path: '/api/lor0138/item/ITEM001/dados-cadastrais/informacoes-gerais',\n                requestId: '550e8400-e29b-41d4-a716-446655440000'\n              }\n            }\n          }\n        },\n        TooManyRequests: {\n          description: 'Limite de requisições excedido',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error'\n              },\n              example: {\n                error: 'Rate limit excedido',\n                message: 'Muitas requisições. Tente novamente em alguns segundos.',\n                timestamp: '2025-10-04T12:00:00.000Z',\n                path: '/api/lor0138/item/ITEM001/dados-cadastrais/informacoes-gerais',\n                requestId: '550e8400-e29b-41d4-a716-446655440000'\n              }\n            }\n          }\n        }\n      },\n      parameters: {\n        ItemCodigo: {\n          name: 'itemCodigo',\n          in: 'path',\n          required: true,\n          description: 'Código único do item no sistema',\n          schema: {\n            type: 'string',\n            maxLength: 16,\n            pattern: '^[A-Z0-9-]+$'\n          },\n          example: 'ITEM001'\n        },\n        RequestId: {\n          name: 'X-Request-ID',\n          in: 'header',\n          description: 'ID único para rastreamento da requisição',\n          schema: {\n            type: 'string',\n            format: 'uuid'\n          }\n        }\n      }\n    }\n  },\n  apis: [\n    './src/api/**/*.routes.ts',\n    './src/api/**/*.controller.ts',\n    './src/server.ts'\n  ]\n};\n\nexport const swaggerSpec = swaggerJsdoc(options);\n\nexport const swaggerUiOptions: SwaggerOptions = {\n  customCss: '.swagger-ui .topbar { display: none }',\n  customSiteTitle: 'Datasul API - Documentação',\n  customfavIcon: '/favicon.ico'\n};"],"version":3}