
> lor0138@1.0.0 test:unit
> jest --testPathPattern=tests/unit

  console.log
    ðŸ§ª Ambiente de testes configurado

      at Object.<anonymous> (tests/setup.ts:150:9)

  console.log
    ðŸ§ª Ambiente de testes configurado

      at Object.<anonymous> (tests/setup.ts:150:9)

  console.log
    âœ… MetricsManager inicializado

      at new MetricsManager (src/infrastructure/metrics/MetricsManager.ts:164:13)

  console.log
    âœ… MetricsManager inicializado

      at new MetricsManager (src/infrastructure/metrics/MetricsManager.ts:164:13)

  console.error
    Erro ao buscar item master: Error: ConexÃ£o perdida
        at Object.<anonymous> (/home/mano/projetos/datasul/lor0138/tests/unit/repositories/informacoesGerais.repository.test.ts:108:23)
        at Promise.then.completed (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:121:9)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:121:9)
        at run (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/runTest.js:444:34)
        at Object.worker (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/testWorker.js:106:12)

      51 |       
      52 |     } catch (error) {
    > 53 |       console.error('Erro ao buscar item master:', error);
         |               ^
      54 |       throw error;
      55 |     }
      56 |   }

      at ItemInformacoesGeraisRepository.getItemMaster (src/api/lor0138/item/dadosCadastrais/informacoesGerais/repository/informacoesGerais.repository.ts:53:15)
      at Object.<anonymous> (tests/unit/repositories/informacoesGerais.repository.test.ts:116:7)

  console.log
    Cache invalidado para item: 7530110

      at ItemInformacoesGeraisRepository.invalidateCache (src/api/lor0138/item/dadosCadastrais/informacoesGerais/repository/informacoesGerais.repository.ts:119:13)

  console.error
    Erro ao buscar item master: Error: Timeout: Request failed to complete
        at Object.<anonymous> (/home/mano/projetos/datasul/lor0138/tests/unit/repositories/informacoesGerais.repository.test.ts:286:28)
        at Promise.then.completed (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:121:9)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:121:9)
        at run (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/runTest.js:444:34)
        at Object.worker (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/testWorker.js:106:12)

      51 |       
      52 |     } catch (error) {
    > 53 |       console.error('Erro ao buscar item master:', error);
         |               ^
      54 |       throw error;
      55 |     }
      56 |   }

      at ItemInformacoesGeraisRepository.getItemMaster (src/api/lor0138/item/dadosCadastrais/informacoesGerais/repository/informacoesGerais.repository.ts:53:15)
      at Object.<anonymous> (tests/unit/repositories/informacoesGerais.repository.test.ts:294:7)

  console.error
    Erro ao buscar estabelecimentos: Error: ECONNREFUSED
        at Object.<anonymous> (/home/mano/projetos/datasul/lor0138/tests/unit/repositories/informacoesGerais.repository.test.ts:300:31)
        at Promise.then.completed (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:121:9)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:121:9)
        at run (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/runTest.js:444:34)
        at Object.worker (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/testWorker.js:106:12)

      104 |       
      105 |     } catch (error) {
    > 106 |       console.error('Erro ao buscar estabelecimentos:', error);
          |               ^
      107 |       throw error;
      108 |     }
      109 |   }

      at ItemInformacoesGeraisRepository.getItemEstabelecimentos (src/api/lor0138/item/dadosCadastrais/informacoesGerais/repository/informacoesGerais.repository.ts:106:15)
      at Object.<anonymous> (tests/unit/repositories/informacoesGerais.repository.test.ts:308:7)

  console.error
    Erro ao buscar item master: Error: Incorrect syntax near
        at Object.<anonymous> (/home/mano/projetos/datasul/lor0138/tests/unit/repositories/informacoesGerais.repository.test.ts:314:24)
        at Promise.then.completed (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/utils.js:231:10)
        at _callCircusTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:252:3)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:126:9)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:121:9)
        at _runTestsForDescribeBlock (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:121:9)
        at run (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/run.js:71:3)
        at runAndTransformResultsToJestFormat (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
        at jestAdapter (/home/mano/projetos/datasul/lor0138/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
        at runTestInternal (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/runTest.js:367:16)
        at runTest (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/runTest.js:444:34)
        at Object.worker (/home/mano/projetos/datasul/lor0138/node_modules/jest-runner/build/testWorker.js:106:12)

      51 |       
      52 |     } catch (error) {
    > 53 |       console.error('Erro ao buscar item master:', error);
         |               ^
      54 |       throw error;
      55 |     }
      56 |   }

      at ItemInformacoesGeraisRepository.getItemMaster (src/api/lor0138/item/dadosCadastrais/informacoesGerais/repository/informacoesGerais.repository.ts:53:15)
      at Object.<anonymous> (tests/unit/repositories/informacoesGerais.repository.test.ts:322:7)

  console.log
    ðŸ§ª Ambiente de testes configurado

      at Object.<anonymous> (tests/setup.ts:150:9)

