# SonarQube Configuration for LordtsAPI
# https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/

# =====================================================
# Project Information
# =====================================================
sonar.projectKey=lordtsapi-backend
sonar.projectName=LordtsAPI Backend
sonar.projectVersion=1.0.0

# =====================================================
# Source Code
# =====================================================
sonar.sources=src
sonar.tests=tests
sonar.exclusions=**/node_modules/**,**/dist/**,**/coverage/**,**/*.test.ts,**/*.spec.ts
sonar.test.inclusions=**/*.test.ts,**/*.spec.ts

# =====================================================
# TypeScript/JavaScript
# =====================================================
sonar.language=ts
sonar.typescript.node=node
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# =====================================================
# Code Coverage
# =====================================================
sonar.coverage.exclusions=**/*.test.ts,**/*.spec.ts,**/tests/**,**/dist/**,**/node_modules/**

# =====================================================
# Test Execution
# =====================================================
sonar.testExecutionReportPaths=test-report.xml

# =====================================================
# Code Quality Rules
# =====================================================
# Complexity
sonar.complexity.threshold=10

# Duplications
sonar.cpd.exclusions=**/*.test.ts,**/*.spec.ts

# Issues
sonar.issue.ignore.multicriteria=e1,e2,e3

# Rule exemples (ajustar conforme necessário)
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1186
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.ts

sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S3776
sonar.issue.ignore.multicriteria.e2.resourceKey=**/tests/**

sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S125
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.ts

# =====================================================
# Source Encoding
# =====================================================
sonar.sourceEncoding=UTF-8

# =====================================================
# Modules (opcional - para projetos multi-módulo)
# =====================================================
# sonar.modules=api,shared

# =====================================================
# SCM
# =====================================================
sonar.scm.provider=git
sonar.scm.disabled=false

# =====================================================
# Quality Gates
# =====================================================
# Definir umbrais de qualidade
sonar.qualitygate.wait=false
