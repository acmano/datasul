ba7022abefae277992186b43f54dfc9c
"use strict";
// @ts-nocheck
// tests/unit/validators/informacoesGerais.validators.test.ts
Object.defineProperty(exports, "__esModule", { value: true });
const informacoesGerais_validators_1 = require("@api/lor0138/item/dadosCadastrais/informacoesGerais/validators/informacoesGerais.validators");
const item_factory_1 = require("../../factories/item.factory");
describe('Validators - InformacoesGerais', () => {
    describe('validateItemInformacoesGeraisRequest', () => {
        // ========================================
        // CASOS DE SUCESSO ‚úÖ
        // ========================================
        describe('Casos V√°lidos', () => {
            test('deve validar c√≥digo num√©rico simples', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '7530110' });
                expect(result.valid).toBe(true);
                expect(result.data).toEqual({ itemCodigo: '7530110' });
                expect(result.error).toBeUndefined();
            });
            test('deve validar c√≥digo alfanum√©rico', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 'ABC123' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ABC123');
            });
            test('deve validar c√≥digo com 16 caracteres (m√°ximo)', () => {
                const codigo = '1234567890123456'; // 16 caracteres
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: codigo });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe(codigo);
            });
            test('deve validar c√≥digo com 1 caractere (m√≠nimo)', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 'A' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('A');
            });
            test.each(item_factory_1.testItemCodigos.valid)('deve validar c√≥digo v√°lido: %s', (codigo) => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: codigo });
                expect(result.valid).toBe(true);
            });
        });
        // ========================================
        // SANITIZA√á√ÉO üßπ
        // ========================================
        describe('Sanitiza√ß√£o de Entrada', () => {
            test('deve remover espa√ßos em branco nas extremidades', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '  7530110  ' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('7530110');
            });
            test('deve remover caracteres de controle', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '7530110\x00\x1F'
                });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('7530110');
            });
            test('deve remover tentativas de path traversal', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '..ABC123..'
                });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ABC123');
            });
            test.each(item_factory_1.testItemCodigos.sanitized)('deve sanitizar corretamente: $input ‚Üí $expected', ({ input, expected }) => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: input });
                expect(result.data?.itemCodigo).toBe(expected);
            });
        });
        // ========================================
        // VALIDA√á√ÉO DE ERROS ‚ùå
        // ========================================
        describe('Casos Inv√°lidos', () => {
            test('deve rejeitar itemCodigo ausente', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({});
                expect(result.valid).toBe(false);
                expect(result.error).toBe(item_factory_1.expectedErrors.validationError);
            });
            test('deve rejeitar itemCodigo vazio', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '' });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('obrigat√≥rio');
            });
            test('deve rejeitar string com apenas espa√ßos', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '   ' });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('inv√°lido');
            });
            test('deve rejeitar c√≥digo com mais de 16 caracteres', () => {
                const codigo = '12345678901234567'; // 17 caracteres
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: codigo });
                expect(result.valid).toBe(false);
                expect(result.error).toBe(item_factory_1.expectedErrors.maxLength);
            });
            test('deve rejeitar tipo n√£o-string', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 123 });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('string');
            });
        });
        // ========================================
        // SEGURAN√áA üõ°Ô∏è - SQL INJECTION
        // ========================================
        describe('Prote√ß√£o contra SQL Injection', () => {
            test('deve bloquear SELECT (dentro do limite de caracteres)', () => {
                // Usa c√≥digo curto que passa tamanho mas tem SQL keyword
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'SELECTabc'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padr√µes n√£o permitidos');
            });
            test('deve bloquear INSERT', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'INSERTx'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padr√µes n√£o permitidos');
            });
            test('deve bloquear DROP', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'DROPtable'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padr√µes n√£o permitidos');
            });
            test('deve bloquear UNION', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'UNIONselect'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padr√µes n√£o permitidos');
            });
            test('deve remover aspas simples e duplas', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: "item'test"
                });
                // Aspas s√£o removidas na sanitiza√ß√£o
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('itemtest');
            });
            test('deve remover ponto e v√≠rgula', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item;test'
                });
                // ; √© removido na sanitiza√ß√£o
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('itemtest');
            });
        });
        // ========================================
        // SEGURAN√áA üõ°Ô∏è - COMMAND INJECTION
        // ========================================
        describe('Prote√ß√£o contra Command Injection', () => {
            test('deve bloquear pipe (|)', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item|test'
                });
                expect(result.valid).toBe(false);
                // | n√£o √© removido na sanitiza√ß√£o, ent√£o falha no regex
                expect(result.error).toContain('caracteres inv√°lidos');
            });
            test('deve bloquear && operator', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item&&test'
                });
                expect(result.valid).toBe(false);
                // & n√£o √© removido, falha no regex
                expect(result.error).toContain('caracteres inv√°lidos');
            });
            test('deve bloquear || operator', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item||test'
                });
                expect(result.valid).toBe(false);
                // | n√£o √© removido, falha no regex
                expect(result.error).toContain('caracteres inv√°lidos');
            });
            test('deve bloquear backticks', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item`test`'
                });
                expect(result.valid).toBe(false);
                // ` n√£o √© removido, falha no regex
                expect(result.error).toContain('caracteres inv√°lidos');
            });
            test('deve bloquear $() substitution', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item$(test)'
                });
                expect(result.valid).toBe(false);
                // $() n√£o s√£o removidos, falha no regex
                expect(result.error).toContain('caracteres inv√°lidos');
            });
        });
        // ========================================
        // SEGURAN√áA üõ°Ô∏è - XSS
        // ========================================
        describe('Prote√ß√£o contra XSS', () => {
            test('deve remover tags HTML mas bloquear par√™nteses', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '<script>alert(1)</script>'
                });
                // Tags <> s√£o removidas, mas () permanecem e falham no regex
                expect(result.valid).toBe(false);
                expect(result.error).toContain('caracteres inv√°lidos');
            });
            test('deve remover tags mas bloquear caracteres especiais remanescentes', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '<img src=x>'
                });
                // Remove <>, mas resultado final √© inv√°lido
                expect(result.valid).toBe(false);
                expect(result.error).toContain('inv√°lido');
            });
            test('deve bloquear script com caracteres especiais', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '<script>alert("xss")</script>'
                });
                // Aspas e par√™nteses causam erro de formato
                expect(result.valid).toBe(false);
            });
            test('deve aceitar tags removidas que resultam em alfanum√©rico v√°lido', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '<b>test123</b>'
                });
                // Remove <b> e </b> completamente, fica "test123"
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('test123');
            });
        });
        // ========================================
        // EDGE CASES üîç
        // ========================================
        describe('Edge Cases', () => {
            test('deve aceitar apenas n√∫meros', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '123456' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('123456');
            });
            test('deve aceitar apenas letras', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 'ABCDEF' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ABCDEF');
            });
            test('deve aceitar mix mai√∫sculas e min√∫sculas', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 'AbC123' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('AbC123');
            });
            test('deve rejeitar caracteres especiais', () => {
                const specialChars = ['!', '@', '#', '$', '%', '^', '&', '*', '(', ')'];
                specialChars.forEach(char => {
                    const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                        itemCodigo: `item${char}test`
                    });
                    // Caracteres especiais causam erro
                    expect(result.valid).toBe(false);
                });
            });
            test('deve sanitizar e validar corretamente c√≥digos complexos', () => {
                // C√≥digo com v√°rios caracteres especiais que ser√£o removidos
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '  ABC-123"test;  '
                });
                // Remove espa√ßos, -, ", ; ‚Üí fica ABC123test
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ABC123test');
            });
        });
        // ========================================
        // FLUXO COMPLETO DE VALIDA√á√ÉO
        // ========================================
        describe('Fluxo de Valida√ß√£o Completo', () => {
            test('deve seguir ordem: sanitiza√ß√£o ‚Üí tamanho ‚Üí formato ‚Üí SQL', () => {
                // 1. Input com caracteres especiais
                const input = '  ITEM-123  ';
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: input });
                // 2. Sanitiza (remove espa√ßos e -)
                // 3. Fica "ITEM123" (7 chars)
                // 4. Passa no tamanho
                // 5. Passa no formato alfanum√©rico
                // 6. N√£o tem SQL keywords
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ITEM123');
            });
            test('deve falhar no tamanho antes de checar SQL', () => {
                // String longa com SQL keyword
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'SELECT1234567890' // 16 chars, mas SELECT est√° l√°
                });
                // Passa no tamanho (16 chars), mas falha no SQL keyword
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padr√µes n√£o permitidos');
            });
            test('deve falhar no formato antes de checar SQL', () => {
                // String curta com SQL e caracteres inv√°lidos
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'SELECT *' // Tem espa√ßo
                });
                // 1. Sanitiza (mant√©m espa√ßo)
                // 2. Passa no tamanho (8 chars)
                // 3. FALHA no formato (regex n√£o aceita espa√ßo)
                expect(result.valid).toBe(false);
                expect(result.error).toContain('caracteres inv√°lidos');
            });
        });
        describe('Gaps de Mutation Testing', () => {
            // Gap 1: String que fica vazia ap√≥s sanitiza√ß√£o
            it('deve rejeitar c√≥digo com apenas caracteres remov√≠veis', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '//\\\\' // S√≥ barras que ser√£o removidas
                });
                expect(result.valid).toBe(false);
                // Mensagem real que o validador retorna
                expect(result.error).toContain('inv√°lido');
            });
            it('deve rejeitar c√≥digo com apenas tags HTML', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '<><><>' // S√≥ tags removidas
                });
                expect(result.valid).toBe(false);
            });
            // Gap 2: Garantir que dangerousPatterns est√° sendo usado
            it('deve ter array de padr√µes perigosos n√£o vazio', () => {
                // Este teste for√ßa o c√≥digo a executar o loop
                const patterns = ['&&', '||', '|', '`', '$'];
                patterns.forEach(pattern => {
                    const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                        itemCodigo: `test${pattern}code`
                    });
                    expect(result.valid).toBe(false);
                    // Mensagem real: "C√≥digo do item cont√©m caracteres inv√°lidos..."
                    expect(result.error).toContain('caracteres inv√°lidos');
                });
            });
            // Gap 3: Garantir execu√ß√£o do bloco if dentro do loop
            it('deve validar cada padr√£o perigoso individualmente', () => {
                const testCases = [
                    { input: 'a&&b', pattern: '&&' },
                    { input: 'a||b', pattern: '||' },
                    { input: 'a|b', pattern: '|' },
                    { input: 'a`b', pattern: '`' },
                    { input: 'a$b', pattern: '$' },
                ];
                testCases.forEach(({ input, pattern }) => {
                    const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: input });
                    expect(result.valid).toBe(false);
                    expect(result.error).toContain('caracteres inv√°lidos');
                });
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvbWFuby9wcm9qZXRvcy9kYXRhc3VsL2xvcjAxMzgvLnN0cnlrZXItdG1wL3NhbmRib3gtRUZGMmJSL3Rlc3RzL3VuaXQvdmFsaWRhdG9ycy9pbmZvcm1hY29lc0dlcmFpcy52YWxsaWRhdG9ycy50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQSxjQUFjO0FBQ2QsNkRBQTZEOztBQUU3RCw4SUFBbUo7QUFDbkosK0RBQStFO0FBRS9FLFFBQVEsQ0FBQyxnQ0FBZ0MsRUFBRSxHQUFHLEVBQUU7SUFFOUMsUUFBUSxDQUFDLHNDQUFzQyxFQUFFLEdBQUcsRUFBRTtRQUVwRCwyQ0FBMkM7UUFDM0MscUJBQXFCO1FBQ3JCLDJDQUEyQztRQUMzQyxRQUFRLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtZQUU3QixJQUFJLENBQUMsc0NBQXNDLEVBQUUsR0FBRyxFQUFFO2dCQUNoRCxNQUFNLE1BQU0sR0FBRyxJQUFBLG1FQUFvQyxFQUFDLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7Z0JBRS9FLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNoQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO2dCQUN2RCxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3ZDLENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLGtDQUFrQyxFQUFFLEdBQUcsRUFBRTtnQkFDNUMsTUFBTSxNQUFNLEdBQUcsSUFBQSxtRUFBb0MsRUFBQyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO2dCQUU5RSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDaEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJ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QUVILDJDQUEyQztRQUMzQyxnQkFBZ0I7UUFDaEIsMkNBQTJDO1FBQzNDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsR0FBRyxFQUFFO1lBRTFCLElBQUksQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7Z0JBQ3ZDLE1BQU0sTUFBTSxHQUFHLElBQUEsbUVBQW9DLEVBQUMsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztnQkFFOUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNqRCxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyw0QkFBNEIsRUFBRSxHQUFHLEVBQUU7Z0JBQ3RDLE1BQU0sTUFBTSxHQUFHLElBQUEsbUVBQW9DLEVBQUMsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztnQkFFOUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNqRCxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7Z0JBQ3BELE1BQU0sTUFBTSxHQUFHLElBQUEsbUVBQW9DLEVBQUMsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztnQkFFOUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNqRCxDQUFDLENBQUMsQ0FB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SUFHTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL21hbm8vcHJvamV0b3MvZGF0YXN1bC9sb3IwMTM4Ly5zdHJ5a2VyLXRtcC9zYW5kYm94LUVGRjJiUi90ZXN0cy91bml0L3ZhbGlkYXRvcnMvaW5mb3JtYWNvZXNHZXJhaXMudmFsbGlkYXRvcnMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtbm9jaGVja1xuLy8gdGVzdHMvdW5pdC92YWxpZGF0b3JzL2luZm9ybWFjb2VzR2VyYWlzLnZhbGlkYXRvcnMudGVzdC50c1xuXG5pbXBvcnQgeyB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QgfSBmcm9tICdAYXBpL2xvcjAxMzgvaXRlbS9kYWRvc0NhZGFzdHJhaXMvaW5mb3JtYWNvZXNHZXJhaXMvdmFsaWRhdG9ycy9pbmZvcm1hY29lc0dlcmFpcy52YWxpZGF0b3JzJztcbmltcG9ydCB7IHRlc3RJdGVtQ29kaWdvcywgZXhwZWN0ZWRFcnJvcnMgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXMvaXRlbS5mYWN0b3J5JztcblxuZGVzY3JpYmUoJ1ZhbGlkYXRvcnMgLSBJbmZvcm1hY29lc0dlcmFpcycsICgpID0+IHtcblxuICBkZXNjcmliZSgndmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0JywgKCkgPT4ge1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIENBU09TIERFIFNVQ0VTU08g4pyFXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGRlc2NyaWJlKCdDYXNvcyBWw6FsaWRvcycsICgpID0+IHtcblxuICAgICAgdGVzdCgnZGV2ZSB2YWxpZGFyIGPDs2RpZ28gbnVtw6lyaWNvIHNpbXBsZXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IGl0ZW1Db2RpZ286ICc3NTMwMTEwJyB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvRXF1YWwoeyBpdGVtQ29kaWdvOiAnNzUzMDExMCcgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHZhbGlkYXIgY8OzZGlnbyBhbGZhbnVtw6lyaWNvJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAnQUJDMTIzJyB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoJ0FCQzEyMycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgdmFsaWRhciBjw7NkaWdvIGNvbSAxNiBjYXJhY3RlcmVzIChtw6F4aW1vKScsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kaWdvID0gJzEyMzQ1Njc4OTAxMjM0NTYnOyAvLyAxNiBjYXJhY3RlcmVzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IGl0ZW1Db2RpZ286IGNvZGlnbyB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoY29kaWdvKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHZhbGlkYXIgY8OzZGlnbyBjb20gMSBjYXJhY3RlcmUgKG3DrW5pbW8pJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAnQScgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhPy5pdGVtQ29kaWdvKS50b0JlKCdBJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdC5lYWNoKHRlc3RJdGVtQ29kaWdvcy52YWxpZCkoXG4gICAgICAgICdkZXZlIHZhbGlkYXIgY8OzZGlnbyB2w6FsaWRvOiAlcycsXG4gICAgICAgIChjb2RpZ28pID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiBjb2RpZ28gfSk7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTQU5JVElaQcOHw4NPIPCfp7lcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZGVzY3JpYmUoJ1Nhbml0aXphw6fDo28gZGUgRW50cmFkYScsICgpID0+IHtcblxuICAgICAgdGVzdCgnZGV2ZSByZW1vdmVyIGVzcGHDp29zIGVtIGJyYW5jbyBuYXMgZXh0cmVtaWRhZGVzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAnICA3NTMwMTEwICAnIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnNzUzMDExMCcpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmVtb3ZlciBjYXJhY3RlcmVzIGRlIGNvbnRyb2xlJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3Qoe1xuICAgICAgICAgIGl0ZW1Db2RpZ286ICc3NTMwMTEwXFx4MDBcXHgxRidcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhPy5pdGVtQ29kaWdvKS50b0JlKCc3NTMwMTEwJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSByZW1vdmVyIHRlbnRhdGl2YXMgZGUgcGF0aCB0cmF2ZXJzYWwnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgaXRlbUNvZGlnbzogJy4uQUJDMTIzLi4nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnQUJDMTIzJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdC5lYWNoKHRlc3RJdGVtQ29kaWdvcy5zYW5pdGl6ZWQpKFxuICAgICAgICAnZGV2ZSBzYW5pdGl6YXIgY29ycmV0YW1lbnRlOiAkaW5wdXQg4oaSICRleHBlY3RlZCcsXG4gICAgICAgICh7IGlucHV0LCBleHBlY3RlZCB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgaXRlbUNvZGlnbzogaW5wdXQgfSk7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhPy5pdGVtQ29kaWdvKS50b0JlKGV4cGVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBWQUxJREHDh8ODTyBERSBFUlJPUyDinYxcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZGVzY3JpYmUoJ0Nhc29zIEludsOhbGlkb3MnLCAoKSA9PiB7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmVqZWl0YXIgaXRlbUNvZGlnbyBhdXNlbnRlJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3Qoe30pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKGV4cGVjdGVkRXJyb3JzLnZhbGlkYXRpb25FcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSByZWplaXRhciBpdGVtQ29kaWdvIHZhemlvJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAnJyB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdvYnJpZ2F0w7NyaW8nKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlamVpdGFyIHN0cmluZyBjb20gYXBlbmFzIGVzcGHDp29zJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAnICAgJyB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdpbnbDoWxpZG8nKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlamVpdGFyIGPDs2RpZ28gY29tIG1haXMgZGUgMTYgY2FyYWN0ZXJlcycsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kaWdvID0gJzEyMzQ1Njc4OTAxMjM0NTY3JzsgLy8gMTcgY2FyYWN0ZXJlc1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiBjb2RpZ28gfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmUoZXhwZWN0ZWRFcnJvcnMubWF4TGVuZ3RoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlamVpdGFyIHRpcG8gbsOjby1zdHJpbmcnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IGl0ZW1Db2RpZ286IDEyMyBhcyBhbnkgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignc3RyaW5nJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTRUdVUkFOw4dBIPCfm6HvuI8gLSBTUUwgSU5KRUNUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGRlc2NyaWJlKCdQcm90ZcOnw6NvIGNvbnRyYSBTUUwgSW5qZWN0aW9uJywgKCkgPT4ge1xuXG4gICAgICB0ZXN0KCdkZXZlIGJsb3F1ZWFyIFNFTEVDVCAoZGVudHJvIGRvIGxpbWl0ZSBkZSBjYXJhY3RlcmVzKScsICgpID0+IHtcbiAgICAgICAgLy8gVXNhIGPDs2RpZ28gY3VydG8gcXVlIHBhc3NhIHRhbWFuaG8gbWFzIHRlbSBTUUwga2V5d29yZFxuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3Qoe1xuICAgICAgICAgIGl0ZW1Db2RpZ286ICdTRUxFQ1RhYmMnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ3BhZHLDtWVzIG7Do28gcGVybWl0aWRvcycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgYmxvcXVlYXIgSU5TRVJUJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3Qoe1xuICAgICAgICAgIGl0ZW1Db2RpZ286ICdJTlNFUlR4J1xuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdwYWRyw7VlcyBuw6NvIHBlcm1pdGlkb3MnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGJsb3F1ZWFyIERST1AnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgaXRlbUNvZGlnbzogJ0RST1B0YWJsZSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbigncGFkcsO1ZXMgbsOjbyBwZXJtaXRpZG9zJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBibG9xdWVhciBVTklPTicsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHtcbiAgICAgICAgICBpdGVtQ29kaWdvOiAnVU5JT05zZWxlY3QnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ3BhZHLDtWVzIG7Do28gcGVybWl0aWRvcycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmVtb3ZlciBhc3BhcyBzaW1wbGVzIGUgZHVwbGFzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3Qoe1xuICAgICAgICAgIGl0ZW1Db2RpZ286IFwiaXRlbSd0ZXN0XCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQXNwYXMgc8OjbyByZW1vdmlkYXMgbmEgc2FuaXRpemHDp8Ojb1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoJ2l0ZW10ZXN0Jyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSByZW1vdmVyIHBvbnRvIGUgdsOtcmd1bGEnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgaXRlbUNvZGlnbzogJ2l0ZW07dGVzdCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gOyDDqSByZW1vdmlkbyBuYSBzYW5pdGl6YcOnw6NvXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnaXRlbXRlc3QnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFNFR1VSQU7Dh0Eg8J+boe+4jyAtIENPTU1BTkQgSU5KRUNUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGRlc2NyaWJlKCdQcm90ZcOnw6NvIGNvbnRyYSBDb21tYW5kIEluamVjdGlvbicsICgpID0+IHtcblxuICAgICAgdGVzdCgnZGV2ZSBibG9xdWVhciBwaXBlICh8KScsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHtcbiAgICAgICAgICBpdGVtQ29kaWdvOiAnaXRlbXx0ZXN0J1xuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgLy8gfCBuw6NvIMOpIHJlbW92aWRvIG5hIHNhbml0aXphw6fDo28sIGVudMOjbyBmYWxoYSBubyByZWdleFxuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ2NhcmFjdGVyZXMgaW52w6FsaWRvcycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgYmxvcXVlYXIgJiYgb3BlcmF0b3InLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgaXRlbUNvZGlnbzogJ2l0ZW0mJnRlc3QnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICAvLyAmIG7Do28gw6kgcmVtb3ZpZG8sIGZhbGhhIG5vIHJlZ2V4XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignY2FyYWN0ZXJlcyBpbnbDoWxpZG9zJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBibG9xdWVhciB8fCBvcGVyYXRvcicsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHtcbiAgICAgICAgICBpdGVtQ29kaWdvOiAnaXRlbXx8dGVzdCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIC8vIHwgbsOjbyDDqSByZW1vdmlkbywgZmFsaGEgbm8gcmVnZXhcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdjYXJhY3RlcmVzIGludsOhbGlkb3MnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGJsb3F1ZWFyIGJhY2t0aWNrcycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHtcbiAgICAgICAgICBpdGVtQ29kaWdvOiAnaXRlbWB0ZXN0YCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIC8vIGAgbsOjbyDDqSByZW1vdmlkbywgZmFsaGEgbm8gcmVnZXhcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdjYXJhY3RlcmVzIGludsOhbGlkb3MnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGJsb3F1ZWFyICQoKSBzdWJzdGl0dXRpb24nLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgaXRlbUNvZGlnbzogJ2l0ZW0kKHRlc3QpJ1xuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgLy8gJCgpIG7Do28gc8OjbyByZW1vdmlkb3MsIGZhbGhhIG5vIHJlZ2V4XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignY2FyYWN0ZXJlcyBpbnbDoWxpZG9zJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTRUdVUkFOw4dBIPCfm6HvuI8gLSBYU1NcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZGVzY3JpYmUoJ1Byb3Rlw6fDo28gY29udHJhIFhTUycsICgpID0+IHtcblxuICAgICAgdGVzdCgnZGV2ZSByZW1vdmVyIHRhZ3MgSFRNTCBtYXMgYmxvcXVlYXIgcGFyw6pudGVzZXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgaXRlbUNvZGlnbzogJzxzY3JpcHQ+YWxlcnQoMSk8L3NjcmlwdD4nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRhZ3MgPD4gc8OjbyByZW1vdmlkYXMsIG1hcyAoKSBwZXJtYW5lY2VtIGUgZmFsaGFtIG5vIHJlZ2V4XG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ2NhcmFjdGVyZXMgaW52w6FsaWRvcycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmVtb3ZlciB0YWdzIG1hcyBibG9xdWVhciBjYXJhY3RlcmVzIGVzcGVjaWFpcyByZW1hbmVzY2VudGVzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3Qoe1xuICAgICAgICAgIGl0ZW1Db2RpZ286ICc8aW1nIHNyYz14PidcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIDw+LCBtYXMgcmVzdWx0YWRvIGZpbmFsIMOpIGludsOhbGlkb1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdpbnbDoWxpZG8nKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGJsb3F1ZWFyIHNjcmlwdCBjb20gY2FyYWN0ZXJlcyBlc3BlY2lhaXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgaXRlbUNvZGlnbzogJzxzY3JpcHQ+YWxlcnQoXCJ4c3NcIik8L3NjcmlwdD4nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFzcGFzIGUgcGFyw6pudGVzZXMgY2F1c2FtIGVycm8gZGUgZm9ybWF0b1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGFjZWl0YXIgdGFncyByZW1vdmlkYXMgcXVlIHJlc3VsdGFtIGVtIGFsZmFudW3DqXJpY28gdsOhbGlkbycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHtcbiAgICAgICAgICBpdGVtQ29kaWdvOiAnPGI+dGVzdDEyMzwvYj4nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlbW92ZSA8Yj4gZSA8L2I+IGNvbXBsZXRhbWVudGUsIGZpY2EgXCJ0ZXN0MTIzXCJcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhPy5pdGVtQ29kaWdvKS50b0JlKCd0ZXN0MTIzJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBFREdFIENBU0VTIPCflI1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XG5cbiAgICAgIHRlc3QoJ2RldmUgYWNlaXRhciBhcGVuYXMgbsO6bWVyb3MnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IGl0ZW1Db2RpZ286ICcxMjM0NTYnIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnMTIzNDU2Jyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBhY2VpdGFyIGFwZW5hcyBsZXRyYXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IGl0ZW1Db2RpZ286ICdBQkNERUYnIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnQUJDREVGJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBhY2VpdGFyIG1peCBtYWnDunNjdWxhcyBlIG1pbsO6c2N1bGFzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAnQWJDMTIzJyB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoJ0FiQzEyMycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmVqZWl0YXIgY2FyYWN0ZXJlcyBlc3BlY2lhaXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNwZWNpYWxDaGFycyA9IFsnIScsICdAJywgJyMnLCAnJCcsICclJywgJ14nLCAnJicsICcqJywgJygnLCAnKSddO1xuXG4gICAgICAgIHNwZWNpYWxDaGFycy5mb3JFYWNoKGNoYXIgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgICBpdGVtQ29kaWdvOiBgaXRlbSR7Y2hhcn10ZXN0YFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQ2FyYWN0ZXJlcyBlc3BlY2lhaXMgY2F1c2FtIGVycm9cbiAgICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBzYW5pdGl6YXIgZSB2YWxpZGFyIGNvcnJldGFtZW50ZSBjw7NkaWdvcyBjb21wbGV4b3MnLCAoKSA9PiB7XG4gICAgICAgIC8vIEPDs2RpZ28gY29tIHbDoXJpb3MgY2FyYWN0ZXJlcyBlc3BlY2lhaXMgcXVlIHNlcsOjbyByZW1vdmlkb3NcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHtcbiAgICAgICAgICBpdGVtQ29kaWdvOiAnICBBQkMtMTIzXCJ0ZXN0OyAgJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZW1vdmUgZXNwYcOnb3MsIC0sIFwiLCA7IOKGkiBmaWNhIEFCQzEyM3Rlc3RcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhPy5pdGVtQ29kaWdvKS50b0JlKCdBQkMxMjN0ZXN0Jyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGTFVYTyBDT01QTEVUTyBERSBWQUxJREHDh8ODT1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBkZXNjcmliZSgnRmx1eG8gZGUgVmFsaWRhw6fDo28gQ29tcGxldG8nLCAoKSA9PiB7XG5cbiAgICAgIHRlc3QoJ2RldmUgc2VndWlyIG9yZGVtOiBzYW5pdGl6YcOnw6NvIOKGkiB0YW1hbmhvIOKGkiBmb3JtYXRvIOKGkiBTUUwnLCAoKSA9PiB7XG4gICAgICAgIC8vIDEuIElucHV0IGNvbSBjYXJhY3RlcmVzIGVzcGVjaWFpc1xuICAgICAgICBjb25zdCBpbnB1dCA9ICcgIElURU0tMTIzICAnO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiBpbnB1dCB9KTtcblxuICAgICAgICAvLyAyLiBTYW5pdGl6YSAocmVtb3ZlIGVzcGHDp29zIGUgLSlcbiAgICAgICAgLy8gMy4gRmljYSBcIklURU0xMjNcIiAoNyBjaGFycylcbiAgICAgICAgLy8gNC4gUGFzc2Egbm8gdGFtYW5ob1xuICAgICAgICAvLyA1LiBQYXNzYSBubyBmb3JtYXRvIGFsZmFudW3DqXJpY29cbiAgICAgICAgLy8gNi4gTsOjbyB0ZW0gU1FMIGtleXdvcmRzXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnSVRFTTEyMycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgZmFsaGFyIG5vIHRhbWFuaG8gYW50ZXMgZGUgY2hlY2FyIFNRTCcsICgpID0+IHtcbiAgICAgICAgLy8gU3RyaW5nIGxvbmdhIGNvbSBTUUwga2V5d29yZFxuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3Qoe1xuICAgICAgICAgIGl0ZW1Db2RpZ286ICdTRUxFQ1QxMjM0NTY3ODkwJyAvLyAxNiBjaGFycywgbWFzIFNFTEVDVCBlc3TDoSBsw6FcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUGFzc2Egbm8gdGFtYW5obyAoMTYgY2hhcnMpLCBtYXMgZmFsaGEgbm8gU1FMIGtleXdvcmRcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbigncGFkcsO1ZXMgbsOjbyBwZXJtaXRpZG9zJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBmYWxoYXIgbm8gZm9ybWF0byBhbnRlcyBkZSBjaGVjYXIgU1FMJywgKCkgPT4ge1xuICAgICAgICAvLyBTdHJpbmcgY3VydGEgY29tIFNRTCBlIGNhcmFjdGVyZXMgaW52w6FsaWRvc1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3Qoe1xuICAgICAgICAgIGl0ZW1Db2RpZ286ICdTRUxFQ1QgKicgLy8gVGVtIGVzcGHDp29cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gMS4gU2FuaXRpemEgKG1hbnTDqW0gZXNwYcOnbylcbiAgICAgICAgLy8gMi4gUGFzc2Egbm8gdGFtYW5obyAoOCBjaGFycylcbiAgICAgICAgLy8gMy4gRkFMSEEgbm8gZm9ybWF0byAocmVnZXggbsOjbyBhY2VpdGEgZXNwYcOnbylcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignY2FyYWN0ZXJlcyBpbnbDoWxpZG9zJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdHYXBzIGRlIE11dGF0aW9uIFRlc3RpbmcnLCAoKSA9PiB7XG5cbiAgICAgIC8vIEdhcCAxOiBTdHJpbmcgcXVlIGZpY2EgdmF6aWEgYXDDs3Mgc2FuaXRpemHDp8Ojb1xuICAgICAgaXQoJ2RldmUgcmVqZWl0YXIgY8OzZGlnbyBjb20gYXBlbmFzIGNhcmFjdGVyZXMgcmVtb3bDrXZlaXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgaXRlbUNvZGlnbzogJy8vXFxcXFxcXFwnIC8vIFPDsyBiYXJyYXMgcXVlIHNlcsOjbyByZW1vdmlkYXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIC8vIE1lbnNhZ2VtIHJlYWwgcXVlIG8gdmFsaWRhZG9yIHJldG9ybmFcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdpbnbDoWxpZG8nKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnZGV2ZSByZWplaXRhciBjw7NkaWdvIGNvbSBhcGVuYXMgdGFncyBIVE1MJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3Qoe1xuICAgICAgICAgIGl0ZW1Db2RpZ286ICc8Pjw+PD4nIC8vIFPDsyB0YWdzIHJlbW92aWRhc1xuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBHYXAgMjogR2FyYW50aXIgcXVlIGRhbmdlcm91c1BhdHRlcm5zIGVzdMOhIHNlbmRvIHVzYWRvXG4gICAgICBpdCgnZGV2ZSB0ZXIgYXJyYXkgZGUgcGFkcsO1ZXMgcGVyaWdvc29zIG7Do28gdmF6aW8nLCAoKSA9PiB7XG4gICAgICAgIC8vIEVzdGUgdGVzdGUgZm9yw6dhIG8gY8OzZGlnbyBhIGV4ZWN1dGFyIG8gbG9vcFxuICAgICAgICBjb25zdCBwYXR0ZXJucyA9IFsnJiYnLCAnfHwnLCAnfCcsICdgJywgJyQnXTtcblxuICAgICAgICBwYXR0ZXJucy5mb3JFYWNoKHBhdHRlcm4gPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7XG4gICAgICAgICAgICBpdGVtQ29kaWdvOiBgdGVzdCR7cGF0dGVybn1jb2RlYFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgICAgLy8gTWVuc2FnZW0gcmVhbDogXCJDw7NkaWdvIGRvIGl0ZW0gY29udMOpbSBjYXJhY3RlcmVzIGludsOhbGlkb3MuLi5cIlxuICAgICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignY2FyYWN0ZXJlcyBpbnbDoWxpZG9zJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEdhcCAzOiBHYXJhbnRpciBleGVjdcOnw6NvIGRvIGJsb2NvIGlmIGRlbnRybyBkbyBsb29wXG4gICAgICBpdCgnZGV2ZSB2YWxpZGFyIGNhZGEgcGFkcsOjbyBwZXJpZ29zbyBpbmRpdmlkdWFsbWVudGUnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgICB7IGlucHV0OiAnYSYmYicsIHBhdHRlcm46ICcmJicgfSxcbiAgICAgICAgICB7IGlucHV0OiAnYXx8YicsIHBhdHRlcm46ICd8fCcgfSxcbiAgICAgICAgICB7IGlucHV0OiAnYXxiJywgcGF0dGVybjogJ3wnIH0sXG4gICAgICAgICAgeyBpbnB1dDogJ2FgYicsIHBhdHRlcm46ICdgJyB9LFxuICAgICAgICAgIHsgaW5wdXQ6ICdhJGInLCBwYXR0ZXJuOiAnJCcgfSxcbiAgICAgICAgXTtcblxuICAgICAgICB0ZXN0Q2FzZXMuZm9yRWFjaCgoeyBpbnB1dCwgcGF0dGVybiB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgaXRlbUNvZGlnbzogaW5wdXQgfSk7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdjYXJhY3RlcmVzIGludsOhbGlkb3MnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuXG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9