11a5d806e083aadb73d95a002473ecde
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateOdbcConfig = exports.getOdbcConfig = exports.getOdbcConnectionString = void 0;
// @ts-nocheck
// src/infrastructure/database/config/odbcConfig.ts
function stryNS_9fa48() {
    var g = typeof globalThis === 'object' && globalThis && globalThis.Math === Math && globalThis || new Function("return this")();
    var ns = g.__stryker__ || (g.__stryker__ = {});
    if (ns.activeMutant === undefined && g.process && g.process.env && g.process.env.__STRYKER_ACTIVE_MUTANT__) {
        ns.activeMutant = g.process.env.__STRYKER_ACTIVE_MUTANT__;
    }
    function retrieveNS() {
        return ns;
    }
    stryNS_9fa48 = retrieveNS;
    return retrieveNS();
}
stryNS_9fa48();
function stryCov_9fa48() {
    var ns = stryNS_9fa48();
    var cov = ns.mutantCoverage || (ns.mutantCoverage = {
        static: {},
        perTest: {}
    });
    function cover() {
        var c = cov.static;
        if (ns.currentTestId) {
            c = cov.perTest[ns.currentTestId] = cov.perTest[ns.currentTestId] || {};
        }
        var a = arguments;
        for (var i = 0; i < a.length; i++) {
            c[a[i]] = (c[a[i]] || 0) + 1;
        }
    }
    stryCov_9fa48 = cover;
    cover.apply(null, arguments);
}
function stryMutAct_9fa48(id) {
    var ns = stryNS_9fa48();
    function isActive(id) {
        if (ns.activeMutant === id) {
            if (ns.hitCount !== void 0 && ++ns.hitCount > ns.hitLimit) {
                throw new Error('Stryker: Hit count limit reached (' + ns.hitCount + ')');
            }
            return true;
        }
        return false;
    }
    stryMutAct_9fa48 = isActive;
    return isActive(id);
}
/**
 * Retorna connection string ODBC para o database especificado
 */
const getOdbcConnectionString = (database) => {
    if (stryMutAct_9fa48("1378")) {
        { }
    }
    else {
        stryCov_9fa48("1378");
        const dsnName = (stryMutAct_9fa48("1381") ? database !== 'EMP' : stryMutAct_9fa48("1380") ? false : stryMutAct_9fa48("1379") ? true : (stryCov_9fa48("1379", "1380", "1381"), database === (stryMutAct_9fa48("1382") ? "" : (stryCov_9fa48("1382"), 'EMP')))) ? stryMutAct_9fa48("1385") ? process.env.ODBC_DSN_EMP && 'PRD_EMS2EMP' : stryMutAct_9fa48("1384") ? false : stryMutAct_9fa48("1383") ? true : (stryCov_9fa48("1383", "1384", "1385"), process.env.ODBC_DSN_EMP || (stryMutAct_9fa48("1386") ? "" : (stryCov_9fa48("1386"), 'PRD_EMS2EMP'))) : stryMutAct_9fa48("1389") ? process.env.ODBC_DSN_MULT && 'PRD_EMS2MULT' : stryMutAct_9fa48("1388") ? false : stryMutAct_9fa48("1387") ? true : (stryCov_9fa48("1387", "1388", "1389"), process.env.ODBC_DSN_MULT || (stryMutAct_9fa48("1390") ? "" : (stryCov_9fa48("1390"), 'PRD_EMS2MULT')));
        const user = stryMutAct_9fa48("1393") ? (process.env.ODBC_USER || process.env.DB_USER) && '' : stryMutAct_9fa48("1392") ? false : stryMutAct_9fa48("1391") ? true : (stryCov_9fa48("1391", "1392", "1393"), (stryMutAct_9fa48("1395") ? process.env.ODBC_USER && process.env.DB_USER : stryMutAct_9fa48("1394") ? false : (stryCov_9fa48("1394", "1395"), process.env.ODBC_USER || process.env.DB_USER)) || (stryMutAct_9fa48("1396") ? "Stryker was here!" : (stryCov_9fa48("1396"), '')));
        const password = stryMutAct_9fa48("1399") ? (process.env.ODBC_PASSWORD || process.env.DB_PASSWORD) && '' : stryMutAct_9fa48("1398") ? false : stryMutAct_9fa48("1397") ? true : (stryCov_9fa48("1397", "1398", "1399"), (stryMutAct_9fa48("1401") ? process.env.ODBC_PASSWORD && process.env.DB_PASSWORD : stryMutAct_9fa48("1400") ? false : (stryCov_9fa48("1400", "1401"), process.env.ODBC_PASSWORD || process.env.DB_PASSWORD)) || (stryMutAct_9fa48("1402") ? "Stryker was here!" : (stryCov_9fa48("1402"), '')));
        return stryMutAct_9fa48("1403") ? `` : (stryCov_9fa48("1403"), `DSN=${dsnName};UID=${user};PWD=${password}`);
    }
};
exports.getOdbcConnectionString = getOdbcConnectionString;
/**
 * ✅ NOVO: Retorna configuração completa com timeouts
 */
const getOdbcConfig = (database) => {
    if (stryMutAct_9fa48("1404")) {
        { }
    }
    else {
        stryCov_9fa48("1404");
        const connectionString = (0, exports.getOdbcConnectionString)(database);
        // ✅ IMPORTANTE: Usa parseInt() direto, então .env deve ter milissegundos puros
        const connectionTimeout = parseInt(stryMutAct_9fa48("1407") ? process.env.ODBC_CONNECTION_TIMEOUT && '15000' : stryMutAct_9fa48("1406") ? false : stryMutAct_9fa48("1405") ? true : (stryCov_9fa48("1405", "1406", "1407"), process.env.ODBC_CONNECTION_TIMEOUT || (stryMutAct_9fa48("1408") ? "" : (stryCov_9fa48("1408"), '15000'))), 10);
        const commandTimeout = parseInt(stryMutAct_9fa48("1411") ? process.env.ODBC_COMMAND_TIMEOUT && '30000' : stryMutAct_9fa48("1410") ? false : stryMutAct_9fa48("1409") ? true : (stryCov_9fa48("1409", "1410", "1411"), process.env.ODBC_COMMAND_TIMEOUT || (stryMutAct_9fa48("1412") ? "" : (stryCov_9fa48("1412"), '30000'))), 10);
        return stryMutAct_9fa48("1413") ? {} : (stryCov_9fa48("1413"), {
            connectionString,
            connectionTimeout,
            commandTimeout
        });
    }
};
exports.getOdbcConfig = getOdbcConfig;
/**
 * Valida configuração ODBC
 */
const validateOdbcConfig = () => {
    if (stryMutAct_9fa48("1414")) {
        { }
    }
    else {
        stryCov_9fa48("1414");
        const requiredVars = stryMutAct_9fa48("1415") ? [] : (stryCov_9fa48("1415"), [stryMutAct_9fa48("1416") ? "" : (stryCov_9fa48("1416"), 'DB_USER'), stryMutAct_9fa48("1417") ? "" : (stryCov_9fa48("1417"), 'DB_PASSWORD')]);
        for (const varName of requiredVars) {
            if (stryMutAct_9fa48("1418")) {
                { }
            }
            else {
                stryCov_9fa48("1418");
                if (stryMutAct_9fa48("1421") ? false : stryMutAct_9fa48("1420") ? true : stryMutAct_9fa48("1419") ? process.env[varName] : (stryCov_9fa48("1419", "1420", "1421"), !process.env[varName])) {
                    if (stryMutAct_9fa48("1422")) {
                        { }
                    }
                    else {
                        stryCov_9fa48("1422");
                        throw new Error(stryMutAct_9fa48("1423") ? `` : (stryCov_9fa48("1423"), `Variável de ambiente obrigatória não encontrada: ${varName}`));
                    }
                }
            }
        }
        // Verifica timeouts
        const connectionTimeout = parseInt(stryMutAct_9fa48("1426") ? process.env.ODBC_CONNECTION_TIMEOUT && '15000' : stryMutAct_9fa48("1425") ? false : stryMutAct_9fa48("1424") ? true : (stryCov_9fa48("1424", "1425", "1426"), process.env.ODBC_CONNECTION_TIMEOUT || (stryMutAct_9fa48("1427") ? "" : (stryCov_9fa48("1427"), '15000'))), 10);
        const commandTimeout = parseInt(stryMutAct_9fa48("1430") ? process.env.ODBC_COMMAND_TIMEOUT && '30000' : stryMutAct_9fa48("1429") ? false : stryMutAct_9fa48("1428") ? true : (stryCov_9fa48("1428", "1429", "1430"), process.env.ODBC_COMMAND_TIMEOUT || (stryMutAct_9fa48("1431") ? "" : (stryCov_9fa48("1431"), '30000'))), 10);
        if (stryMutAct_9fa48("1434") ? isNaN(connectionTimeout) && connectionTimeout < 1000 : stryMutAct_9fa48("1433") ? false : stryMutAct_9fa48("1432") ? true : (stryCov_9fa48("1432", "1433", "1434"), isNaN(connectionTimeout) || (stryMutAct_9fa48("1437") ? connectionTimeout >= 1000 : stryMutAct_9fa48("1436") ? connectionTimeout <= 1000 : stryMutAct_9fa48("1435") ? false : (stryCov_9fa48("1435", "1436", "1437"), connectionTimeout < 1000)))) {
            if (stryMutAct_9fa48("1438")) {
                { }
            }
            else {
                stryCov_9fa48("1438");
                throw new Error(stryMutAct_9fa48("1439") ? `` : (stryCov_9fa48("1439"), `ODBC_CONNECTION_TIMEOUT inválido: deve ser >= 1000ms (recebido: ${process.env.ODBC_CONNECTION_TIMEOUT})`));
            }
        }
        if (stryMutAct_9fa48("1442") ? isNaN(commandTimeout) && commandTimeout < 1000 : stryMutAct_9fa48("1441") ? false : stryMutAct_9fa48("1440") ? true : (stryCov_9fa48("1440", "1441", "1442"), isNaN(commandTimeout) || (stryMutAct_9fa48("1445") ? commandTimeout >= 1000 : stryMutAct_9fa48("1444") ? commandTimeout <= 1000 : stryMutAct_9fa48("1443") ? false : (stryCov_9fa48("1443", "1444", "1445"), commandTimeout < 1000)))) {
            if (stryMutAct_9fa48("1446")) {
                { }
            }
            else {
                stryCov_9fa48("1446");
                throw new Error(stryMutAct_9fa48("1447") ? `` : (stryCov_9fa48("1447"), `ODBC_COMMAND_TIMEOUT inválido: deve ser >= 1000ms (recebido: ${process.env.ODBC_COMMAND_TIMEOUT})`));
            }
        }
    }
};
exports.validateOdbcConfig = validateOdbcConfig;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvbWFuby9wcm9qZXRvcy9kYXRhc3VsL2xvcjAxMzgvLnN0cnlrZXItdG1wL3NhbmRib3gtRUZGMmJSL3NyYy9pbmZyYXN0cnVjdHVyZS9kYXRhYmFzZS9jb25maWcvb2RiY0NvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7QUFBQSxjQUFjO0FBQ2QsbURBQW1EO0FBQ25ELFNBQVMsWUFBWTtJQUNuQixJQUFJLENBQUMsR0FBRyxPQUFPLFVBQVUsS0FBSyxRQUFRLElBQUksVUFBVSxJQUFJLFVBQVUsQ0FBQyxJQUFJLEtBQUssSUFBSSxJQUFJLFVBQVUsSUFBSSxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO0lBQ2hJLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQy9DLElBQUksRUFBRSxDQUFDLFlBQVksS0FBSyxTQUFTLElBQUksQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO1FBQzNHLEVBQUUsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLENBQUM7SUFDNUQsQ0FBQztJQUNELFNBQVMsVUFBVTtRQUNqQixPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFDRCxZQUFZLEdBQUcsVUFBVSxDQUFDO0lBQzFCLE9BQU8sVUFBVSxFQUFFLENBQUM7QUFDdEIsQ0FBQztBQUNELFlBQVksRUFBRSxDQUFDO0FBQ2YsU0FBUyxhQUFhO0lBQ3BCLElBQUksRUFBRSxHQUFHLFlBQVksRUFBRSxDQUFDO0lBQ3hCLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxjQUFjLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxHQUFHO1FBQ2xELE1BQU0sRUFBRSxFQUFFO1FBQ1YsT0FBTyxFQUFFLEVBQUU7S0FDWixDQUFD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TSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxekIsTUFBTSxJQUFJLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1ZCxNQUFNLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxF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LENBQUMsRUFBRSxDQUFDO2dCQUM3QixDQUFDLENBQUEsQ0FBQztZQUNKLENBQUM7aUJBQU0sQ0FBQztnQkFDTixhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3RCLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLEVBQUUsZ0VBQWdFLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDaEwsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBMUNXLFFBQUEsa0JBQWtCLHNCQTBDN0IiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvbWFuby9wcm9qZXRvcy9kYXRhc3VsL2xvcjAxMzgvLnN0cnlrZXItdG1wL3NhbmRib3gtRUZGMmJSL3NyYy9pbmZyYXN0cnVjdHVyZS9kYXRhYmFzZS9jb25maWcvb2RiY0NvbmZpZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtbm9jaGVja1xuLy8gc3JjL2luZnJhc3RydWN0dXJlL2RhdGFiYXNlL2NvbmZpZy9vZGJjQ29uZmlnLnRzXG5mdW5jdGlvbiBzdHJ5TlNfOWZhNDgoKSB7XG4gIHZhciBnID0gdHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnICYmIGdsb2JhbFRoaXMgJiYgZ2xvYmFsVGhpcy5NYXRoID09PSBNYXRoICYmIGdsb2JhbFRoaXMgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgdmFyIG5zID0gZy5fX3N0cnlrZXJfXyB8fCAoZy5fX3N0cnlrZXJfXyA9IHt9KTtcbiAgaWYgKG5zLmFjdGl2ZU11dGFudCA9PT0gdW5kZWZpbmVkICYmIGcucHJvY2VzcyAmJiBnLnByb2Nlc3MuZW52ICYmIGcucHJvY2Vzcy5lbnYuX19TVFJZS0VSX0FDVElWRV9NVVRBTlRfXykge1xuICAgIG5zLmFjdGl2ZU11dGFudCA9IGcucHJvY2Vzcy5lbnYuX19TVFJZS0VSX0FDVElWRV9NVVRBTlRfXztcbiAgfVxuICBmdW5jdGlvbiByZXRyaWV2ZU5TKCkge1xuICAgIHJldHVybiBucztcbiAgfVxuICBzdHJ5TlNfOWZhNDggPSByZXRyaWV2ZU5TO1xuICByZXR1cm4gcmV0cmlldmVOUygpO1xufVxuc3RyeU5TXzlmYTQ4KCk7XG5mdW5jdGlvbiBzdHJ5Q292XzlmYTQ4KCkge1xuICB2YXIgbnMgPSBzdHJ5TlNfOWZhNDgoKTtcbiAgdmFyIGNvdiA9IG5zLm11dGFudENvdmVyYWdlIHx8IChucy5tdXRhbnRDb3ZlcmFnZSA9IHtcbiAgICBzdGF0aWM6IHt9LFxuICAgIHBlclRlc3Q6IHt9XG4gIH0pO1xuICBmdW5jdGlvbiBjb3ZlcigpIHtcbiAgICB2YXIgYyA9IGNvdi5zdGF0aWM7XG4gICAgaWYgKG5zLmN1cnJlbnRUZXN0SWQpIHtcbiAgICAgIGMgPSBjb3YucGVyVGVzdFtucy5jdXJyZW50VGVzdElkXSA9IGNvdi5wZXJUZXN0W25zLmN1cnJlbnRUZXN0SWRdIHx8IHt9O1xuICAgIH1cbiAgICB2YXIgYSA9IGFyZ3VtZW50cztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNbYVtpXV0gPSAoY1thW2ldXSB8fCAwKSArIDE7XG4gICAgfVxuICB9XG4gIHN0cnlDb3ZfOWZhNDggPSBjb3ZlcjtcbiAgY292ZXIuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cbmZ1bmN0aW9uIHN0cnlNdXRBY3RfOWZhNDgoaWQpIHtcbiAgdmFyIG5zID0gc3RyeU5TXzlmYTQ4KCk7XG4gIGZ1bmN0aW9uIGlzQWN0aXZlKGlkKSB7XG4gICAgaWYgKG5zLmFjdGl2ZU11dGFudCA9PT0gaWQpIHtcbiAgICAgIGlmIChucy5oaXRDb3VudCAhPT0gdm9pZCAwICYmICsrbnMuaGl0Q291bnQgPiBucy5oaXRMaW1pdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0cnlrZXI6IEhpdCBjb3VudCBsaW1pdCByZWFjaGVkICgnICsgbnMuaGl0Q291bnQgKyAnKScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHJ5TXV0QWN0XzlmYTQ4ID0gaXNBY3RpdmU7XG4gIHJldHVybiBpc0FjdGl2ZShpZCk7XG59XG5leHBvcnQgaW50ZXJmYWNlIE9kYmNDb25maWcge1xuICBjb25uZWN0aW9uU3RyaW5nOiBzdHJpbmc7XG4gIGNvbm5lY3Rpb25UaW1lb3V0OiBudW1iZXI7IC8vIG1pbGlzc2VndW5kb3NcbiAgY29tbWFuZFRpbWVvdXQ6IG51bWJlcjsgLy8gbWlsaXNzZWd1bmRvc1xufVxuXG4vKipcclxuICogUmV0b3JuYSBjb25uZWN0aW9uIHN0cmluZyBPREJDIHBhcmEgbyBkYXRhYmFzZSBlc3BlY2lmaWNhZG9cclxuICovXG5leHBvcnQgY29uc3QgZ2V0T2RiY0Nvbm5lY3Rpb25TdHJpbmcgPSAoZGF0YWJhc2U6ICdFTVAnIHwgJ01VTFQnKTogc3RyaW5nID0+IHtcbiAgaWYgKHN0cnlNdXRBY3RfOWZhNDgoXCIxMzc4XCIpKSB7XG4gICAge31cbiAgfSBlbHNlIHtcbiAgICBzdHJ5Q292XzlmYTQ4KFwiMTM3OFwiKTtcbiAgICBjb25zdCBkc25OYW1lID0gKHN0cnlNdXRBY3RfOWZhNDgoXCIxMzgxXCIpID8gZGF0YWJhc2UgIT09ICdFTVAnIDogc3RyeU11dEFjdF85ZmE0OChcIjEzODBcIikgPyBmYWxzZSA6IHN0cnlNdXRBY3RfOWZhNDgoXCIxMzc5XCIpID8gdHJ1ZSA6IChzdHJ5Q292XzlmYTQ4KFwiMTM3OVwiLCBcIjEzODBcIiwgXCIxMzgxXCIpLCBkYXRhYmFzZSA9PT0gKHN0cnlNdXRBY3RfOWZhNDgoXCIxMzgyXCIpID8gXCJcIiA6IChzdHJ5Q292XzlmYTQ4KFwiMTM4MlwiKSwgJ0VNUCcpKSkpID8gc3RyeU11dEFjdF85ZmE0OChcIjEzODVcIikgPyBwcm9jZXNzLmVudi5PREJDX0RTTl9FTVAgJiYgJ1BSRF9FTVMyRU1QJyA6IHN0cnlNdXRBY3RfOWZhNDgoXCIxMzg0XCIpID8gZmFsc2UgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTM4M1wiKSA/IHRydWUgOiAoc3RyeUNvdl85ZmE0OChcIjEzODNcIiwgXCIxMzg0XCIsIFwiMTM4NVwiKSwgcHJvY2Vzcy5lbnYuT0RCQ19EU05fRU1QIHx8IChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTM4NlwiKSA/IFwiXCIgOiAoc3RyeUNvdl85ZmE0OChcIjEzODZcIiksICdQUkRfRU1TMkVNUCcpKSkgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTM4OVwiKSA/IHByb2Nlc3MuZW52Lk9EQkNfRFNOX01VTFQgJiYgJ1BSRF9FTVMyTVVMVCcgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTM4OFwiKSA/IGZhbHNlIDogc3RyeU11dEFjdF85ZmE0OChcIjEzODdcIikgPyB0cnVlIDogKHN0cnlDb3ZfOWZhNDgoXCIxMzg3XCIsIFwiMTM4OFwiLCBcIjEzODlcIiksIHByb2Nlc3MuZW52Lk9EQkNfRFNOX01VTFQgfHwgKHN0cnlNdXRBY3RfOWZhNDgoXCIxMzkwXCIpID8gXCJcIiA6IChzdHJ5Q292XzlmYTQ4KFwiMTM5MFwiKSwgJ1BSRF9FTVMyTVVMVCcpKSk7XG4gICAgY29uc3QgdXNlciA9IHN0cnlNdXRBY3RfOWZhNDgoXCIxMzkzXCIpID8gKHByb2Nlc3MuZW52Lk9EQkNfVVNFUiB8fCBwcm9jZXNzLmVudi5EQl9VU0VSKSAmJiAnJyA6IHN0cnlNdXRBY3RfOWZhNDgoXCIxMzkyXCIpID8gZmFsc2UgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTM5MVwiKSA/IHRydWUgOiAoc3RyeUNvdl85ZmE0OChcIjEzOTFcIiwgXCIxMzkyXCIsIFwiMTM5M1wiKSwgKHN0cnlNdXRBY3RfOWZhNDgoXCIxMzk1XCIpID8gcHJvY2Vzcy5lbnYuT0RCQ19VU0VSICYmIHByb2Nlc3MuZW52LkRCX1VTRVIgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTM5NFwiKSA/IGZhbHNlIDogKHN0cnlDb3ZfOWZhNDgoXCIxMzk0XCIsIFwiMTM5NVwiKSwgcHJvY2Vzcy5lbnYuT0RCQ19VU0VSIHx8IHByb2Nlc3MuZW52LkRCX1VTRVIpKSB8fCAoc3RyeU11dEFjdF85ZmE0OChcIjEzOTZcIikgPyBcIlN0cnlrZXIgd2FzIGhlcmUhXCIgOiAoc3RyeUNvdl85ZmE0OChcIjEzOTZcIiksICcnKSkpO1xuICAgIGNvbnN0IHBhc3N3b3JkID0gc3RyeU11dEFjdF85ZmE0OChcIjEzOTlcIikgPyAocHJvY2Vzcy5lbnYuT0RCQ19QQVNTV09SRCB8fCBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCkgJiYgJycgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTM5OFwiKSA/IGZhbHNlIDogc3RyeU11dEFjdF85ZmE0OChcIjEzOTdcIikgPyB0cnVlIDogKHN0cnlDb3ZfOWZhNDgoXCIxMzk3XCIsIFwiMTM5OFwiLCBcIjEzOTlcIiksIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQwMVwiKSA/IHByb2Nlc3MuZW52Lk9EQkNfUEFTU1dPUkQgJiYgcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQwMFwiKSA/IGZhbHNlIDogKHN0cnlDb3ZfOWZhNDgoXCIxNDAwXCIsIFwiMTQwMVwiKSwgcHJvY2Vzcy5lbnYuT0RCQ19QQVNTV09SRCB8fCBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCkpIHx8IChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQwMlwiKSA/IFwiU3RyeWtlciB3YXMgaGVyZSFcIiA6IChzdHJ5Q292XzlmYTQ4KFwiMTQwMlwiKSwgJycpKSk7XG4gICAgcmV0dXJuIHN0cnlNdXRBY3RfOWZhNDgoXCIxNDAzXCIpID8gYGAgOiAoc3RyeUNvdl85ZmE0OChcIjE0MDNcIiksIGBEU049JHtkc25OYW1lfTtVSUQ9JHt1c2VyfTtQV0Q9JHtwYXNzd29yZH1gKTtcbiAgfVxufTtcblxuLyoqXHJcbiAqIOKchSBOT1ZPOiBSZXRvcm5hIGNvbmZpZ3VyYcOnw6NvIGNvbXBsZXRhIGNvbSB0aW1lb3V0c1xyXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRPZGJjQ29uZmlnID0gKGRhdGFiYXNlOiAnRU1QJyB8ICdNVUxUJyk6IE9kYmNDb25maWcgPT4ge1xuICBpZiAoc3RyeU11dEFjdF85ZmE0OChcIjE0MDRcIikpIHtcbiAgICB7fVxuICB9IGVsc2Uge1xuICAgIHN0cnlDb3ZfOWZhNDgoXCIxNDA0XCIpO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25TdHJpbmcgPSBnZXRPZGJjQ29ubmVjdGlvblN0cmluZyhkYXRhYmFzZSk7XG5cbiAgICAvLyDinIUgSU1QT1JUQU5URTogVXNhIHBhcnNlSW50KCkgZGlyZXRvLCBlbnTDo28gLmVudiBkZXZlIHRlciBtaWxpc3NlZ3VuZG9zIHB1cm9zXG4gICAgY29uc3QgY29ubmVjdGlvblRpbWVvdXQgPSBwYXJzZUludChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQwN1wiKSA/IHByb2Nlc3MuZW52Lk9EQkNfQ09OTkVDVElPTl9USU1FT1VUICYmICcxNTAwMCcgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQwNlwiKSA/IGZhbHNlIDogc3RyeU11dEFjdF85ZmE0OChcIjE0MDVcIikgPyB0cnVlIDogKHN0cnlDb3ZfOWZhNDgoXCIxNDA1XCIsIFwiMTQwNlwiLCBcIjE0MDdcIiksIHByb2Nlc3MuZW52Lk9EQkNfQ09OTkVDVElPTl9USU1FT1VUIHx8IChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQwOFwiKSA/IFwiXCIgOiAoc3RyeUNvdl85ZmE0OChcIjE0MDhcIiksICcxNTAwMCcpKSksIDEwKTtcbiAgICBjb25zdCBjb21tYW5kVGltZW91dCA9IHBhcnNlSW50KHN0cnlNdXRBY3RfOWZhNDgoXCIxNDExXCIpID8gcHJvY2Vzcy5lbnYuT0RCQ19DT01NQU5EX1RJTUVPVVQgJiYgJzMwMDAwJyA6IHN0cnlNdXRBY3RfOWZhNDgoXCIxNDEwXCIpID8gZmFsc2UgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQwOVwiKSA/IHRydWUgOiAoc3RyeUNvdl85ZmE0OChcIjE0MDlcIiwgXCIxNDEwXCIsIFwiMTQxMVwiKSwgcHJvY2Vzcy5lbnYuT0RCQ19DT01NQU5EX1RJTUVPVVQgfHwgKHN0cnlNdXRBY3RfOWZhNDgoXCIxNDEyXCIpID8gXCJcIiA6IChzdHJ5Q292XzlmYTQ4KFwiMTQxMlwiKSwgJzMwMDAwJykpKSwgMTApO1xuICAgIHJldHVybiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQxM1wiKSA/IHt9IDogKHN0cnlDb3ZfOWZhNDgoXCIxNDEzXCIpLCB7XG4gICAgICBjb25uZWN0aW9uU3RyaW5nLFxuICAgICAgY29ubmVjdGlvblRpbWVvdXQsXG4gICAgICBjb21tYW5kVGltZW91dFxuICAgIH0pO1xuICB9XG59O1xuXG4vKipcclxuICogVmFsaWRhIGNvbmZpZ3VyYcOnw6NvIE9EQkNcclxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGVPZGJjQ29uZmlnID0gKCk6IHZvaWQgPT4ge1xuICBpZiAoc3RyeU11dEFjdF85ZmE0OChcIjE0MTRcIikpIHtcbiAgICB7fVxuICB9IGVsc2Uge1xuICAgIHN0cnlDb3ZfOWZhNDgoXCIxNDE0XCIpO1xuICAgIGNvbnN0IHJlcXVpcmVkVmFycyA9IHN0cnlNdXRBY3RfOWZhNDgoXCIxNDE1XCIpID8gW10gOiAoc3RyeUNvdl85ZmE0OChcIjE0MTVcIiksIFtzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQxNlwiKSA/IFwiXCIgOiAoc3RyeUNvdl85ZmE0OChcIjE0MTZcIiksICdEQl9VU0VSJyksIHN0cnlNdXRBY3RfOWZhNDgoXCIxNDE3XCIpID8gXCJcIiA6IChzdHJ5Q292XzlmYTQ4KFwiMTQxN1wiKSwgJ0RCX1BBU1NXT1JEJyldKTtcbiAgICBmb3IgKGNvbnN0IHZhck5hbWUgb2YgcmVxdWlyZWRWYXJzKSB7XG4gICAgICBpZiAoc3RyeU11dEFjdF85ZmE0OChcIjE0MThcIikpIHtcbiAgICAgICAge31cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cnlDb3ZfOWZhNDgoXCIxNDE4XCIpO1xuICAgICAgICBpZiAoc3RyeU11dEFjdF85ZmE0OChcIjE0MjFcIikgPyBmYWxzZSA6IHN0cnlNdXRBY3RfOWZhNDgoXCIxNDIwXCIpID8gdHJ1ZSA6IHN0cnlNdXRBY3RfOWZhNDgoXCIxNDE5XCIpID8gcHJvY2Vzcy5lbnZbdmFyTmFtZV0gOiAoc3RyeUNvdl85ZmE0OChcIjE0MTlcIiwgXCIxNDIwXCIsIFwiMTQyMVwiKSwgIXByb2Nlc3MuZW52W3Zhck5hbWVdKSkge1xuICAgICAgICAgIGlmIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQyMlwiKSkge1xuICAgICAgICAgICAge31cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyeUNvdl85ZmE0OChcIjE0MjJcIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyeU11dEFjdF85ZmE0OChcIjE0MjNcIikgPyBgYCA6IChzdHJ5Q292XzlmYTQ4KFwiMTQyM1wiKSwgYFZhcmnDoXZlbCBkZSBhbWJpZW50ZSBvYnJpZ2F0w7NyaWEgbsOjbyBlbmNvbnRyYWRhOiAke3Zhck5hbWV9YCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFZlcmlmaWNhIHRpbWVvdXRzXG4gICAgY29uc3QgY29ubmVjdGlvblRpbWVvdXQgPSBwYXJzZUludChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQyNlwiKSA/IHByb2Nlc3MuZW52Lk9EQkNfQ09OTkVDVElPTl9USU1FT1VUICYmICcxNTAwMCcgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQyNVwiKSA/IGZhbHNlIDogc3RyeU11dEFjdF85ZmE0OChcIjE0MjRcIikgPyB0cnVlIDogKHN0cnlDb3ZfOWZhNDgoXCIxNDI0XCIsIFwiMTQyNVwiLCBcIjE0MjZcIiksIHByb2Nlc3MuZW52Lk9EQkNfQ09OTkVDVElPTl9USU1FT1VUIHx8IChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQyN1wiKSA/IFwiXCIgOiAoc3RyeUNvdl85ZmE0OChcIjE0MjdcIiksICcxNTAwMCcpKSksIDEwKTtcbiAgICBjb25zdCBjb21tYW5kVGltZW91dCA9IHBhcnNlSW50KHN0cnlNdXRBY3RfOWZhNDgoXCIxNDMwXCIpID8gcHJvY2Vzcy5lbnYuT0RCQ19DT01NQU5EX1RJTUVPVVQgJiYgJzMwMDAwJyA6IHN0cnlNdXRBY3RfOWZhNDgoXCIxNDI5XCIpID8gZmFsc2UgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQyOFwiKSA/IHRydWUgOiAoc3RyeUNvdl85ZmE0OChcIjE0MjhcIiwgXCIxNDI5XCIsIFwiMTQzMFwiKSwgcHJvY2Vzcy5lbnYuT0RCQ19DT01NQU5EX1RJTUVPVVQgfHwgKHN0cnlNdXRBY3RfOWZhNDgoXCIxNDMxXCIpID8gXCJcIiA6IChzdHJ5Q292XzlmYTQ4KFwiMTQzMVwiKSwgJzMwMDAwJykpKSwgMTApO1xuICAgIGlmIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQzNFwiKSA/IGlzTmFOKGNvbm5lY3Rpb25UaW1lb3V0KSAmJiBjb25uZWN0aW9uVGltZW91dCA8IDEwMDAgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQzM1wiKSA/IGZhbHNlIDogc3RyeU11dEFjdF85ZmE0OChcIjE0MzJcIikgPyB0cnVlIDogKHN0cnlDb3ZfOWZhNDgoXCIxNDMyXCIsIFwiMTQzM1wiLCBcIjE0MzRcIiksIGlzTmFOKGNvbm5lY3Rpb25UaW1lb3V0KSB8fCAoc3RyeU11dEFjdF85ZmE0OChcIjE0MzdcIikgPyBjb25uZWN0aW9uVGltZW91dCA+PSAxMDAwIDogc3RyeU11dEFjdF85ZmE0OChcIjE0MzZcIikgPyBjb25uZWN0aW9uVGltZW91dCA8PSAxMDAwIDogc3RyeU11dEFjdF85ZmE0OChcIjE0MzVcIikgPyBmYWxzZSA6IChzdHJ5Q292XzlmYTQ4KFwiMTQzNVwiLCBcIjE0MzZcIiwgXCIxNDM3XCIpLCBjb25uZWN0aW9uVGltZW91dCA8IDEwMDApKSkpIHtcbiAgICAgIGlmIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQzOFwiKSkge1xuICAgICAgICB7fVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyeUNvdl85ZmE0OChcIjE0MzhcIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQzOVwiKSA/IGBgIDogKHN0cnlDb3ZfOWZhNDgoXCIxNDM5XCIpLCBgT0RCQ19DT05ORUNUSU9OX1RJTUVPVVQgaW52w6FsaWRvOiBkZXZlIHNlciA+PSAxMDAwbXMgKHJlY2ViaWRvOiAke3Byb2Nlc3MuZW52Lk9EQkNfQ09OTkVDVElPTl9USU1FT1VUfSlgKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQ0MlwiKSA/IGlzTmFOKGNvbW1hbmRUaW1lb3V0KSAmJiBjb21tYW5kVGltZW91dCA8IDEwMDAgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQ0MVwiKSA/IGZhbHNlIDogc3RyeU11dEFjdF85ZmE0OChcIjE0NDBcIikgPyB0cnVlIDogKHN0cnlDb3ZfOWZhNDgoXCIxNDQwXCIsIFwiMTQ0MVwiLCBcIjE0NDJcIiksIGlzTmFOKGNvbW1hbmRUaW1lb3V0KSB8fCAoc3RyeU11dEFjdF85ZmE0OChcIjE0NDVcIikgPyBjb21tYW5kVGltZW91dCA+PSAxMDAwIDogc3RyeU11dEFjdF85ZmE0OChcIjE0NDRcIikgPyBjb21tYW5kVGltZW91dCA8PSAxMDAwIDogc3RyeU11dEFjdF85ZmE0OChcIjE0NDNcIikgPyBmYWxzZSA6IChzdHJ5Q292XzlmYTQ4KFwiMTQ0M1wiLCBcIjE0NDRcIiwgXCIxNDQ1XCIpLCBjb21tYW5kVGltZW91dCA8IDEwMDApKSkpIHtcbiAgICAgIGlmIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQ0NlwiKSkge1xuICAgICAgICB7fVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyeUNvdl85ZmE0OChcIjE0NDZcIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihzdHJ5TXV0QWN0XzlmYTQ4KFwiMTQ0N1wiKSA/IGBgIDogKHN0cnlDb3ZfOWZhNDgoXCIxNDQ3XCIpLCBgT0RCQ19DT01NQU5EX1RJTUVPVVQgaW52w6FsaWRvOiBkZXZlIHNlciA+PSAxMDAwbXMgKHJlY2ViaWRvOiAke3Byb2Nlc3MuZW52Lk9EQkNfQ09NTUFORF9USU1FT1VUfSlgKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59OyJdLCJ2ZXJzaW9uIjozfQ==