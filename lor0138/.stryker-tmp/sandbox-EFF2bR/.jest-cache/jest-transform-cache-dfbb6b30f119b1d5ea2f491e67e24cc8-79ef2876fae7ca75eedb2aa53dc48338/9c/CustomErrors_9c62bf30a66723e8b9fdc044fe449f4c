08606fac94adecb6e22b3442bb6739a2
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BusinessRuleError = exports.ConfigurationError = exports.RateLimitError = exports.AuthorizationError = exports.AuthenticationError = exports.CacheError = exports.ExternalServiceError = exports.ConnectionTimeoutError = exports.DatabaseError = exports.ValidationError = exports.EstabelecimentoNotFoundError = exports.ItemNotFoundError = void 0;
// @ts-nocheck
// src/shared/errors/CustomErrors.ts
function stryNS_9fa48() {
    var g = typeof globalThis === 'object' && globalThis && globalThis.Math === Math && globalThis || new Function("return this")();
    var ns = g.__stryker__ || (g.__stryker__ = {});
    if (ns.activeMutant === undefined && g.process && g.process.env && g.process.env.__STRYKER_ACTIVE_MUTANT__) {
        ns.activeMutant = g.process.env.__STRYKER_ACTIVE_MUTANT__;
    }
    function retrieveNS() {
        return ns;
    }
    stryNS_9fa48 = retrieveNS;
    return retrieveNS();
}
stryNS_9fa48();
function stryCov_9fa48() {
    var ns = stryNS_9fa48();
    var cov = ns.mutantCoverage || (ns.mutantCoverage = {
        static: {},
        perTest: {}
    });
    function cover() {
        var c = cov.static;
        if (ns.currentTestId) {
            c = cov.perTest[ns.currentTestId] = cov.perTest[ns.currentTestId] || {};
        }
        var a = arguments;
        for (var i = 0; i < a.length; i++) {
            c[a[i]] = (c[a[i]] || 0) + 1;
        }
    }
    stryCov_9fa48 = cover;
    cover.apply(null, arguments);
}
function stryMutAct_9fa48(id) {
    var ns = stryNS_9fa48();
    function isActive(id) {
        if (ns.activeMutant === id) {
            if (ns.hitCount !== void 0 && ++ns.hitCount > ns.hitLimit) {
                throw new Error('Stryker: Hit count limit reached (' + ns.hitCount + ')');
            }
            return true;
        }
        return false;
    }
    stryMutAct_9fa48 = isActive;
    return isActive(id);
}
const AppError_1 = require("./AppError");
/**
 * Erro quando item não é encontrado
 */
class ItemNotFoundError extends AppError_1.AppError {
    constructor(itemCodigo) {
        if (stryMutAct_9fa48("2313")) {
            { }
        }
        else {
            stryCov_9fa48("2313");
            super(404, stryMutAct_9fa48("2314") ? `` : (stryCov_9fa48("2314"), `Item ${itemCodigo} não encontrado`), stryMutAct_9fa48("2315") ? false : (stryCov_9fa48("2315"), true), stryMutAct_9fa48("2316") ? {} : (stryCov_9fa48("2316"), {
                itemCodigo
            }));
        }
    }
}
exports.ItemNotFoundError = ItemNotFoundError;
/**
 * Erro quando estabelecimento não é encontrado
 */
class EstabelecimentoNotFoundError extends AppError_1.AppError {
    constructor(estabCodigo) {
        if (stryMutAct_9fa48("2317")) {
            { }
        }
        else {
            stryCov_9fa48("2317");
            super(404, stryMutAct_9fa48("2318") ? `` : (stryCov_9fa48("2318"), `Estabelecimento ${estabCodigo} não encontrado`), stryMutAct_9fa48("2319") ? false : (stryCov_9fa48("2319"), true), stryMutAct_9fa48("2320") ? {} : (stryCov_9fa48("2320"), {
                estabCodigo
            }));
        }
    }
}
exports.EstabelecimentoNotFoundError = EstabelecimentoNotFoundError;
/**
 * Erro de validação de dados
 */
class ValidationError extends AppError_1.AppError {
    constructor(message, fields) {
        if (stryMutAct_9fa48("2321")) {
            { }
        }
        else {
            stryCov_9fa48("2321");
            super(400, message, stryMutAct_9fa48("2322") ? false : (stryCov_9fa48("2322"), true), stryMutAct_9fa48("2323") ? {} : (stryCov_9fa48("2323"), {
                fields
            }));
        }
    }
}
exports.ValidationError = ValidationError;
/**
 * Erro de banco de dados
 */
class DatabaseError extends AppError_1.AppError {
    constructor(message, originalError) {
        if (stryMutAct_9fa48("2324")) {
            { }
        }
        else {
            stryCov_9fa48("2324");
            super(500, stryMutAct_9fa48("2325") ? `` : (stryCov_9fa48("2325"), `Erro no banco de dados: ${message}`), stryMutAct_9fa48("2326") ? false : (stryCov_9fa48("2326"), true), stryMutAct_9fa48("2327") ? {} : (stryCov_9fa48("2327"), {
                originalMessage: stryMutAct_9fa48("2328") ? originalError.message : (stryCov_9fa48("2328"), originalError?.message),
                ...(stryMutAct_9fa48("2331") ? process.env.NODE_ENV === 'development' || {
                    stack: originalError?.stack
                } : stryMutAct_9fa48("2330") ? false : stryMutAct_9fa48("2329") ? true : (stryCov_9fa48("2329", "2330", "2331"), (stryMutAct_9fa48("2333") ? process.env.NODE_ENV !== 'development' : stryMutAct_9fa48("2332") ? true : (stryCov_9fa48("2332", "2333"), process.env.NODE_ENV === (stryMutAct_9fa48("2334") ? "" : (stryCov_9fa48("2334"), 'development')))) && (stryMutAct_9fa48("2335") ? {} : (stryCov_9fa48("2335"), {
                    stack: stryMutAct_9fa48("2336") ? originalError.stack : (stryCov_9fa48("2336"), originalError?.stack)
                }))))
            }));
        }
    }
}
exports.DatabaseError = DatabaseError;
/**
 * Erro de timeout de conexão
 */
class ConnectionTimeoutError extends AppError_1.AppError {
    constructor(service, timeout) {
        if (stryMutAct_9fa48("2337")) {
            { }
        }
        else {
            stryCov_9fa48("2337");
            super(503, stryMutAct_9fa48("2338") ? `` : (stryCov_9fa48("2338"), `Timeout ao conectar com ${service} após ${timeout}ms`), stryMutAct_9fa48("2339") ? false : (stryCov_9fa48("2339"), true), stryMutAct_9fa48("2340") ? {} : (stryCov_9fa48("2340"), {
                service,
                timeout
            }));
        }
    }
}
exports.ConnectionTimeoutError = ConnectionTimeoutError;
/**
 * Erro de conexão com serviço externo
 */
class ExternalServiceError extends AppError_1.AppError {
    constructor(service, message) {
        if (stryMutAct_9fa48("2341")) {
            { }
        }
        else {
            stryCov_9fa48("2341");
            super(503, stryMutAct_9fa48("2342") ? `` : (stryCov_9fa48("2342"), `Erro no serviço ${service}: ${message}`), stryMutAct_9fa48("2343") ? false : (stryCov_9fa48("2343"), true), stryMutAct_9fa48("2344") ? {} : (stryCov_9fa48("2344"), {
                service
            }));
        }
    }
}
exports.ExternalServiceError = ExternalServiceError;
/**
 * Erro de cache
 */
class CacheError extends AppError_1.AppError {
    constructor(operation, message) {
        if (stryMutAct_9fa48("2345")) {
            { }
        }
        else {
            stryCov_9fa48("2345");
            super(500, stryMutAct_9fa48("2346") ? `` : (stryCov_9fa48("2346"), `Erro no cache (${operation}): ${message}`), stryMutAct_9fa48("2347") ? false : (stryCov_9fa48("2347"), true), stryMutAct_9fa48("2348") ? {} : (stryCov_9fa48("2348"), {
                operation
            }));
        }
    }
}
exports.CacheError = CacheError;
/**
 * Erro de autenticação
 */
class AuthenticationError extends AppError_1.AppError {
    constructor(message = stryMutAct_9fa48("2349") ? "" : (stryCov_9fa48("2349"), 'Não autenticado')) {
        if (stryMutAct_9fa48("2350")) {
            { }
        }
        else {
            stryCov_9fa48("2350");
            super(401, message, stryMutAct_9fa48("2351") ? false : (stryCov_9fa48("2351"), true));
        }
    }
}
exports.AuthenticationError = AuthenticationError;
/**
 * Erro de autorização
 */
class AuthorizationError extends AppError_1.AppError {
    constructor(message = stryMutAct_9fa48("2352") ? "" : (stryCov_9fa48("2352"), 'Não autorizado')) {
        if (stryMutAct_9fa48("2353")) {
            { }
        }
        else {
            stryCov_9fa48("2353");
            super(403, message, stryMutAct_9fa48("2354") ? false : (stryCov_9fa48("2354"), true));
        }
    }
}
exports.AuthorizationError = AuthorizationError;
/**
 * Erro de rate limit
 */
class RateLimitError extends AppError_1.AppError {
    constructor(retryAfter) {
        if (stryMutAct_9fa48("2355")) {
            { }
        }
        else {
            stryCov_9fa48("2355");
            super(429, stryMutAct_9fa48("2356") ? "" : (stryCov_9fa48("2356"), 'Muitas requisições. Tente novamente em alguns segundos.'), stryMutAct_9fa48("2357") ? false : (stryCov_9fa48("2357"), true), stryMutAct_9fa48("2358") ? {} : (stryCov_9fa48("2358"), {
                retryAfter
            }));
        }
    }
}
exports.RateLimitError = RateLimitError;
/**
 * Erro de configuração
 */
class ConfigurationError extends AppError_1.AppError {
    constructor(message) {
        if (stryMutAct_9fa48("2359")) {
            { }
        }
        else {
            stryCov_9fa48("2359");
            super(500, stryMutAct_9fa48("2360") ? `` : (stryCov_9fa48("2360"), `Erro de configuração: ${message}`), stryMutAct_9fa48("2361") ? true : (stryCov_9fa48("2361"), false));
        }
    }
}
exports.ConfigurationError = ConfigurationError;
/**
 * Erro de business rule
 */
class BusinessRuleError extends AppError_1.AppError {
    constructor(message, rule) {
        if (stryMutAct_9fa48("2362")) {
            { }
        }
        else {
            stryCov_9fa48("2362");
            super(422, message, stryMutAct_9fa48("2363") ? false : (stryCov_9fa48("2363"), true), stryMutAct_9fa48("2364") ? {} : (stryCov_9fa48("2364"), {
                rule
            }));
        }
    }
}
exports.BusinessRuleError = BusinessRuleError;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvbWFuby9wcm9qZXRvcy9kYXRhc3VsL2xvcjAxMzgvLnN0cnlrZXItdG1wL3NhbmRib3gtRUZGMmJSL3NyYy9zaGFyZWQvZXJyb3JzL0N1c3RvbUVycm9ycy50cyIsIm1hcHBpbmdzIjoiOzs7QUFBQSxjQUFjO0FBQ2Qsb0NBQW9DO0FBQ3BDLFNBQVMsWUFBWTtJQUNuQixJQUFJLENBQUMsR0FBRyxPQUFPLFVBQVUsS0FBSyxRQUFRLElBQUksVUFBVSxJQUFJLFVBQVUsQ0FBQyxJQUFJLEtBQUssSUFBSSxJQUFJLFVBQVUsSUFBSSxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO0lBQ2hJLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQy9DLElBQUksRUFBRSxDQUFDLFlBQVksS0FBSyxTQUFTLElBQUksQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO1FBQzNHLEVBQUUsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLENBQUM7SUFDNUQsQ0FBQztJQUNELFNBQVMsVUFBVTtRQUNqQixPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFDRCxZQUFZLEdBQUcsVUFBVSxDQUFDO0lBQzFCLE9BQU8sVUFBVSxFQUFFLENBQUM7QUFDdEIsQ0FBQztBQUNELFlBQVksRUFBRSxDQUFDO0FBQ2YsU0FBUyxhQUFhO0lBQ3BCLElBQUksRUFBRSxHQUFHLFlBQVksRUFBRSxDQUFDO0lBQ3hCLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxjQUFjLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxHQUFHO1FBQ2xELE1BQU0sRUFBRSxFQUFFO1FBQ1YsT0FBTyxFQUFFLEVBQUU7S0FDWixDQUFDLENBQUM7SUFDSCxTQUFT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QUFFLE9BQU8sRUFBRSxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDNUksSUFBSTthQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ04sQ0FBQztJQUNILENBQUM7Q0FDRjtBQVhELDhDQVdDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL21hbm8vcHJvamV0b3MvZGF0YXN1bC9sb3IwMTM4Ly5zdHJ5a2VyLXRtcC9zYW5kYm94LUVGRjJiUi9zcmMvc2hhcmVkL2Vycm9ycy9DdXN0b21FcnJvcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLW5vY2hlY2tcbi8vIHNyYy9zaGFyZWQvZXJyb3JzL0N1c3RvbUVycm9ycy50c1xuZnVuY3Rpb24gc3RyeU5TXzlmYTQ4KCkge1xuICB2YXIgZyA9IHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JyAmJiBnbG9iYWxUaGlzICYmIGdsb2JhbFRoaXMuTWF0aCA9PT0gTWF0aCAmJiBnbG9iYWxUaGlzIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4gIHZhciBucyA9IGcuX19zdHJ5a2VyX18gfHwgKGcuX19zdHJ5a2VyX18gPSB7fSk7XG4gIGlmIChucy5hY3RpdmVNdXRhbnQgPT09IHVuZGVmaW5lZCAmJiBnLnByb2Nlc3MgJiYgZy5wcm9jZXNzLmVudiAmJiBnLnByb2Nlc3MuZW52Ll9fU1RSWUtFUl9BQ1RJVkVfTVVUQU5UX18pIHtcbiAgICBucy5hY3RpdmVNdXRhbnQgPSBnLnByb2Nlc3MuZW52Ll9fU1RSWUtFUl9BQ1RJVkVfTVVUQU5UX187XG4gIH1cbiAgZnVuY3Rpb24gcmV0cmlldmVOUygpIHtcbiAgICByZXR1cm4gbnM7XG4gIH1cbiAgc3RyeU5TXzlmYTQ4ID0gcmV0cmlldmVOUztcbiAgcmV0dXJuIHJldHJpZXZlTlMoKTtcbn1cbnN0cnlOU185ZmE0OCgpO1xuZnVuY3Rpb24gc3RyeUNvdl85ZmE0OCgpIHtcbiAgdmFyIG5zID0gc3RyeU5TXzlmYTQ4KCk7XG4gIHZhciBjb3YgPSBucy5tdXRhbnRDb3ZlcmFnZSB8fCAobnMubXV0YW50Q292ZXJhZ2UgPSB7XG4gICAgc3RhdGljOiB7fSxcbiAgICBwZXJUZXN0OiB7fVxuICB9KTtcbiAgZnVuY3Rpb24gY292ZXIoKSB7XG4gICAgdmFyIGMgPSBjb3Yuc3RhdGljO1xuICAgIGlmIChucy5jdXJyZW50VGVzdElkKSB7XG4gICAgICBjID0gY292LnBlclRlc3RbbnMuY3VycmVudFRlc3RJZF0gPSBjb3YucGVyVGVzdFtucy5jdXJyZW50VGVzdElkXSB8fCB7fTtcbiAgICB9XG4gICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjW2FbaV1dID0gKGNbYVtpXV0gfHwgMCkgKyAxO1xuICAgIH1cbiAgfVxuICBzdHJ5Q292XzlmYTQ4ID0gY292ZXI7XG4gIGNvdmVyLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5mdW5jdGlvbiBzdHJ5TXV0QWN0XzlmYTQ4KGlkKSB7XG4gIHZhciBucyA9IHN0cnlOU185ZmE0OCgpO1xuICBmdW5jdGlvbiBpc0FjdGl2ZShpZCkge1xuICAgIGlmIChucy5hY3RpdmVNdXRhbnQgPT09IGlkKSB7XG4gICAgICBpZiAobnMuaGl0Q291bnQgIT09IHZvaWQgMCAmJiArK25zLmhpdENvdW50ID4gbnMuaGl0TGltaXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdHJ5a2VyOiBIaXQgY291bnQgbGltaXQgcmVhY2hlZCAoJyArIG5zLmhpdENvdW50ICsgJyknKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3RyeU11dEFjdF85ZmE0OCA9IGlzQWN0aXZlO1xuICByZXR1cm4gaXNBY3RpdmUoaWQpO1xufVxuaW1wb3J0IHsgQXBwRXJyb3IgfSBmcm9tICcuL0FwcEVycm9yJztcblxuLyoqXG4gKiBFcnJvIHF1YW5kbyBpdGVtIG7Do28gw6kgZW5jb250cmFkb1xuICovXG5leHBvcnQgY2xhc3MgSXRlbU5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1Db2RpZ286IHN0cmluZykge1xuICAgIGlmIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMjMxM1wiKSkge1xuICAgICAge31cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyeUNvdl85ZmE0OChcIjIzMTNcIik7XG4gICAgICBzdXBlcig0MDQsIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzE0XCIpID8gYGAgOiAoc3RyeUNvdl85ZmE0OChcIjIzMTRcIiksIGBJdGVtICR7aXRlbUNvZGlnb30gbsOjbyBlbmNvbnRyYWRvYCksIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzE1XCIpID8gZmFsc2UgOiAoc3RyeUNvdl85ZmE0OChcIjIzMTVcIiksIHRydWUpLCBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjMxNlwiKSA/IHt9IDogKHN0cnlDb3ZfOWZhNDgoXCIyMzE2XCIpLCB7XG4gICAgICAgIGl0ZW1Db2RpZ29cbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvIHF1YW5kbyBlc3RhYmVsZWNpbWVudG8gbsOjbyDDqSBlbmNvbnRyYWRvXG4gKi9cbmV4cG9ydCBjbGFzcyBFc3RhYmVsZWNpbWVudG9Ob3RGb3VuZEVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcihlc3RhYkNvZGlnbzogc3RyaW5nKSB7XG4gICAgaWYgKHN0cnlNdXRBY3RfOWZhNDgoXCIyMzE3XCIpKSB7XG4gICAgICB7fVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHJ5Q292XzlmYTQ4KFwiMjMxN1wiKTtcbiAgICAgIHN1cGVyKDQwNCwgc3RyeU11dEFjdF85ZmE0OChcIjIzMThcIikgPyBgYCA6IChzdHJ5Q292XzlmYTQ4KFwiMjMxOFwiKSwgYEVzdGFiZWxlY2ltZW50byAke2VzdGFiQ29kaWdvfSBuw6NvIGVuY29udHJhZG9gKSwgc3RyeU11dEFjdF85ZmE0OChcIjIzMTlcIikgPyBmYWxzZSA6IChzdHJ5Q292XzlmYTQ4KFwiMjMxOVwiKSwgdHJ1ZSksIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzIwXCIpID8ge30gOiAoc3RyeUNvdl85ZmE0OChcIjIzMjBcIiksIHtcbiAgICAgICAgZXN0YWJDb2RpZ29cbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvIGRlIHZhbGlkYcOnw6NvIGRlIGRhZG9zXG4gKi9cbmV4cG9ydCBjbGFzcyBWYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgZmllbGRzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPikge1xuICAgIGlmIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMjMyMVwiKSkge1xuICAgICAge31cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyeUNvdl85ZmE0OChcIjIzMjFcIik7XG4gICAgICBzdXBlcig0MDAsIG1lc3NhZ2UsIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzIyXCIpID8gZmFsc2UgOiAoc3RyeUNvdl85ZmE0OChcIjIzMjJcIiksIHRydWUpLCBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjMyM1wiKSA/IHt9IDogKHN0cnlDb3ZfOWZhNDgoXCIyMzIzXCIpLCB7XG4gICAgICAgIGZpZWxkc1xuICAgICAgfSkpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEVycm8gZGUgYmFuY28gZGUgZGFkb3NcbiAqL1xuZXhwb3J0IGNsYXNzIERhdGFiYXNlRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgb3JpZ2luYWxFcnJvcj86IEVycm9yKSB7XG4gICAgaWYgKHN0cnlNdXRBY3RfOWZhNDgoXCIyMzI0XCIpKSB7XG4gICAgICB7fVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHJ5Q292XzlmYTQ4KFwiMjMyNFwiKTtcbiAgICAgIHN1cGVyKDUwMCwgc3RyeU11dEFjdF85ZmE0OChcIjIzMjVcIikgPyBgYCA6IChzdHJ5Q292XzlmYTQ4KFwiMjMyNVwiKSwgYEVycm8gbm8gYmFuY28gZGUgZGFkb3M6ICR7bWVzc2FnZX1gKSwgc3RyeU11dEFjdF85ZmE0OChcIjIzMjZcIikgPyBmYWxzZSA6IChzdHJ5Q292XzlmYTQ4KFwiMjMyNlwiKSwgdHJ1ZSksIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzI3XCIpID8ge30gOiAoc3RyeUNvdl85ZmE0OChcIjIzMjdcIiksIHtcbiAgICAgICAgb3JpZ2luYWxNZXNzYWdlOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjMyOFwiKSA/IG9yaWdpbmFsRXJyb3IubWVzc2FnZSA6IChzdHJ5Q292XzlmYTQ4KFwiMjMyOFwiKSwgb3JpZ2luYWxFcnJvcj8ubWVzc2FnZSksXG4gICAgICAgIC4uLihzdHJ5TXV0QWN0XzlmYTQ4KFwiMjMzMVwiKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnIHx8IHtcbiAgICAgICAgICBzdGFjazogb3JpZ2luYWxFcnJvcj8uc3RhY2tcbiAgICAgICAgfSA6IHN0cnlNdXRBY3RfOWZhNDgoXCIyMzMwXCIpID8gZmFsc2UgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjMyOVwiKSA/IHRydWUgOiAoc3RyeUNvdl85ZmE0OChcIjIzMjlcIiwgXCIyMzMwXCIsIFwiMjMzMVwiKSwgKHN0cnlNdXRBY3RfOWZhNDgoXCIyMzMzXCIpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcgOiBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjMzMlwiKSA/IHRydWUgOiAoc3RyeUNvdl85ZmE0OChcIjIzMzJcIiwgXCIyMzMzXCIpLCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gKHN0cnlNdXRBY3RfOWZhNDgoXCIyMzM0XCIpID8gXCJcIiA6IChzdHJ5Q292XzlmYTQ4KFwiMjMzNFwiKSwgJ2RldmVsb3BtZW50JykpKSkgJiYgKHN0cnlNdXRBY3RfOWZhNDgoXCIyMzM1XCIpID8ge30gOiAoc3RyeUNvdl85ZmE0OChcIjIzMzVcIiksIHtcbiAgICAgICAgICBzdGFjazogc3RyeU11dEFjdF85ZmE0OChcIjIzMzZcIikgPyBvcmlnaW5hbEVycm9yLnN0YWNrIDogKHN0cnlDb3ZfOWZhNDgoXCIyMzM2XCIpLCBvcmlnaW5hbEVycm9yPy5zdGFjaylcbiAgICAgICAgfSkpKSlcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvIGRlIHRpbWVvdXQgZGUgY29uZXjDo29cbiAqL1xuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25UaW1lb3V0RXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHNlcnZpY2U6IHN0cmluZywgdGltZW91dDogbnVtYmVyKSB7XG4gICAgaWYgKHN0cnlNdXRBY3RfOWZhNDgoXCIyMzM3XCIpKSB7XG4gICAgICB7fVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHJ5Q292XzlmYTQ4KFwiMjMzN1wiKTtcbiAgICAgIHN1cGVyKDUwMywgc3RyeU11dEFjdF85ZmE0OChcIjIzMzhcIikgPyBgYCA6IChzdHJ5Q292XzlmYTQ4KFwiMjMzOFwiKSwgYFRpbWVvdXQgYW8gY29uZWN0YXIgY29tICR7c2VydmljZX0gYXDDs3MgJHt0aW1lb3V0fW1zYCksIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzM5XCIpID8gZmFsc2UgOiAoc3RyeUNvdl85ZmE0OChcIjIzMzlcIiksIHRydWUpLCBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjM0MFwiKSA/IHt9IDogKHN0cnlDb3ZfOWZhNDgoXCIyMzQwXCIpLCB7XG4gICAgICAgIHNlcnZpY2UsXG4gICAgICAgIHRpbWVvdXRcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvIGRlIGNvbmV4w6NvIGNvbSBzZXJ2acOnbyBleHRlcm5vXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHRlcm5hbFNlcnZpY2VFcnJvciBleHRlbmRzIEFwcEVycm9yIHtcbiAgY29uc3RydWN0b3Ioc2VydmljZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBpZiAoc3RyeU11dEFjdF85ZmE0OChcIjIzNDFcIikpIHtcbiAgICAgIHt9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0cnlDb3ZfOWZhNDgoXCIyMzQxXCIpO1xuICAgICAgc3VwZXIoNTAzLCBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjM0MlwiKSA/IGBgIDogKHN0cnlDb3ZfOWZhNDgoXCIyMzQyXCIpLCBgRXJybyBubyBzZXJ2acOnbyAke3NlcnZpY2V9OiAke21lc3NhZ2V9YCksIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzQzXCIpID8gZmFsc2UgOiAoc3RyeUNvdl85ZmE0OChcIjIzNDNcIiksIHRydWUpLCBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjM0NFwiKSA/IHt9IDogKHN0cnlDb3ZfOWZhNDgoXCIyMzQ0XCIpLCB7XG4gICAgICAgIHNlcnZpY2VcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvIGRlIGNhY2hlXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWNoZUVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihvcGVyYXRpb246IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgaWYgKHN0cnlNdXRBY3RfOWZhNDgoXCIyMzQ1XCIpKSB7XG4gICAgICB7fVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHJ5Q292XzlmYTQ4KFwiMjM0NVwiKTtcbiAgICAgIHN1cGVyKDUwMCwgc3RyeU11dEFjdF85ZmE0OChcIjIzNDZcIikgPyBgYCA6IChzdHJ5Q292XzlmYTQ4KFwiMjM0NlwiKSwgYEVycm8gbm8gY2FjaGUgKCR7b3BlcmF0aW9ufSk6ICR7bWVzc2FnZX1gKSwgc3RyeU11dEFjdF85ZmE0OChcIjIzNDdcIikgPyBmYWxzZSA6IChzdHJ5Q292XzlmYTQ4KFwiMjM0N1wiKSwgdHJ1ZSksIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzQ4XCIpID8ge30gOiAoc3RyeUNvdl85ZmE0OChcIjIzNDhcIiksIHtcbiAgICAgICAgb3BlcmF0aW9uXG4gICAgICB9KSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRXJybyBkZSBhdXRlbnRpY2HDp8Ojb1xuICovXG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25FcnJvciBleHRlbmRzIEFwcEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nID0gc3RyeU11dEFjdF85ZmE0OChcIjIzNDlcIikgPyBcIlwiIDogKHN0cnlDb3ZfOWZhNDgoXCIyMzQ5XCIpLCAnTsOjbyBhdXRlbnRpY2FkbycpKSB7XG4gICAgaWYgKHN0cnlNdXRBY3RfOWZhNDgoXCIyMzUwXCIpKSB7XG4gICAgICB7fVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHJ5Q292XzlmYTQ4KFwiMjM1MFwiKTtcbiAgICAgIHN1cGVyKDQwMSwgbWVzc2FnZSwgc3RyeU11dEFjdF85ZmE0OChcIjIzNTFcIikgPyBmYWxzZSA6IChzdHJ5Q292XzlmYTQ4KFwiMjM1MVwiKSwgdHJ1ZSkpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEVycm8gZGUgYXV0b3JpemHDp8Ojb1xuICovXG5leHBvcnQgY2xhc3MgQXV0aG9yaXphdGlvbkVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcgPSBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjM1MlwiKSA/IFwiXCIgOiAoc3RyeUNvdl85ZmE0OChcIjIzNTJcIiksICdOw6NvIGF1dG9yaXphZG8nKSkge1xuICAgIGlmIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMjM1M1wiKSkge1xuICAgICAge31cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyeUNvdl85ZmE0OChcIjIzNTNcIik7XG4gICAgICBzdXBlcig0MDMsIG1lc3NhZ2UsIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzU0XCIpID8gZmFsc2UgOiAoc3RyeUNvdl85ZmE0OChcIjIzNTRcIiksIHRydWUpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvIGRlIHJhdGUgbGltaXRcbiAqL1xuZXhwb3J0IGNsYXNzIFJhdGVMaW1pdEVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihyZXRyeUFmdGVyPzogbnVtYmVyKSB7XG4gICAgaWYgKHN0cnlNdXRBY3RfOWZhNDgoXCIyMzU1XCIpKSB7XG4gICAgICB7fVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHJ5Q292XzlmYTQ4KFwiMjM1NVwiKTtcbiAgICAgIHN1cGVyKDQyOSwgc3RyeU11dEFjdF85ZmE0OChcIjIzNTZcIikgPyBcIlwiIDogKHN0cnlDb3ZfOWZhNDgoXCIyMzU2XCIpLCAnTXVpdGFzIHJlcXVpc2nDp8O1ZXMuIFRlbnRlIG5vdmFtZW50ZSBlbSBhbGd1bnMgc2VndW5kb3MuJyksIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzU3XCIpID8gZmFsc2UgOiAoc3RyeUNvdl85ZmE0OChcIjIzNTdcIiksIHRydWUpLCBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjM1OFwiKSA/IHt9IDogKHN0cnlDb3ZfOWZhNDgoXCIyMzU4XCIpLCB7XG4gICAgICAgIHJldHJ5QWZ0ZXJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvIGRlIGNvbmZpZ3VyYcOnw6NvXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIGlmIChzdHJ5TXV0QWN0XzlmYTQ4KFwiMjM1OVwiKSkge1xuICAgICAge31cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyeUNvdl85ZmE0OChcIjIzNTlcIik7XG4gICAgICBzdXBlcig1MDAsIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzYwXCIpID8gYGAgOiAoc3RyeUNvdl85ZmE0OChcIjIzNjBcIiksIGBFcnJvIGRlIGNvbmZpZ3VyYcOnw6NvOiAke21lc3NhZ2V9YCksIHN0cnlNdXRBY3RfOWZhNDgoXCIyMzYxXCIpID8gdHJ1ZSA6IChzdHJ5Q292XzlmYTQ4KFwiMjM2MVwiKSwgZmFsc2UpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvIGRlIGJ1c2luZXNzIHJ1bGVcbiAqL1xuZXhwb3J0IGNsYXNzIEJ1c2luZXNzUnVsZUVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHJ1bGU/OiBzdHJpbmcpIHtcbiAgICBpZiAoc3RyeU11dEFjdF85ZmE0OChcIjIzNjJcIikpIHtcbiAgICAgIHt9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0cnlDb3ZfOWZhNDgoXCIyMzYyXCIpO1xuICAgICAgc3VwZXIoNDIyLCBtZXNzYWdlLCBzdHJ5TXV0QWN0XzlmYTQ4KFwiMjM2M1wiKSA/IGZhbHNlIDogKHN0cnlDb3ZfOWZhNDgoXCIyMzYzXCIpLCB0cnVlKSwgc3RyeU11dEFjdF85ZmE0OChcIjIzNjRcIikgPyB7fSA6IChzdHJ5Q292XzlmYTQ4KFwiMjM2NFwiKSwge1xuICAgICAgICBydWxlXG4gICAgICB9KSk7XG4gICAgfVxuICB9XG59Il0sInZlcnNpb24iOjN9