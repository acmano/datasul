{"file":"/home/mano/projetos/datasul/lor0138/.stryker-tmp/sandbox-EFF2bR/src/api/lor0138/item/dadosCadastrais/informacoesGerais/service/informacoesGerais.service.ts","mappings":"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","names":[],"sources":["/home/mano/projetos/datasul/lor0138/.stryker-tmp/sandbox-EFF2bR/src/api/lor0138/item/dadosCadastrais/informacoesGerais/service/informacoesGerais.service.ts"],"sourcesContent":["// @ts-nocheck\n// src/api/lor0138/item/dadosCadastrais/informacoesGerais/service/informacoesGerais.service.ts\nfunction stryNS_9fa48() {\n  var g = typeof globalThis === 'object' && globalThis && globalThis.Math === Math && globalThis || new Function(\"return this\")();\n  var ns = g.__stryker__ || (g.__stryker__ = {});\n  if (ns.activeMutant === undefined && g.process && g.process.env && g.process.env.__STRYKER_ACTIVE_MUTANT__) {\n    ns.activeMutant = g.process.env.__STRYKER_ACTIVE_MUTANT__;\n  }\n  function retrieveNS() {\n    return ns;\n  }\n  stryNS_9fa48 = retrieveNS;\n  return retrieveNS();\n}\nstryNS_9fa48();\nfunction stryCov_9fa48() {\n  var ns = stryNS_9fa48();\n  var cov = ns.mutantCoverage || (ns.mutantCoverage = {\n    static: {},\n    perTest: {}\n  });\n  function cover() {\n    var c = cov.static;\n    if (ns.currentTestId) {\n      c = cov.perTest[ns.currentTestId] = cov.perTest[ns.currentTestId] || {};\n    }\n    var a = arguments;\n    for (var i = 0; i < a.length; i++) {\n      c[a[i]] = (c[a[i]] || 0) + 1;\n    }\n  }\n  stryCov_9fa48 = cover;\n  cover.apply(null, arguments);\n}\nfunction stryMutAct_9fa48(id) {\n  var ns = stryNS_9fa48();\n  function isActive(id) {\n    if (ns.activeMutant === id) {\n      if (ns.hitCount !== void 0 && ++ns.hitCount > ns.hitLimit) {\n        throw new Error('Stryker: Hit count limit reached (' + ns.hitCount + ')');\n      }\n      return true;\n    }\n    return false;\n  }\n  stryMutAct_9fa48 = isActive;\n  return isActive(id);\n}\nimport { ItemInformacoesGeraisRepository } from '../repository/informacoesGerais.repository';\nimport { DatabaseError, ItemNotFoundError } from '@shared/errors/CustomErrors';\nimport { log } from '@shared/utils/logger';\nexport class InformacoesGeraisService {\n  static async getInformacoesGerais(itemCodigo: string): Promise<any | null> {\n    if (stryMutAct_9fa48(\"187\")) {\n      {}\n    } else {\n      stryCov_9fa48(\"187\");\n      try {\n        if (stryMutAct_9fa48(\"188\")) {\n          {}\n        } else {\n          stryCov_9fa48(\"188\");\n          // Buscar dados do item\n          const itemData = await ItemInformacoesGeraisRepository.getItemMaster(itemCodigo);\n\n          // Se não encontrou o item\n          if (stryMutAct_9fa48(\"191\") ? false : stryMutAct_9fa48(\"190\") ? true : stryMutAct_9fa48(\"189\") ? itemData : (stryCov_9fa48(\"189\", \"190\", \"191\"), !itemData)) {\n            if (stryMutAct_9fa48(\"192\")) {\n              {}\n            } else {\n              stryCov_9fa48(\"192\");\n              log.info(stryMutAct_9fa48(\"193\") ? \"\" : (stryCov_9fa48(\"193\"), 'Item não encontrado'), stryMutAct_9fa48(\"194\") ? {} : (stryCov_9fa48(\"194\"), {\n                itemCodigo\n              }));\n              throw new ItemNotFoundError(itemCodigo);\n            }\n          }\n\n          // Buscar estabelecimentos\n          const estabelecimentos = await ItemInformacoesGeraisRepository.getItemEstabelecimentos(itemCodigo);\n\n          // Montar resposta\n          const response = stryMutAct_9fa48(\"195\") ? {} : (stryCov_9fa48(\"195\"), {\n            identificacaoItemCodigo: itemData.itemCodigo,\n            identificacaoItemDescricao: itemData.itemDescricao,\n            identificacaoItemUnidade: itemData.itemUnidade,\n            identificacaoItensEstabelecimentos: estabelecimentos.map(stryMutAct_9fa48(\"196\") ? () => undefined : (stryCov_9fa48(\"196\"), estab => stryMutAct_9fa48(\"197\") ? {} : (stryCov_9fa48(\"197\"), {\n              itemCodigo: estab.itemCodigo,\n              estabCodigo: estab.estabCodigo,\n              estabNome: estab.estabNome,\n              statusIndex: (stryMutAct_9fa48(\"200\") ? estab.codObsoleto !== 0 : stryMutAct_9fa48(\"199\") ? false : stryMutAct_9fa48(\"198\") ? true : (stryCov_9fa48(\"198\", \"199\", \"200\"), estab.codObsoleto === 0)) ? 1 : 2\n            })))\n          });\n          return response;\n        }\n      } catch (error) {\n        if (stryMutAct_9fa48(\"201\")) {\n          {}\n        } else {\n          stryCov_9fa48(\"201\");\n          // Se já é erro customizado, re-lança\n          if (stryMutAct_9fa48(\"203\") ? false : stryMutAct_9fa48(\"202\") ? true : (stryCov_9fa48(\"202\", \"203\"), error instanceof ItemNotFoundError)) {\n            if (stryMutAct_9fa48(\"204\")) {\n              {}\n            } else {\n              stryCov_9fa48(\"204\");\n              throw error;\n            }\n          }\n\n          // Se for erro de banco, converte para DatabaseError\n          log.error(stryMutAct_9fa48(\"205\") ? \"\" : (stryCov_9fa48(\"205\"), 'Erro ao buscar informações gerais'), stryMutAct_9fa48(\"206\") ? {} : (stryCov_9fa48(\"206\"), {\n            itemCodigo,\n            error: error instanceof Error ? error.message : stryMutAct_9fa48(\"207\") ? \"\" : (stryCov_9fa48(\"207\"), 'Erro desconhecido')\n          }));\n          throw new DatabaseError(stryMutAct_9fa48(\"208\") ? \"\" : (stryCov_9fa48(\"208\"), 'Falha ao buscar informações do item'), error instanceof Error ? error : undefined);\n        }\n      }\n    }\n  }\n}"],"version":3}