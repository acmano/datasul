0efb2c99940016a3ae8bcf02caf80c1f
"use strict";
// tests/unit/validators/informacoesGerais.validators.test.ts
Object.defineProperty(exports, "__esModule", { value: true });
const informacoesGerais_validators_1 = require("@api/lor0138/item/dadosCadastrais/informacoesGerais/validators/informacoesGerais.validators");
const item_factory_1 = require("../../factories/item.factory");
describe('Validators - InformacoesGerais', () => {
    describe('validateItemInformacoesGeraisRequest', () => {
        // ========================================
        // CASOS DE SUCESSO ✅
        // ========================================
        describe('Casos Válidos', () => {
            test('deve validar código numérico simples', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '7530110' });
                expect(result.valid).toBe(true);
                expect(result.data).toEqual({ itemCodigo: '7530110' });
                expect(result.error).toBeUndefined();
            });
            test('deve validar código alfanumérico', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 'ABC123' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ABC123');
            });
            test('deve validar código com 16 caracteres (máximo)', () => {
                const codigo = '1234567890123456'; // 16 caracteres
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: codigo });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe(codigo);
            });
            test('deve validar código com 1 caractere (mínimo)', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 'A' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('A');
            });
            test.each(item_factory_1.testItemCodigos.valid)('deve validar código válido: %s', (codigo) => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: codigo });
                expect(result.valid).toBe(true);
            });
        });
        // ========================================
        // SANITIZAÇÃO 🧹
        // ========================================
        describe('Sanitização de Entrada', () => {
            test('deve remover espaços em branco nas extremidades', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '  7530110  ' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('7530110');
            });
            test('deve remover caracteres de controle', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '7530110\x00\x1F'
                });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('7530110');
            });
            test('deve remover tentativas de path traversal', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '..ABC123..'
                });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ABC123');
            });
            test.each(item_factory_1.testItemCodigos.sanitized)('deve sanitizar corretamente: $input → $expected', ({ input, expected }) => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: input });
                expect(result.data?.itemCodigo).toBe(expected);
            });
        });
        // ========================================
        // VALIDAÇÃO DE ERROS ❌
        // ========================================
        describe('Casos Inválidos', () => {
            test('deve rejeitar itemCodigo ausente', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({});
                expect(result.valid).toBe(false);
                expect(result.error).toBe(item_factory_1.expectedErrors.validationError);
            });
            test('deve rejeitar itemCodigo vazio', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '' });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('obrigatório');
            });
            test('deve rejeitar string com apenas espaços', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '   ' });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('inválido');
            });
            test('deve rejeitar código com mais de 16 caracteres', () => {
                const codigo = '12345678901234567'; // 17 caracteres
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: codigo });
                expect(result.valid).toBe(false);
                expect(result.error).toBe(item_factory_1.expectedErrors.maxLength);
            });
            test('deve rejeitar tipo não-string', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 123 });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('string');
            });
        });
        // ========================================
        // SEGURANÇA 🛡️ - SQL INJECTION
        // ========================================
        describe('Proteção contra SQL Injection', () => {
            test('deve bloquear SELECT (dentro do limite de caracteres)', () => {
                // Usa código curto que passa tamanho mas tem SQL keyword
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'SELECTabc'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padrões não permitidos');
            });
            test('deve bloquear INSERT', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'INSERTx'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padrões não permitidos');
            });
            test('deve bloquear DROP', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'DROPtable'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padrões não permitidos');
            });
            test('deve bloquear UNION', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'UNIONselect'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padrões não permitidos');
            });
            test('deve remover aspas simples e duplas', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: "item'test"
                });
                // Aspas são removidas na sanitização
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('itemtest');
            });
            test('deve remover ponto e vírgula', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item;test'
                });
                // ; é removido na sanitização
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('itemtest');
            });
        });
        // ========================================
        // SEGURANÇA 🛡️ - COMMAND INJECTION
        // ========================================
        describe('Proteção contra Command Injection', () => {
            test('deve bloquear pipe (|)', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item|test'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('não permitidos');
            });
            test('deve bloquear && operator', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item&&test'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('não permitidos');
            });
            test('deve bloquear || operator', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item||test'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('não permitidos');
            });
            test('deve bloquear backticks', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item`test`'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('não permitidos');
            });
            test('deve bloquear $() substitution', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'item$(test)'
                });
                expect(result.valid).toBe(false);
                expect(result.error).toContain('não permitidos');
            });
        });
        // ========================================
        // SEGURANÇA 🛡️ - XSS
        // ========================================
        describe('Proteção contra XSS', () => {
            test('deve remover tags HTML e validar resultado', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '<script>alert(1)</script>'
                });
                // Tags são removidas, mas resultado pode ser inválido por outros motivos
                // O validator remove <> mas "scriptalert1script" é válido
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('scriptalert1script');
            });
            test('deve remover tags com atributos e validar', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '<img src=x>'
                });
                // Remove tags, fica "imgsrcx" que é válido
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('imgsrcx');
            });
            test('deve bloquear script com caracteres especiais', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '<script>alert("xss")</script>'
                });
                // Aspas são removidas também, mas parênteses causam erro de formato
                expect(result.valid).toBe(false);
            });
        });
        // ========================================
        // EDGE CASES 🔍
        // ========================================
        describe('Edge Cases', () => {
            test('deve aceitar apenas números', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: '123456' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('123456');
            });
            test('deve aceitar apenas letras', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 'ABCDEF' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ABCDEF');
            });
            test('deve aceitar mix maiúsculas e minúsculas', () => {
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: 'AbC123' });
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('AbC123');
            });
            test('deve rejeitar caracteres especiais', () => {
                const specialChars = ['!', '@', '#', '$', '%', '^', '&', '*', '(', ')'];
                specialChars.forEach(char => {
                    const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                        itemCodigo: `item${char}test`
                    });
                    // Caracteres especiais causam erro
                    expect(result.valid).toBe(false);
                });
            });
            test('deve sanitizar e validar corretamente códigos complexos', () => {
                // Código com vários caracteres especiais que serão removidos
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: '  ABC-123"test;  '
                });
                // Remove espaços, -, ", ; → fica ABC123test
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ABC123test');
            });
        });
        // ========================================
        // FLUXO COMPLETO DE VALIDAÇÃO
        // ========================================
        describe('Fluxo de Validação Completo', () => {
            test('deve seguir ordem: sanitização → tamanho → formato → SQL', () => {
                // 1. Input com caracteres especiais
                const input = '  ITEM-123  ';
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({ itemCodigo: input });
                // 2. Sanitiza (remove espaços e -)
                // 3. Fica "ITEM123" (7 chars)
                // 4. Passa no tamanho
                // 5. Passa no formato alfanumérico
                // 6. Não tem SQL keywords
                expect(result.valid).toBe(true);
                expect(result.data?.itemCodigo).toBe('ITEM123');
            });
            test('deve falhar no tamanho antes de checar SQL', () => {
                // String longa com SQL keyword
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'SELECT1234567890' // 16 chars, mas SELECT está lá
                });
                // Passa no tamanho (16 chars), mas falha no SQL keyword
                expect(result.valid).toBe(false);
                expect(result.error).toContain('padrões não permitidos');
            });
            test('deve falhar no formato antes de checar SQL', () => {
                // String curta com SQL e caracteres inválidos
                const result = (0, informacoesGerais_validators_1.validateItemInformacoesGeraisRequest)({
                    itemCodigo: 'SELECT *' // Tem espaço
                });
                // 1. Sanitiza (mantém espaço)
                // 2. Passa no tamanho (8 chars)
                // 3. FALHA no formato (regex não aceita espaço)
                expect(result.valid).toBe(false);
                expect(result.error).toContain('caracteres inválidos');
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvbWFuby9wcm9qZXRvcy9kYXRhc3VsL2xvcjAxMzgvdGVzdHMvdW5pdC92YWxpZGF0b3JzL2luZm9ybWFjb2VzR2VyYWlzLnZhbGxpZGF0b3JzLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBLDZEQUE2RDs7QUFFN0QsOElBQW1KO0FBQ25KLCtEQUErRTtBQUUvRSxRQUFRLENBQUMsZ0NBQWdDLEVBQUUsR0FBRyxFQUFFO0lBRTlDLFFBQVEsQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7UUFFcEQsMkNBQTJDO1FBQzNDLHFCQUFxQjtRQUNyQiwyQ0FBMkM7UUFDM0MsUUFBUSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7WUFFN0IsSUFBSSxDQUFDLHNDQUFzQyxFQUFFLEdBQUcsRUFBRTtnQkFDaEQsTUFBTSxNQUFNLEdBQUcsSUFBQSxtRUFBb0MsRUFBQyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO2dCQUUvRSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDaEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQztnQkFDdkQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN2QyxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyxrQ0FBa0MsRUFBRSxHQUFHLEVBQUU7Z0JBQzVDLE1BQU0sTUFBTSxHQUFHLElBQUEsbUVBQW9DLEVBQUMsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztnQkFFOUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENB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K0I7Z0JBQy9CLE1BQU0sTUFBTSxHQUFHLElBQUEsbUVBQW9DLEVBQUM7b0JBQ2xELFVBQVUsRUFBRSxrQkFBa0IsQ0FBQywrQkFBK0I7aUJBQy9ELENBQUMsQ0FBQztnQkFFSCx3REFBd0Q7Z0JBQ3hELE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNqQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1lBQzNELENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsRUFBRTtnQkFDdEQsOENBQThDO2dCQUM5QyxNQUFNLE1BQU0sR0FBRyxJQUFBLG1FQUFvQyxFQUFDO29CQUNsRCxVQUFVLEVBQUUsVUFBVSxDQUFDLGFBQWE7aUJBQ3JDLENBQUMsQ0FBQztnQkFFSCw4QkFBOEI7Z0JBQzlCLGdDQUFnQztnQkFDaEMsZ0RBQWdEO2dCQUNoRCxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDakMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUN6RCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUwsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9tYW5vL3Byb2pldG9zL2RhdGFzdWwvbG9yMDEzOC90ZXN0cy91bml0L3ZhbGlkYXRvcnMvaW5mb3JtYWNvZXNHZXJhaXMudmFsbGlkYXRvcnMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0ZXN0cy91bml0L3ZhbGlkYXRvcnMvaW5mb3JtYWNvZXNHZXJhaXMudmFsaWRhdG9ycy50ZXN0LnRzXG5cbmltcG9ydCB7IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCB9IGZyb20gJ0BhcGkvbG9yMDEzOC9pdGVtL2RhZG9zQ2FkYXN0cmFpcy9pbmZvcm1hY29lc0dlcmFpcy92YWxpZGF0b3JzL2luZm9ybWFjb2VzR2VyYWlzLnZhbGlkYXRvcnMnO1xuaW1wb3J0IHsgdGVzdEl0ZW1Db2RpZ29zLCBleHBlY3RlZEVycm9ycyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllcy9pdGVtLmZhY3RvcnknO1xuXG5kZXNjcmliZSgnVmFsaWRhdG9ycyAtIEluZm9ybWFjb2VzR2VyYWlzJywgKCkgPT4ge1xuICBcbiAgZGVzY3JpYmUoJ3ZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCcsICgpID0+IHtcbiAgICBcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ0FTT1MgREUgU1VDRVNTTyDinIVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgZGVzY3JpYmUoJ0Nhc29zIFbDoWxpZG9zJywgKCkgPT4ge1xuICAgICAgXG4gICAgICB0ZXN0KCdkZXZlIHZhbGlkYXIgY8OzZGlnbyBudW3DqXJpY28gc2ltcGxlcycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgaXRlbUNvZGlnbzogJzc1MzAxMTAnIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0VxdWFsKHsgaXRlbUNvZGlnbzogJzc1MzAxMTAnIH0pO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSB2YWxpZGFyIGPDs2RpZ28gYWxmYW51bcOpcmljbycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgaXRlbUNvZGlnbzogJ0FCQzEyMycgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoJ0FCQzEyMycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgdmFsaWRhciBjw7NkaWdvIGNvbSAxNiBjYXJhY3RlcmVzIChtw6F4aW1vKScsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29kaWdvID0gJzEyMzQ1Njc4OTAxMjM0NTYnOyAvLyAxNiBjYXJhY3RlcmVzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IGl0ZW1Db2RpZ286IGNvZGlnbyB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZShjb2RpZ28pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgdmFsaWRhciBjw7NkaWdvIGNvbSAxIGNhcmFjdGVyZSAobcOtbmltbyknLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IGl0ZW1Db2RpZ286ICdBJyB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnQScpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QuZWFjaCh0ZXN0SXRlbUNvZGlnb3MudmFsaWQpKFxuICAgICAgICAnZGV2ZSB2YWxpZGFyIGPDs2RpZ28gdsOhbGlkbzogJXMnLFxuICAgICAgICAoY29kaWdvKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgaXRlbUNvZGlnbzogY29kaWdvIH0pO1xuICAgICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gU0FOSVRJWkHDh8ODTyDwn6e5XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGRlc2NyaWJlKCdTYW5pdGl6YcOnw6NvIGRlIEVudHJhZGEnLCAoKSA9PiB7XG4gICAgICBcbiAgICAgIHRlc3QoJ2RldmUgcmVtb3ZlciBlc3Bhw6dvcyBlbSBicmFuY28gbmFzIGV4dHJlbWlkYWRlcycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgaXRlbUNvZGlnbzogJyAgNzUzMDExMCAgJyB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnNzUzMDExMCcpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmVtb3ZlciBjYXJhY3RlcmVzIGRlIGNvbnRyb2xlJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBcbiAgICAgICAgICBpdGVtQ29kaWdvOiAnNzUzMDExMFxceDAwXFx4MUYnIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnNzUzMDExMCcpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmVtb3ZlciB0ZW50YXRpdmFzIGRlIHBhdGggdHJhdmVyc2FsJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBcbiAgICAgICAgICBpdGVtQ29kaWdvOiAnLi5BQkMxMjMuLicgXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhPy5pdGVtQ29kaWdvKS50b0JlKCdBQkMxMjMnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0LmVhY2godGVzdEl0ZW1Db2RpZ29zLnNhbml0aXplZCkoXG4gICAgICAgICdkZXZlIHNhbml0aXphciBjb3JyZXRhbWVudGU6ICRpbnB1dCDihpIgJGV4cGVjdGVkJyxcbiAgICAgICAgKHsgaW5wdXQsIGV4cGVjdGVkIH0pID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiBpbnB1dCB9KTtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoZXhwZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFZBTElEQcOHw4NPIERFIEVSUk9TIOKdjFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBkZXNjcmliZSgnQ2Fzb3MgSW52w6FsaWRvcycsICgpID0+IHtcbiAgICAgIFxuICAgICAgdGVzdCgnZGV2ZSByZWplaXRhciBpdGVtQ29kaWdvIGF1c2VudGUnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7fSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZShleHBlY3RlZEVycm9ycy52YWxpZGF0aW9uRXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmVqZWl0YXIgaXRlbUNvZGlnbyB2YXppbycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgaXRlbUNvZGlnbzogJycgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdvYnJpZ2F0w7NyaW8nKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlamVpdGFyIHN0cmluZyBjb20gYXBlbmFzIGVzcGHDp29zJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAnICAgJyB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ2ludsOhbGlkbycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgcmVqZWl0YXIgY8OzZGlnbyBjb20gbWFpcyBkZSAxNiBjYXJhY3RlcmVzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RpZ28gPSAnMTIzNDU2Nzg5MDEyMzQ1NjcnOyAvLyAxNyBjYXJhY3RlcmVzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IGl0ZW1Db2RpZ286IGNvZGlnbyB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKGV4cGVjdGVkRXJyb3JzLm1heExlbmd0aCk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSByZWplaXRhciB0aXBvIG7Do28tc3RyaW5nJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAxMjMgYXMgYW55IH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignc3RyaW5nJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTRUdVUkFOw4dBIPCfm6HvuI8gLSBTUUwgSU5KRUNUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGRlc2NyaWJlKCdQcm90ZcOnw6NvIGNvbnRyYSBTUUwgSW5qZWN0aW9uJywgKCkgPT4ge1xuICAgICAgXG4gICAgICB0ZXN0KCdkZXZlIGJsb3F1ZWFyIFNFTEVDVCAoZGVudHJvIGRvIGxpbWl0ZSBkZSBjYXJhY3RlcmVzKScsICgpID0+IHtcbiAgICAgICAgLy8gVXNhIGPDs2RpZ28gY3VydG8gcXVlIHBhc3NhIHRhbWFuaG8gbWFzIHRlbSBTUUwga2V5d29yZFxuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBcbiAgICAgICAgICBpdGVtQ29kaWdvOiAnU0VMRUNUYWJjJyBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdwYWRyw7VlcyBuw6NvIHBlcm1pdGlkb3MnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGJsb3F1ZWFyIElOU0VSVCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ0lOU0VSVHgnIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ3BhZHLDtWVzIG7Do28gcGVybWl0aWRvcycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgYmxvcXVlYXIgRFJPUCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ0RST1B0YWJsZScgXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbigncGFkcsO1ZXMgbsOjbyBwZXJtaXRpZG9zJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBibG9xdWVhciBVTklPTicsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ1VOSU9Oc2VsZWN0JyBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdwYWRyw7VlcyBuw6NvIHBlcm1pdGlkb3MnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlbW92ZXIgYXNwYXMgc2ltcGxlcyBlIGR1cGxhcycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogXCJpdGVtJ3Rlc3RcIiBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBc3BhcyBzw6NvIHJlbW92aWRhcyBuYSBzYW5pdGl6YcOnw6NvXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnaXRlbXRlc3QnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlbW92ZXIgcG9udG8gZSB2w61yZ3VsYScsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ2l0ZW07dGVzdCcgXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gOyDDqSByZW1vdmlkbyBuYSBzYW5pdGl6YcOnw6NvXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnaXRlbXRlc3QnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFNFR1VSQU7Dh0Eg8J+boe+4jyAtIENPTU1BTkQgSU5KRUNUSU9OXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGRlc2NyaWJlKCdQcm90ZcOnw6NvIGNvbnRyYSBDb21tYW5kIEluamVjdGlvbicsICgpID0+IHtcbiAgICAgIFxuICAgICAgdGVzdCgnZGV2ZSBibG9xdWVhciBwaXBlICh8KScsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ2l0ZW18dGVzdCcgXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignbsOjbyBwZXJtaXRpZG9zJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBibG9xdWVhciAmJiBvcGVyYXRvcicsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ2l0ZW0mJnRlc3QnIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ27Do28gcGVybWl0aWRvcycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgYmxvcXVlYXIgfHwgb3BlcmF0b3InLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IFxuICAgICAgICAgIGl0ZW1Db2RpZ286ICdpdGVtfHx0ZXN0JyBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCduw6NvIHBlcm1pdGlkb3MnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGJsb3F1ZWFyIGJhY2t0aWNrcycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ2l0ZW1gdGVzdGAnIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ27Do28gcGVybWl0aWRvcycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgYmxvcXVlYXIgJCgpIHN1YnN0aXR1dGlvbicsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ2l0ZW0kKHRlc3QpJyBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCduw6NvIHBlcm1pdGlkb3MnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFNFR1VSQU7Dh0Eg8J+boe+4jyAtIFhTU1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBkZXNjcmliZSgnUHJvdGXDp8OjbyBjb250cmEgWFNTJywgKCkgPT4ge1xuICAgICAgXG4gICAgICB0ZXN0KCdkZXZlIHJlbW92ZXIgdGFncyBIVE1MIGUgdmFsaWRhciByZXN1bHRhZG8nLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IFxuICAgICAgICAgIGl0ZW1Db2RpZ286ICc8c2NyaXB0PmFsZXJ0KDEpPC9zY3JpcHQ+JyBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBUYWdzIHPDo28gcmVtb3ZpZGFzLCBtYXMgcmVzdWx0YWRvIHBvZGUgc2VyIGludsOhbGlkbyBwb3Igb3V0cm9zIG1vdGl2b3NcbiAgICAgICAgLy8gTyB2YWxpZGF0b3IgcmVtb3ZlIDw+IG1hcyBcInNjcmlwdGFsZXJ0MXNjcmlwdFwiIMOpIHbDoWxpZG9cbiAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhPy5pdGVtQ29kaWdvKS50b0JlKCdzY3JpcHRhbGVydDFzY3JpcHQnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIHJlbW92ZXIgdGFncyBjb20gYXRyaWJ1dG9zIGUgdmFsaWRhcicsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJzxpbWcgc3JjPXg+JyBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgdGFncywgZmljYSBcImltZ3NyY3hcIiBxdWUgw6kgdsOhbGlkb1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoJ2ltZ3NyY3gnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGJsb3F1ZWFyIHNjcmlwdCBjb20gY2FyYWN0ZXJlcyBlc3BlY2lhaXMnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IFxuICAgICAgICAgIGl0ZW1Db2RpZ286ICc8c2NyaXB0PmFsZXJ0KFwieHNzXCIpPC9zY3JpcHQ+JyBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBc3BhcyBzw6NvIHJlbW92aWRhcyB0YW1iw6ltLCBtYXMgcGFyw6pudGVzZXMgY2F1c2FtIGVycm8gZGUgZm9ybWF0b1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIEVER0UgQ0FTRVMg8J+UjVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBkZXNjcmliZSgnRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICAgIFxuICAgICAgdGVzdCgnZGV2ZSBhY2VpdGFyIGFwZW5hcyBuw7ptZXJvcycsICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgaXRlbUNvZGlnbzogJzEyMzQ1NicgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoJzEyMzQ1NicpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgYWNlaXRhciBhcGVuYXMgbGV0cmFzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAnQUJDREVGJyB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnQUJDREVGJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSBhY2VpdGFyIG1peCBtYWnDunNjdWxhcyBlIG1pbsO6c2N1bGFzJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBpdGVtQ29kaWdvOiAnQWJDMTIzJyB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaXRlbUNvZGlnbykudG9CZSgnQWJDMTIzJyk7XG4gICAgICB9KTtcblxuICAgICAgdGVzdCgnZGV2ZSByZWplaXRhciBjYXJhY3RlcmVzIGVzcGVjaWFpcycsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3BlY2lhbENoYXJzID0gWychJywgJ0AnLCAnIycsICckJywgJyUnLCAnXicsICcmJywgJyonLCAnKCcsICcpJ107XG4gICAgICAgIFxuICAgICAgICBzcGVjaWFsQ2hhcnMuZm9yRWFjaChjaGFyID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUl0ZW1JbmZvcm1hY29lc0dlcmFpc1JlcXVlc3QoeyBcbiAgICAgICAgICAgIGl0ZW1Db2RpZ286IGBpdGVtJHtjaGFyfXRlc3RgIFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENhcmFjdGVyZXMgZXNwZWNpYWlzIGNhdXNhbSBlcnJvXG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgc2FuaXRpemFyIGUgdmFsaWRhciBjb3JyZXRhbWVudGUgY8OzZGlnb3MgY29tcGxleG9zJywgKCkgPT4ge1xuICAgICAgICAvLyBDw7NkaWdvIGNvbSB2w6FyaW9zIGNhcmFjdGVyZXMgZXNwZWNpYWlzIHF1ZSBzZXLDo28gcmVtb3ZpZG9zXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IFxuICAgICAgICAgIGl0ZW1Db2RpZ286ICcgIEFCQy0xMjNcInRlc3Q7ICAnIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBlc3Bhw6dvcywgLSwgXCIsIDsg4oaSIGZpY2EgQUJDMTIzdGVzdFxuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoJ0FCQzEyM3Rlc3QnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIEZMVVhPIENPTVBMRVRPIERFIFZBTElEQcOHw4NPXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGRlc2NyaWJlKCdGbHV4byBkZSBWYWxpZGHDp8OjbyBDb21wbGV0bycsICgpID0+IHtcbiAgICAgIFxuICAgICAgdGVzdCgnZGV2ZSBzZWd1aXIgb3JkZW06IHNhbml0aXphw6fDo28g4oaSIHRhbWFuaG8g4oaSIGZvcm1hdG8g4oaSIFNRTCcsICgpID0+IHtcbiAgICAgICAgLy8gMS4gSW5wdXQgY29tIGNhcmFjdGVyZXMgZXNwZWNpYWlzXG4gICAgICAgIGNvbnN0IGlucHV0ID0gJyAgSVRFTS0xMjMgICc7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlSXRlbUluZm9ybWFjb2VzR2VyYWlzUmVxdWVzdCh7IGl0ZW1Db2RpZ286IGlucHV0IH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gMi4gU2FuaXRpemEgKHJlbW92ZSBlc3Bhw6dvcyBlIC0pXG4gICAgICAgIC8vIDMuIEZpY2EgXCJJVEVNMTIzXCIgKDcgY2hhcnMpXG4gICAgICAgIC8vIDQuIFBhc3NhIG5vIHRhbWFuaG9cbiAgICAgICAgLy8gNS4gUGFzc2Egbm8gZm9ybWF0byBhbGZhbnVtw6lyaWNvXG4gICAgICAgIC8vIDYuIE7Do28gdGVtIFNRTCBrZXl3b3Jkc1xuICAgICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGE/Lml0ZW1Db2RpZ28pLnRvQmUoJ0lURU0xMjMnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0ZXN0KCdkZXZlIGZhbGhhciBubyB0YW1hbmhvIGFudGVzIGRlIGNoZWNhciBTUUwnLCAoKSA9PiB7XG4gICAgICAgIC8vIFN0cmluZyBsb25nYSBjb20gU1FMIGtleXdvcmRcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ1NFTEVDVDEyMzQ1Njc4OTAnIC8vIDE2IGNoYXJzLCBtYXMgU0VMRUNUIGVzdMOhIGzDoVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFBhc3NhIG5vIHRhbWFuaG8gKDE2IGNoYXJzKSwgbWFzIGZhbGhhIG5vIFNRTCBrZXl3b3JkXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ3BhZHLDtWVzIG7Do28gcGVybWl0aWRvcycpO1xuICAgICAgfSk7XG5cbiAgICAgIHRlc3QoJ2RldmUgZmFsaGFyIG5vIGZvcm1hdG8gYW50ZXMgZGUgY2hlY2FyIFNRTCcsICgpID0+IHtcbiAgICAgICAgLy8gU3RyaW5nIGN1cnRhIGNvbSBTUUwgZSBjYXJhY3RlcmVzIGludsOhbGlkb3NcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVJdGVtSW5mb3JtYWNvZXNHZXJhaXNSZXF1ZXN0KHsgXG4gICAgICAgICAgaXRlbUNvZGlnbzogJ1NFTEVDVCAqJyAvLyBUZW0gZXNwYcOnb1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIDEuIFNhbml0aXphIChtYW50w6ltIGVzcGHDp28pXG4gICAgICAgIC8vIDIuIFBhc3NhIG5vIHRhbWFuaG8gKDggY2hhcnMpXG4gICAgICAgIC8vIDMuIEZBTEhBIG5vIGZvcm1hdG8gKHJlZ2V4IG7Do28gYWNlaXRhIGVzcGHDp28pXG4gICAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ2NhcmFjdGVyZXMgaW52w6FsaWRvcycpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=