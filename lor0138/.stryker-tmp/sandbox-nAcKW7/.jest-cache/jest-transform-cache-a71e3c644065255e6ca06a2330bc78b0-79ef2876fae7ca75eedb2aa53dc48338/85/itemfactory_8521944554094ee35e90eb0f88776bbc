1b72136d30d5724b5363fc97b131f0fe
"use strict";
// @ts-nocheck
// tests/factories/item.factory.ts
Object.defineProperty(exports, "__esModule", { value: true });
exports.expectedErrors = exports.testItemCodigos = void 0;
exports.createItemMasterQueryResult = createItemMasterQueryResult;
exports.createItemEstabQueryResult = createItemEstabQueryResult;
exports.createItemEstabelecimento = createItemEstabelecimento;
exports.createInformacoesGerais = createInformacoesGerais;
exports.createMultipleEstabelecimentos = createMultipleEstabelecimentos;
exports.createItemSemEstabelecimentos = createItemSemEstabelecimentos;
exports.createItemComEstabObsoleto = createItemComEstabObsoleto;
exports.createItemComMuitosEstabs = createItemComMuitosEstabs;
/**
 * Factory para criar dados de teste do Item
 */
// ========================================
// ITEM MASTER (Resultado da Query)
// ========================================
function createItemMasterQueryResult(overrides) {
    return {
        itemCodigo: '7530110',
        itemDescricao: 'VALVULA DE ESFERA 1/2" BRONZE',
        itemUnidade: 'UN',
        ...overrides,
    };
}
// ========================================
// ESTABELECIMENTO (Resultado da Query)
// ========================================
function createItemEstabQueryResult(overrides) {
    return {
        itemCodigo: '7530110',
        estabCodigo: '01.01',
        estabNome: 'CD São Paulo',
        codObsoleto: 0,
        ...overrides,
    };
}
// ========================================
// ESTABELECIMENTO (Response DTO)
// ========================================
function createItemEstabelecimento(overrides) {
    return {
        itemCodigo: '7530110',
        estabCodigo: '01.01',
        estabNome: 'CD São Paulo',
        statusIndex: 1, // 0 = ativo (1), outros = inativo (2)
        ...overrides,
    };
}
// ========================================
// INFORMAÇÕES GERAIS (Response DTO Completo)
// ========================================
function createInformacoesGerais(overrides) {
    return {
        identificacaoItemCodigo: '7530110',
        identificacaoItemDescricao: 'VALVULA DE ESFERA 1/2" BRONZE',
        identificacaoItemUnidade: 'UN',
        identificacaoItensEstabelecimentos: [
            createItemEstabelecimento(),
            createItemEstabelecimento({
                estabCodigo: '02.01',
                estabNome: 'Fábrica Joinville',
                statusIndex: 2,
            }),
        ],
        ...overrides,
    };
}
// ========================================
// ARRAYS DE TESTE (múltiplos itens)
// ========================================
function createMultipleEstabelecimentos(count, baseOverrides) {
    return Array.from({ length: count }, (_, i) => createItemEstabelecimento({
        estabCodigo: `0${i + 1}.01`,
        estabNome: `Estabelecimento ${i + 1}`,
        statusIndex: i % 2 === 0 ? 1 : 2, // Alterna entre ativo/inativo
        ...baseOverrides,
    }));
}
// ========================================
// CASOS ESPECIAIS
// ========================================
/**
 * Item sem estabelecimentos
 */
function createItemSemEstabelecimentos() {
    return createInformacoesGerais({
        identificacaoItensEstabelecimentos: [],
    });
}
/**
 * Item com estabelecimento obsoleto
 */
function createItemComEstabObsoleto() {
    return createInformacoesGerais({
        identificacaoItensEstabelecimentos: [
            createItemEstabelecimento({
                statusIndex: 2, // Obsoleto
            }),
        ],
    });
}
/**
 * Item com múltiplos estabelecimentos (10)
 */
function createItemComMuitosEstabs() {
    return createInformacoesGerais({
        identificacaoItensEstabelecimentos: createMultipleEstabelecimentos(10),
    });
}
/**
 * Códigos de item para testes de validação
 */
exports.testItemCodigos = {
    valid: [
        '7530110',
        'ABC123',
        'ITEM001',
        '1',
        'A',
        '1234567890123456', // 16 caracteres (máximo)
    ],
    invalid: [
        '', // Vazio
        '   ', // Só espaços
        '12345678901234567', // 17 caracteres (excede máximo)
        'SELECT * FROM item', // SQL Injection
        '../../../etc/passwd', // Path Traversal
        '<script>alert(1)</script>', // XSS
        'item; DROP TABLE item;--', // SQL Injection com ;
        'item\'--', // SQL Injection com '
        'item|ls', // Command Injection
        'item&&whoami', // Command Injection
        'item$USER', // Variable Injection
    ],
    sanitized: [
        { input: '  7530110  ', expected: '7530110' }, // Remove espaços
        { input: 'ABC-123', expected: 'ABC123' }, // Remove hífen
        { input: 'item"test', expected: 'itemtest' }, // Remove aspas
        { input: 'item;test', expected: 'itemtest' }, // Remove ponto e vírgula
    ],
};
/**
 * Mensagens de erro esperadas
 */
exports.expectedErrors = {
    itemNotFound: (codigo) => `Item ${codigo} não encontrado`,
    validationError: 'Código do item é obrigatório',
    invalidFormat: 'Código do item contém caracteres inválidos. Use apenas letras, números e caracteres básicos',
    maxLength: 'Código do item não pode ter mais de 16 caracteres',
    sqlInjection: 'Código do item contém padrões não permitidos',
    commandInjection: 'Código do item contém caracteres não permitidos',
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvbWFuby9wcm9qZXRvcy9kYXRhc3VsL2xvcjAxMzgvLnN0cnlrZXItdG1wL3NhbmRib3gtbkFjS1c3L3Rlc3RzL2ZhY3Rvcmllcy9pdGVtLmZhY3RvcnkudHMiLCJtYXBwaW5ncyI6IjtBQUFBLGNBQWM7QUFDZCxrQ0FBa0M7OztBQWdCbEMsa0VBU0M7QUFLRCxnRUFVQztBQUtELDhEQVVDO0FBS0QsMERBaUJDO0FBS0Qsd0VBWUM7QUFTRCxzRUFJQztBQUtELGdFQVFDO0FBS0QsOERBSUM7QUF4SEQ7O0dBRUc7QUFFSCwyQ0FBMkM7QUFDM0MsbUNBQW1DO0FBQ25DLDJDQUEyQztBQUMzQyxTQUFnQiwyQkFBMkIsQ0FDekMsU0FBMEM7SUFFMUMsT0FBTztRQUNMLFVBQVUsRUFBRSxTQUFTO1FBQ3JCLGFBQWEsRUFBRSwrQkFBK0I7UUFDOUMsV0FBVyxFQUFFLElBQUk7UUFDakIsR0FBRyxTQUFTO0tBQ2IsQ0FBQztBQUNKLENBQUM7QUFFRCwyQ0FBMkM7QUFDM0MsdUNBQXVDO0FBQ3ZDLDJDQUEyQztBQUMzQyxTQUFnQiwwQkFBMEIsQ0FDeEMsU0FBeUM7SUFFekMsT0FBTztRQUNMLFVBQVUsRUFBRSxTQUFTO1FBQ3JCLFdBQVcsRUFBRSxPQUFPO1FBQ3BCLFNBQVMsRUFBRSxjQUFjO1FBQ3pCLFdBQVcsRUFBRSxDQUFDO1FBQ2QsR0FBRyxTQUFTO0tBQ2IsQ0FBQztBQUNKLENBQUM7QUFFRCwyQ0FBMkM7QUFDM0MsaUNBQWlDO0FBQ2pDLDJDQUEyQztBQUMzQyxTQUFnQix5QkFBeUIsQ0FDdkMsU0FBeUQ7SUFFekQsT0FBTztRQUNMLFVBQVUsRUFBRSxTQUFTO1FBQ3JCLFdBQVcsRUFBRSxPQUFPO1FBQ3BCLFNBQVMsRUFBRSxjQUFjO1FBQ3pCLFdBQVcsRUFBRSxDQUFDLEVBQUUsc0NBQXNDO1FBQ3RELEdBQUcsU0FBUztLQUNiLENBQUM7QUFDSixDQUFDO0FBRUQsMkNBQTJDO0FBQzNDLDZDQUE2QztBQUM3QywyQ0FBMkM7QUFDM0MsU0FBZ0IsdUJBQXVCLENBQ3JDLFNB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SUFDNUIsWUFBWSxFQUFFLENBQUMsTUFBYyxFQUFFLEVBQUUsQ0FBQyxRQUFRLE1BQU0saUJBQWlCO0lBQ2pFLGVBQWUsRUFBRSw4QkFBOEI7SUFDL0MsYUFBYSxFQUFFLDZGQUE2RjtJQUM1RyxTQUFTLEVBQUUsbURBQW1EO0lBQzlELFlBQVksRUFBRSw4Q0FBOEM7SUFDNUQsZ0JBQWdCLEVBQUUsaURBQWlEO0NBQ3BFLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvbWFuby9wcm9qZXRvcy9kYXRhc3VsL2xvcjAxMzgvLnN0cnlrZXItdG1wL3NhbmRib3gtbkFjS1c3L3Rlc3RzL2ZhY3Rvcmllcy9pdGVtLmZhY3RvcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLW5vY2hlY2tcbi8vIHRlc3RzL2ZhY3Rvcmllcy9pdGVtLmZhY3RvcnkudHNcblxuaW1wb3J0IHtcbiAgSXRlbU1hc3RlclF1ZXJ5UmVzdWx0LFxuICBJdGVtRXN0YWJRdWVyeVJlc3VsdCxcbiAgSXRlbUluZm9ybWFjb2VzR2VyYWlzLFxuICBJdGVtSW5mb3JtYWNvZXNHZXJhaXNFc3RhYmVsZWNpbWVudG8sXG59IGZyb20gJ0BhcGkvbG9yMDEzOC9pdGVtL2RhZG9zQ2FkYXN0cmFpcy9pbmZvcm1hY29lc0dlcmFpcy90eXBlcy9pbmZvcm1hY29lc0dlcmFpcy50eXBlcyc7XG5cbi8qKlxuICogRmFjdG9yeSBwYXJhIGNyaWFyIGRhZG9zIGRlIHRlc3RlIGRvIEl0ZW1cbiAqL1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBJVEVNIE1BU1RFUiAoUmVzdWx0YWRvIGRhIFF1ZXJ5KVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1NYXN0ZXJRdWVyeVJlc3VsdChcbiAgb3ZlcnJpZGVzPzogUGFydGlhbDxJdGVtTWFzdGVyUXVlcnlSZXN1bHQ+XG4pOiBJdGVtTWFzdGVyUXVlcnlSZXN1bHQge1xuICByZXR1cm4ge1xuICAgIGl0ZW1Db2RpZ286ICc3NTMwMTEwJyxcbiAgICBpdGVtRGVzY3JpY2FvOiAnVkFMVlVMQSBERSBFU0ZFUkEgMS8yXCIgQlJPTlpFJyxcbiAgICBpdGVtVW5pZGFkZTogJ1VOJyxcbiAgICAuLi5vdmVycmlkZXMsXG4gIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEVTVEFCRUxFQ0lNRU5UTyAoUmVzdWx0YWRvIGRhIFF1ZXJ5KVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1Fc3RhYlF1ZXJ5UmVzdWx0KFxuICBvdmVycmlkZXM/OiBQYXJ0aWFsPEl0ZW1Fc3RhYlF1ZXJ5UmVzdWx0PlxuKTogSXRlbUVzdGFiUXVlcnlSZXN1bHQge1xuICByZXR1cm4ge1xuICAgIGl0ZW1Db2RpZ286ICc3NTMwMTEwJyxcbiAgICBlc3RhYkNvZGlnbzogJzAxLjAxJyxcbiAgICBlc3RhYk5vbWU6ICdDRCBTw6NvIFBhdWxvJyxcbiAgICBjb2RPYnNvbGV0bzogMCxcbiAgICAuLi5vdmVycmlkZXMsXG4gIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEVTVEFCRUxFQ0lNRU5UTyAoUmVzcG9uc2UgRFRPKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1Fc3RhYmVsZWNpbWVudG8oXG4gIG92ZXJyaWRlcz86IFBhcnRpYWw8SXRlbUluZm9ybWFjb2VzR2VyYWlzRXN0YWJlbGVjaW1lbnRvPlxuKTogSXRlbUluZm9ybWFjb2VzR2VyYWlzRXN0YWJlbGVjaW1lbnRvIHtcbiAgcmV0dXJuIHtcbiAgICBpdGVtQ29kaWdvOiAnNzUzMDExMCcsXG4gICAgZXN0YWJDb2RpZ286ICcwMS4wMScsXG4gICAgZXN0YWJOb21lOiAnQ0QgU8OjbyBQYXVsbycsXG4gICAgc3RhdHVzSW5kZXg6IDEsIC8vIDAgPSBhdGl2byAoMSksIG91dHJvcyA9IGluYXRpdm8gKDIpXG4gICAgLi4ub3ZlcnJpZGVzLFxuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBJTkZPUk1Bw4fDlUVTIEdFUkFJUyAoUmVzcG9uc2UgRFRPIENvbXBsZXRvKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZm9ybWFjb2VzR2VyYWlzKFxuICBvdmVycmlkZXM/OiBQYXJ0aWFsPEl0ZW1JbmZvcm1hY29lc0dlcmFpcz5cbik6IEl0ZW1JbmZvcm1hY29lc0dlcmFpcyB7XG4gIHJldHVybiB7XG4gICAgaWRlbnRpZmljYWNhb0l0ZW1Db2RpZ286ICc3NTMwMTEwJyxcbiAgICBpZGVudGlmaWNhY2FvSXRlbURlc2NyaWNhbzogJ1ZBTFZVTEEgREUgRVNGRVJBIDEvMlwiIEJST05aRScsXG4gICAgaWRlbnRpZmljYWNhb0l0ZW1VbmlkYWRlOiAnVU4nLFxuICAgIGlkZW50aWZpY2FjYW9JdGVuc0VzdGFiZWxlY2ltZW50b3M6IFtcbiAgICAgIGNyZWF0ZUl0ZW1Fc3RhYmVsZWNpbWVudG8oKSxcbiAgICAgIGNyZWF0ZUl0ZW1Fc3RhYmVsZWNpbWVudG8oe1xuICAgICAgICBlc3RhYkNvZGlnbzogJzAyLjAxJyxcbiAgICAgICAgZXN0YWJOb21lOiAnRsOhYnJpY2EgSm9pbnZpbGxlJyxcbiAgICAgICAgc3RhdHVzSW5kZXg6IDIsXG4gICAgICB9KSxcbiAgICBdLFxuICAgIC4uLm92ZXJyaWRlcyxcbiAgfTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQVJSQVlTIERFIFRFU1RFIChtw7psdGlwbG9zIGl0ZW5zKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU11bHRpcGxlRXN0YWJlbGVjaW1lbnRvcyhcbiAgY291bnQ6IG51bWJlcixcbiAgYmFzZU92ZXJyaWRlcz86IFBhcnRpYWw8SXRlbUluZm9ybWFjb2VzR2VyYWlzRXN0YWJlbGVjaW1lbnRvPlxuKTogSXRlbUluZm9ybWFjb2VzR2VyYWlzRXN0YWJlbGVjaW1lbnRvW10ge1xuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY291bnQgfSwgKF8sIGkpID0+XG4gICAgY3JlYXRlSXRlbUVzdGFiZWxlY2ltZW50byh7XG4gICAgICBlc3RhYkNvZGlnbzogYDAke2kgKyAxfS4wMWAsXG4gICAgICBlc3RhYk5vbWU6IGBFc3RhYmVsZWNpbWVudG8gJHtpICsgMX1gLFxuICAgICAgc3RhdHVzSW5kZXg6IGkgJSAyID09PSAwID8gMSA6IDIsIC8vIEFsdGVybmEgZW50cmUgYXRpdm8vaW5hdGl2b1xuICAgICAgLi4uYmFzZU92ZXJyaWRlcyxcbiAgICB9KVxuICApO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDQVNPUyBFU1BFQ0lBSVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBJdGVtIHNlbSBlc3RhYmVsZWNpbWVudG9zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJdGVtU2VtRXN0YWJlbGVjaW1lbnRvcygpOiBJdGVtSW5mb3JtYWNvZXNHZXJhaXMge1xuICByZXR1cm4gY3JlYXRlSW5mb3JtYWNvZXNHZXJhaXMoe1xuICAgIGlkZW50aWZpY2FjYW9JdGVuc0VzdGFiZWxlY2ltZW50b3M6IFtdLFxuICB9KTtcbn1cblxuLyoqXG4gKiBJdGVtIGNvbSBlc3RhYmVsZWNpbWVudG8gb2Jzb2xldG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1Db21Fc3RhYk9ic29sZXRvKCk6IEl0ZW1JbmZvcm1hY29lc0dlcmFpcyB7XG4gIHJldHVybiBjcmVhdGVJbmZvcm1hY29lc0dlcmFpcyh7XG4gICAgaWRlbnRpZmljYWNhb0l0ZW5zRXN0YWJlbGVjaW1lbnRvczogW1xuICAgICAgY3JlYXRlSXRlbUVzdGFiZWxlY2ltZW50byh7XG4gICAgICAgIHN0YXR1c0luZGV4OiAyLCAvLyBPYnNvbGV0b1xuICAgICAgfSksXG4gICAgXSxcbiAgfSk7XG59XG5cbi8qKlxuICogSXRlbSBjb20gbcO6bHRpcGxvcyBlc3RhYmVsZWNpbWVudG9zICgxMClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1Db21NdWl0b3NFc3RhYnMoKTogSXRlbUluZm9ybWFjb2VzR2VyYWlzIHtcbiAgcmV0dXJuIGNyZWF0ZUluZm9ybWFjb2VzR2VyYWlzKHtcbiAgICBpZGVudGlmaWNhY2FvSXRlbnNFc3RhYmVsZWNpbWVudG9zOiBjcmVhdGVNdWx0aXBsZUVzdGFiZWxlY2ltZW50b3MoMTApLFxuICB9KTtcbn1cblxuLyoqXG4gKiBDw7NkaWdvcyBkZSBpdGVtIHBhcmEgdGVzdGVzIGRlIHZhbGlkYcOnw6NvXG4gKi9cbmV4cG9ydCBjb25zdCB0ZXN0SXRlbUNvZGlnb3MgPSB7XG4gIHZhbGlkOiBbXG4gICAgJzc1MzAxMTAnLFxuICAgICdBQkMxMjMnLFxuICAgICdJVEVNMDAxJyxcbiAgICAnMScsXG4gICAgJ0EnLFxuICAgICcxMjM0NTY3ODkwMTIzNDU2JywgLy8gMTYgY2FyYWN0ZXJlcyAobcOheGltbylcbiAgXSxcbiAgXG4gIGludmFsaWQ6IFtcbiAgICAnJywgLy8gVmF6aW9cbiAgICAnICAgJywgLy8gU8OzIGVzcGHDp29zXG4gICAgJzEyMzQ1Njc4OTAxMjM0NTY3JywgLy8gMTcgY2FyYWN0ZXJlcyAoZXhjZWRlIG3DoXhpbW8pXG4gICAgJ1NFTEVDVCAqIEZST00gaXRlbScsIC8vIFNRTCBJbmplY3Rpb25cbiAgICAnLi4vLi4vLi4vZXRjL3Bhc3N3ZCcsIC8vIFBhdGggVHJhdmVyc2FsXG4gICAgJzxzY3JpcHQ+YWxlcnQoMSk8L3NjcmlwdD4nLCAvLyBYU1NcbiAgICAnaXRlbTsgRFJPUCBUQUJMRSBpdGVtOy0tJywgLy8gU1FMIEluamVjdGlvbiBjb20gO1xuICAgICdpdGVtXFwnLS0nLCAvLyBTUUwgSW5qZWN0aW9uIGNvbSAnXG4gICAgJ2l0ZW18bHMnLCAvLyBDb21tYW5kIEluamVjdGlvblxuICAgICdpdGVtJiZ3aG9hbWknLCAvLyBDb21tYW5kIEluamVjdGlvblxuICAgICdpdGVtJFVTRVInLCAvLyBWYXJpYWJsZSBJbmplY3Rpb25cbiAgXSxcblxuICBzYW5pdGl6ZWQ6IFtcbiAgICB7IGlucHV0OiAnICA3NTMwMTEwICAnLCBleHBlY3RlZDogJzc1MzAxMTAnIH0sIC8vIFJlbW92ZSBlc3Bhw6dvc1xuICAgIHsgaW5wdXQ6ICdBQkMtMTIzJywgZXhwZWN0ZWQ6ICdBQkMxMjMnIH0sIC8vIFJlbW92ZSBow61mZW5cbiAgICB7IGlucHV0OiAnaXRlbVwidGVzdCcsIGV4cGVjdGVkOiAnaXRlbXRlc3QnIH0sIC8vIFJlbW92ZSBhc3Bhc1xuICAgIHsgaW5wdXQ6ICdpdGVtO3Rlc3QnLCBleHBlY3RlZDogJ2l0ZW10ZXN0JyB9LCAvLyBSZW1vdmUgcG9udG8gZSB2w61yZ3VsYVxuICBdLFxufTtcblxuLyoqXG4gKiBNZW5zYWdlbnMgZGUgZXJybyBlc3BlcmFkYXNcbiAqL1xuZXhwb3J0IGNvbnN0IGV4cGVjdGVkRXJyb3JzID0ge1xuICBpdGVtTm90Rm91bmQ6IChjb2RpZ286IHN0cmluZykgPT4gYEl0ZW0gJHtjb2RpZ299IG7Do28gZW5jb250cmFkb2AsXG4gIHZhbGlkYXRpb25FcnJvcjogJ0PDs2RpZ28gZG8gaXRlbSDDqSBvYnJpZ2F0w7NyaW8nLFxuICBpbnZhbGlkRm9ybWF0OiAnQ8OzZGlnbyBkbyBpdGVtIGNvbnTDqW0gY2FyYWN0ZXJlcyBpbnbDoWxpZG9zLiBVc2UgYXBlbmFzIGxldHJhcywgbsO6bWVyb3MgZSBjYXJhY3RlcmVzIGLDoXNpY29zJyxcbiAgbWF4TGVuZ3RoOiAnQ8OzZGlnbyBkbyBpdGVtIG7Do28gcG9kZSB0ZXIgbWFpcyBkZSAxNiBjYXJhY3RlcmVzJyxcbiAgc3FsSW5qZWN0aW9uOiAnQ8OzZGlnbyBkbyBpdGVtIGNvbnTDqW0gcGFkcsO1ZXMgbsOjbyBwZXJtaXRpZG9zJyxcbiAgY29tbWFuZEluamVjdGlvbjogJ0PDs2RpZ28gZG8gaXRlbSBjb250w6ltIGNhcmFjdGVyZXMgbsOjbyBwZXJtaXRpZG9zJyxcbn07Il0sInZlcnNpb24iOjN9