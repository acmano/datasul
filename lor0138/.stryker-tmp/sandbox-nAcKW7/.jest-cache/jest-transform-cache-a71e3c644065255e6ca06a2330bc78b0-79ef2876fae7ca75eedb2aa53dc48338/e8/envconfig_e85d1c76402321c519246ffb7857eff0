ef11dc827f194ed2491d6f4da8425756
"use strict";
// @ts-nocheck
// src/config/env.config.ts
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.serverConfig = exports.envConfig = exports.config = void 0;
exports.parseTimeout = parseTimeout;
const dotenv_1 = __importDefault(require("dotenv"));
const app_config_1 = require("./app.config");
dotenv_1.default.config();
/**
 * Parse de string de timeout para milissegundos
 * Aceita formatos: "30s", "5000ms", "5m", "5000"
 *
 * IMPORTANTE: Esta função é usada em TODO o projeto.
 * Garante que timeouts sempre sejam números válidos em ms.
 *
 * Formatos suportados:
 * - "30000" → 30000ms (número puro)
 * - "30s" → 30000ms (segundos)
 * - "30000ms" → 30000ms (milissegundos)
 * - "5m" → 300000ms (minutos)
 */
function parseTimeout(value, defaultValue) {
    if (!value)
        return defaultValue;
    // Se for número puro, retorna direto
    if (/^\d+$/.test(value)) {
        return parseInt(value, 10);
    }
    // ✅ IMPORTANTE: Verificar 'ms' ANTES de 's'
    // (porque 'ms' também termina com 's')
    if (value.endsWith('ms')) {
        return parseInt(value.slice(0, -2), 10);
    }
    // Se terminar com 's', converte segundos para ms
    if (value.endsWith('s')) {
        return parseInt(value.slice(0, -1), 10) * 1000;
    }
    // Se terminar com 'm', converte minutos para ms
    if (value.endsWith('m')) {
        return parseInt(value.slice(0, -1), 10) * 60000;
    }
    return defaultValue;
}
// ============================================
// CONFIGURAÇÃO CENTRALIZADA
// ============================================
exports.config = {
    // ==================== SERVIDOR ====================
    server: {
        port: parseInt(process.env.PORT || '3000', 10),
        nodeEnv: (process.env.NODE_ENV || 'development'),
        apiPrefix: process.env.API_PREFIX || '/api',
    },
    // ==================== BANCO DE DADOS ====================
    database: {
        // Tipo de conexão
        type: (process.env.DB_CONNECTION_TYPE || 'sqlserver'),
        useMockData: process.env.USE_MOCK_DATA === 'true',
        // SQL Server (usado pelo DatabaseManager)
        sqlServer: {
            server: process.env.DB_SERVER || app_config_1.appConfig.host,
            port: parseInt(process.env.DB_PORT || '1433', 10),
            user: process.env.DB_USER || '',
            password: process.env.DB_PASSWORD || '',
            // ✅ CORRETO: Usa DB_DATABASE_* (não DB_NAME_*)
            databaseEmp: process.env.DB_DATABASE_EMP || '',
            databaseMult: process.env.DB_DATABASE_MULT || '',
            // ✅ CORRETO: Usa parseTimeout para TODOS os timeouts
            connectionTimeout: parseTimeout(process.env.DB_CONNECTION_TIMEOUT, 15000),
            requestTimeout: parseTimeout(process.env.DB_REQUEST_TIMEOUT, 30000),
            encrypt: process.env.DB_ENCRYPT === 'true',
            trustServerCertificate: process.env.DB_TRUST_SERVER_CERTIFICATE === 'true',
        },
        // ODBC
        odbc: {
            dsnEmp: process.env.ODBC_DSN_EMP || '',
            dsnMult: process.env.ODBC_DSN_MULT || '',
            connectionTimeout: parseTimeout(process.env.ODBC_CONNECTION_TIMEOUT, 15000),
        },
        // Retry
        retry: {
            maxAttempts: parseInt(process.env.DB_RETRY_MAX_ATTEMPTS || '3', 10),
            initialDelay: parseTimeout(process.env.DB_RETRY_INITIAL_DELAY, 1000),
            maxDelay: parseTimeout(process.env.DB_RETRY_MAX_DELAY, 10000),
            backoffFactor: parseFloat(process.env.DB_RETRY_BACKOFF_FACTOR || '2'),
        },
    },
    // ==================== CORS ====================
    cors: {
        allowedOrigins: process.env.CORS_ALLOWED_ORIGINS
            ? process.env.CORS_ALLOWED_ORIGINS.split(',')
            : [app_config_1.appConfig.baseUrl],
    },
    // ==================== TIMEOUTS HTTP ====================
    timeout: {
        request: parseTimeout(process.env.HTTP_REQUEST_TIMEOUT, 30000),
        heavyOperation: parseTimeout(process.env.HTTP_HEAVY_TIMEOUT, 60000),
        healthCheck: parseTimeout(process.env.HTTP_HEALTH_TIMEOUT, 5000),
    },
    // ==================== CACHE (Redis) ====================
    cache: {
        enabled: process.env.CACHE_ENABLED === 'true',
        strategy: (process.env.CACHE_STRATEGY || 'memory'),
        redis: {
            url: process.env.CACHE_REDIS_URL || 'redis://lor0138.lorenzetti.ibe:6379',
        },
        defaultTTL: parseTimeout(process.env.CACHE_DEFAULT_TTL, 300000), // 5min padrão
    },
};
// ============================================
// EXPORTS COMPATÍVEIS (não quebra código existente)
// ============================================
/**
 * @deprecated Use 'config' ao invés de 'envConfig'
 */
exports.envConfig = exports.config;
/**
 * @deprecated Use 'config.server' diretamente
 */
exports.serverConfig = {
    port: exports.config.server.port,
    nodeEnv: exports.config.server.nodeEnv,
    apiPrefix: exports.config.server.apiPrefix,
    corsOrigin: exports.config.cors.allowedOrigins[0] || '*',
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvbWFuby9wcm9qZXRvcy9kYXRhc3VsL2xvcjAxMzgvLnN0cnlrZXItdG1wL3NhbmRib3gtbkFjS1c3L3NyYy9jb25maWcvZW52LmNvbmZpZy50cyIsIm1hcHBpbmdzIjoiO0FBQUEsY0FBYztBQUNkLDJCQUEyQjs7Ozs7O0FBb0IzQixvQ0F5QkM7QUEzQ0Qsb0RBQTRCO0FBQzVCLDZDQUF5QztBQUV6QyxnQkFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBRWhCOzs7Ozs7Ozs7Ozs7R0FZRztBQUNILFNBQWdCLFlBQVksQ0FBQyxLQUF5QixFQUFFLFlBQW9CO0lBQzFFLElBQUksQ0FBQyxLQUFLO1FBQUUsT0FBTyxZQUFZLENBQUM7SUFFaEMscUNBQXFDO0lBQ3JDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3hCLE9BQU8sUUFBUSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsNENBQTRDO0lBQzVDLHVDQUF1QztJQUN2QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUN6QixPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxpREFBaUQ7SUFDakQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDeEIsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDakQsQ0FBQztJQUVELGdEQUFnRDtJQUNoRCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUN4QixPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMs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QyxJQUFJLEdBQUc7Q0FDakQsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9tYW5vL3Byb2pldG9zL2RhdGFzdWwvbG9yMDEzOC8uc3RyeWtlci10bXAvc2FuZGJveC1uQWNLVzcvc3JjL2NvbmZpZy9lbnYuY29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1ub2NoZWNrXG4vLyBzcmMvY29uZmlnL2Vudi5jb25maWcudHNcclxuXHJcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuaW1wb3J0IHsgYXBwQ29uZmlnIH0gZnJvbSAnLi9hcHAuY29uZmlnJztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBkZSBzdHJpbmcgZGUgdGltZW91dCBwYXJhIG1pbGlzc2VndW5kb3NcclxuICogQWNlaXRhIGZvcm1hdG9zOiBcIjMwc1wiLCBcIjUwMDBtc1wiLCBcIjVtXCIsIFwiNTAwMFwiXHJcbiAqXHJcbiAqIElNUE9SVEFOVEU6IEVzdGEgZnVuw6fDo28gw6kgdXNhZGEgZW0gVE9ETyBvIHByb2pldG8uXHJcbiAqIEdhcmFudGUgcXVlIHRpbWVvdXRzIHNlbXByZSBzZWphbSBuw7ptZXJvcyB2w6FsaWRvcyBlbSBtcy5cclxuICpcclxuICogRm9ybWF0b3Mgc3Vwb3J0YWRvczpcclxuICogLSBcIjMwMDAwXCIg4oaSIDMwMDAwbXMgKG7Dum1lcm8gcHVybylcclxuICogLSBcIjMwc1wiIOKGkiAzMDAwMG1zIChzZWd1bmRvcylcclxuICogLSBcIjMwMDAwbXNcIiDihpIgMzAwMDBtcyAobWlsaXNzZWd1bmRvcylcclxuICogLSBcIjVtXCIg4oaSIDMwMDAwMG1zIChtaW51dG9zKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVGltZW91dCh2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBkZWZhdWx0VmFsdWU6IG51bWJlcik6IG51bWJlciB7XHJcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgLy8gU2UgZm9yIG7Dum1lcm8gcHVybywgcmV0b3JuYSBkaXJldG9cclxuICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcclxuICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xyXG4gIH1cclxuXHJcbiAgLy8g4pyFIElNUE9SVEFOVEU6IFZlcmlmaWNhciAnbXMnIEFOVEVTIGRlICdzJ1xyXG4gIC8vIChwb3JxdWUgJ21zJyB0YW1iw6ltIHRlcm1pbmEgY29tICdzJylcclxuICBpZiAodmFsdWUuZW5kc1dpdGgoJ21zJykpIHtcclxuICAgIHJldHVybiBwYXJzZUludCh2YWx1ZS5zbGljZSgwLCAtMiksIDEwKTtcclxuICB9XHJcblxyXG4gIC8vIFNlIHRlcm1pbmFyIGNvbSAncycsIGNvbnZlcnRlIHNlZ3VuZG9zIHBhcmEgbXNcclxuICBpZiAodmFsdWUuZW5kc1dpdGgoJ3MnKSkge1xyXG4gICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLnNsaWNlKDAsIC0xKSwgMTApICogMTAwMDtcclxuICB9XHJcblxyXG4gIC8vIFNlIHRlcm1pbmFyIGNvbSAnbScsIGNvbnZlcnRlIG1pbnV0b3MgcGFyYSBtc1xyXG4gIGlmICh2YWx1ZS5lbmRzV2l0aCgnbScpKSB7XHJcbiAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUuc2xpY2UoMCwgLTEpLCAxMCkgKiA2MDAwMDtcclxuICB9XHJcblxyXG4gIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENPTkZJR1VSQcOHw4NPIENFTlRSQUxJWkFEQVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBTRVJWSURPUiA9PT09PT09PT09PT09PT09PT09PVxyXG4gIHNlcnZlcjoge1xyXG4gICAgcG9ydDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuUE9SVCB8fCAnMzAwMCcsIDEwKSxcclxuICAgIG5vZGVFbnY6IChwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnKSBhcyAnZGV2ZWxvcG1lbnQnIHwgJ3Byb2R1Y3Rpb24nIHwgJ3Rlc3QnLFxyXG4gICAgYXBpUHJlZml4OiBwcm9jZXNzLmVudi5BUElfUFJFRklYIHx8ICcvYXBpJyxcclxuICB9LFxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBCQU5DTyBERSBEQURPUyA9PT09PT09PT09PT09PT09PT09PVxyXG4gIGRhdGFiYXNlOiB7XHJcbiAgICAvLyBUaXBvIGRlIGNvbmV4w6NvXHJcbiAgICB0eXBlOiAocHJvY2Vzcy5lbnYuREJfQ09OTkVDVElPTl9UWVBFIHx8ICdzcWxzZXJ2ZXInKSBhcyAnc3Fsc2VydmVyJyB8ICdvZGJjJyxcclxuICAgIHVzZU1vY2tEYXRhOiBwcm9jZXNzLmVudi5VU0VfTU9DS19EQVRBID09PSAndHJ1ZScsXHJcblxyXG4gICAgLy8gU1FMIFNlcnZlciAodXNhZG8gcGVsbyBEYXRhYmFzZU1hbmFnZXIpXHJcbiAgICBzcWxTZXJ2ZXI6IHtcclxuICAgICAgc2VydmVyOiBwcm9jZXNzLmVudi5EQl9TRVJWRVIgfHwgYXBwQ29uZmlnLmhvc3QsXHJcbiAgICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRCX1BPUlQgfHwgJzE0MzMnLCAxMCksXHJcbiAgICAgIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIgfHwgJycsXHJcbiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCB8fCAnJyxcclxuXHJcbiAgICAgIC8vIOKchSBDT1JSRVRPOiBVc2EgREJfREFUQUJBU0VfKiAobsOjbyBEQl9OQU1FXyopXHJcbiAgICAgIGRhdGFiYXNlRW1wOiBwcm9jZXNzLmVudi5EQl9EQVRBQkFTRV9FTVAgfHwgJycsXHJcbiAgICAgIGRhdGFiYXNlTXVsdDogcHJvY2Vzcy5lbnYuREJfREFUQUJBU0VfTVVMVCB8fCAnJyxcclxuXHJcbiAgICAgIC8vIOKchSBDT1JSRVRPOiBVc2EgcGFyc2VUaW1lb3V0IHBhcmEgVE9ET1Mgb3MgdGltZW91dHNcclxuICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IHBhcnNlVGltZW91dChwcm9jZXNzLmVudi5EQl9DT05ORUNUSU9OX1RJTUVPVVQsIDE1MDAwKSxcclxuICAgICAgcmVxdWVzdFRpbWVvdXQ6IHBhcnNlVGltZW91dChwcm9jZXNzLmVudi5EQl9SRVFVRVNUX1RJTUVPVVQsIDMwMDAwKSxcclxuXHJcbiAgICAgIGVuY3J5cHQ6IHByb2Nlc3MuZW52LkRCX0VOQ1JZUFQgPT09ICd0cnVlJyxcclxuICAgICAgdHJ1c3RTZXJ2ZXJDZXJ0aWZpY2F0ZTogcHJvY2Vzcy5lbnYuREJfVFJVU1RfU0VSVkVSX0NFUlRJRklDQVRFID09PSAndHJ1ZScsXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIE9EQkNcclxuICAgIG9kYmM6IHtcclxuICAgICAgZHNuRW1wOiBwcm9jZXNzLmVudi5PREJDX0RTTl9FTVAgfHwgJycsXHJcbiAgICAgIGRzbk11bHQ6IHByb2Nlc3MuZW52Lk9EQkNfRFNOX01VTFQgfHwgJycsXHJcbiAgICAgIGNvbm5lY3Rpb25UaW1lb3V0OiBwYXJzZVRpbWVvdXQocHJvY2Vzcy5lbnYuT0RCQ19DT05ORUNUSU9OX1RJTUVPVVQsIDE1MDAwKSxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gUmV0cnlcclxuICAgIHJldHJ5OiB7XHJcbiAgICAgIG1heEF0dGVtcHRzOiBwYXJzZUludChwcm9jZXNzLmVudi5EQl9SRVRSWV9NQVhfQVRURU1QVFMgfHwgJzMnLCAxMCksXHJcbiAgICAgIGluaXRpYWxEZWxheTogcGFyc2VUaW1lb3V0KHByb2Nlc3MuZW52LkRCX1JFVFJZX0lOSVRJQUxfREVMQVksIDEwMDApLFxyXG4gICAgICBtYXhEZWxheTogcGFyc2VUaW1lb3V0KHByb2Nlc3MuZW52LkRCX1JFVFJZX01BWF9ERUxBWSwgMTAwMDApLFxyXG4gICAgICBiYWNrb2ZmRmFjdG9yOiBwYXJzZUZsb2F0KHByb2Nlc3MuZW52LkRCX1JFVFJZX0JBQ0tPRkZfRkFDVE9SIHx8ICcyJyksXHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09IENPUlMgPT09PT09PT09PT09PT09PT09PT1cclxuICBjb3JzOiB7XHJcbiAgICBhbGxvd2VkT3JpZ2luczogcHJvY2Vzcy5lbnYuQ09SU19BTExPV0VEX09SSUdJTlNcclxuICAgICAgPyBwcm9jZXNzLmVudi5DT1JTX0FMTE9XRURfT1JJR0lOUy5zcGxpdCgnLCcpXHJcbiAgICAgIDogW2FwcENvbmZpZy5iYXNlVXJsXSxcclxuICB9LFxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBUSU1FT1VUUyBIVFRQID09PT09PT09PT09PT09PT09PT09XHJcbiAgdGltZW91dDoge1xyXG4gICAgcmVxdWVzdDogcGFyc2VUaW1lb3V0KHByb2Nlc3MuZW52LkhUVFBfUkVRVUVTVF9USU1FT1VULCAzMDAwMCksXHJcbiAgICBoZWF2eU9wZXJhdGlvbjogcGFyc2VUaW1lb3V0KHByb2Nlc3MuZW52LkhUVFBfSEVBVllfVElNRU9VVCwgNjAwMDApLFxyXG4gICAgaGVhbHRoQ2hlY2s6IHBhcnNlVGltZW91dChwcm9jZXNzLmVudi5IVFRQX0hFQUxUSF9USU1FT1VULCA1MDAwKSxcclxuICB9LFxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBDQUNIRSAoUmVkaXMpID09PT09PT09PT09PT09PT09PT09XHJcbiAgY2FjaGU6IHtcclxuICAgIGVuYWJsZWQ6IHByb2Nlc3MuZW52LkNBQ0hFX0VOQUJMRUQgPT09ICd0cnVlJyxcclxuICAgIHN0cmF0ZWd5OiAocHJvY2Vzcy5lbnYuQ0FDSEVfU1RSQVRFR1kgfHwgJ21lbW9yeScpIGFzICdtZW1vcnknIHwgJ3JlZGlzJyB8ICdsYXllcmVkJyxcclxuICAgIHJlZGlzOiB7XHJcbiAgICAgIHVybDogcHJvY2Vzcy5lbnYuQ0FDSEVfUkVESVNfVVJMIHx8ICdyZWRpczovL2xvcjAxMzgubG9yZW56ZXR0aS5pYmU6NjM3OScsXHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdFRUTDogcGFyc2VUaW1lb3V0KHByb2Nlc3MuZW52LkNBQ0hFX0RFRkFVTFRfVFRMLCAzMDAwMDApLCAvLyA1bWluIHBhZHLDo29cclxuICB9LFxyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRVhQT1JUUyBDT01QQVTDjVZFSVMgKG7Do28gcXVlYnJhIGPDs2RpZ28gZXhpc3RlbnRlKVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIEBkZXByZWNhdGVkIFVzZSAnY29uZmlnJyBhbyBpbnbDqXMgZGUgJ2VudkNvbmZpZydcclxuICovXHJcbmV4cG9ydCBjb25zdCBlbnZDb25maWcgPSBjb25maWc7XHJcblxyXG4vKipcclxuICogQGRlcHJlY2F0ZWQgVXNlICdjb25maWcuc2VydmVyJyBkaXJldGFtZW50ZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHNlcnZlckNvbmZpZyA9IHtcclxuICBwb3J0OiBjb25maWcuc2VydmVyLnBvcnQsXHJcbiAgbm9kZUVudjogY29uZmlnLnNlcnZlci5ub2RlRW52LFxyXG4gIGFwaVByZWZpeDogY29uZmlnLnNlcnZlci5hcGlQcmVmaXgsXHJcbiAgY29yc09yaWdpbjogY29uZmlnLmNvcnMuYWxsb3dlZE9yaWdpbnNbMF0gfHwgJyonLFxyXG59OyJdLCJ2ZXJzaW9uIjozfQ==